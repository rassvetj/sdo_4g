<?php
require_once APPLICATION_PATH . '/views/infoblocks/ScreenForm.php';
class HM_View_Infoblock_Notification extends HM_View_Infoblock_ScreenForm
{  

  # TODO Зафиксировать этот инфоблок и запретить удалять его студентам.
  
  protected $id = 'notification';
  protected $class = 'scrollable';
  
  private $_hesAnyDebt = false;
  
  private $_serviceDebt 		= null;
  private $_serviceAgreement 	= null;
  private $_servicePayment	 	= null;
  private $_servicePaymentCode 	= null;
  
  public function notification($title = null, $attribs = null, $options = null)
  {
	$this->_userService = $this->getService('User');	
	$user = $this->_userService->getCurrentUser();
	
	$this->_hesAnyDebt = $this->renderMilitary();
	
	$allow_mid_external = array(
		'1',
		#'617358',		
		#'643297','643299','643302','643303','643305','643312','643313','643316','643318','643336','643341','643350','643351','168972','598438','599676','600205','600551','600653','600724','600803','600919','601224','601330','601810','601910','602032','602037','602550','602942','648983','648990','648991','648994','648995','650332','650333','650759','650776','650801','650803','650805','650808','650809','650810','650813','650815','650816','650817','650818','650819','650822','650825','650826','650831','650833','650834','650835','650836','650837','650865','650866','650870','650873','650875','650876','650877','650878','650879','650883','650884','650885','650887','650893','650896','650897','650899','650902','650903','650904','650951','650954','650955','650957','650958','650959','650960','650961','650963','650964','650967','650968','650969','650970','650971','650972','650975','650977','650979','650980','650981','650983','650986','650987','650988','650990','650991','650992','650993','650994','650995','650996','650997','650999','651000','651001','651002','651003','651005','651006','651007','651009','651017','651018','651020','651022','651024','651026','651027','651028','651029','651030','651031','651033','651034','651035','651036','651037','651038','651040','651043','651044','651045','651047','651049','651051','651052','651053','651055','651062','651064','651065','651066','651068','651069','651071','651072','651074','651075','651076','651078','651080','651081','651083','651084','651086','651087','651089','651092','651093','651094','651096','651097','651098','651099','651101','651103','651105','651106','651109','651110','651113','651114','651115','651116','651118','651121','651122','651124','651126','651129','651130','651131','651133','651134','651135','651138','651139','651141','651142','651144','651146','651147','651149','651150','651151','651152','651153','651154','651156','651157','651158','651159','651160','651164','651166','651169','651170','651173','651175','651176','651179','651180','651251','651372','651581','651583','651587','651595','651753','651755','651756','651758','651759','651760','651761','651763','651764','651765','651767','651769','651770','651771','651773','651775','651776','651778','651779','651781','651783','651784','651786','651788','651790','651791','651792','651794','651795','651796','651797','651799','651800','651801','651802','651803','651804','651808','651809','651811','651813','651814','651816','651817','651818','651819','651820','651821','651822','651824','651825','651826','651828','651829','651831','651834','651835','651839','651841','651842','651844','651846','651847','651848','651849','651851','651852','651853','651854','651856','651860','651862','651863','651866','651867','651868','651869','651870','651872','651873','651875','651876','651877','651878','651880','651881','651887','651888','651890','651894','651895','651897','651898','651899','651900','651901','651902','651903','651904','651905','651906','651908','651910','651911','651913','651914','651916','651917','651918','651919','651922','651923','651924','651925','651926','651927','651928','651929','651929','651930','651931','651932','651936','651939','651940','651941','651943','651944','651945','651946','651947','651948','651948','651949','651950','651952','651953','651954','651955','651956','651958','651961','651962','651965','651966','651967','651970','651971','651972','651973','651976','651979','651981','651983','651984','651985','651986','651987','651988','651989','651990','651991','651992','651994','651997','651998','651999','652001','652002','652006','652007','652008','652011','652012','652013','652014','652015','652016','652017','652019','652020','652021','652022','652023','652024','652025','652026','652027','652028','652030','652031','652032','652033','652034','652036','652037','652038','652039','652041','652042','652044','652047','652048','652049','652051','652053','652054','652055','652057','652058','652059','652060','652061','652065','652066','652068','652069','652070','652072','652073','652074','652075','652076','652078','652079','652080','652081','652081','652082','652082','652084','652085','652086','652087','652089','652091','652092','652092','652093','652094','652096','652097','652100','652102','652105','652106','652109','652111','652114','652115','652117','652118','652122','652123','652127','652129','652135','652136','652138','652139','652140','652141','652142','652144','652146','652147','652150','652151','652152','652153','652154','652155','652156','652157','652161','652162','652163','652164','652165','652166','652167','652168','652171','652172','652174','652175','652177','652179','652180','652181','652183','652184','652185','652186','652187','652188','652189','652190','652194','652195','652196','652197','652199','652200','652202','652203','652204','652205','652206','652207','652208','652210','652211','652212','652214','652215','652216','652217','652218','652219','652220','652221','652222','652223','652224','652225','652227','652228','652229','652231','652232','652233','652234','652236','652237','652238','652239','652241','652242','652244','652245','652248','652249','652251','652252','652253','652254','652256','652259','652263','652264','652265','652267','652269','652270','652271','652275','652276','652277','652278','652279','652280','652281','652282','652288','652290','652294','652296','652297','652299','652300','652301','652302','652304','652305','652306','652307','652309','652310','652311','652312','652313','652314','652316','652317','652318','652320','652322','652323','652325','652326','652328','652329','652330','652331','652332','652338','652340','652341','652342','652343','652346','652347','652350','652352','652353','652355','652356','652358','652359','652360','652362','652363','652364','652366','652367','652368','652370','652371','652372','652373','652374','652375','652376','652378','652380','652381','652382','652385','652386','652387','652388','652389','652390','652392','652393','652394','652395','652396','652397','652398','652399','652400','652401','652401','652402','652404','652405','652408','652409','652410','652412','652413','652416','652417','652418','652419','652422','652423','652424','652425','652426','652427','652428','652432','652434','652436','652437','652439','652440','652445','652448','652450','652451','652452','652454','652455','652456','652457','652458','652459','652460','652462','652464','652465','652466','652467','652468','652470','652472','652474','652475','652479','652480','652481','652482','652483','652484','652485','652487','652488','652490','652492','652493','652495','652496','652497','652499','652500','652502','652506','652508','652509','652511','652513','652514','652515','652516','652517','652518','652519','652520','652522','652523','652524','652525','652526','652528','652529','652530','652532','652533','652536','652537','652538','652718','652832','652833','652834','652835','652836','652837','652838','652839','652840','652841','652842','652843','652844','652846','652847','652848','652849','652850','652851','652853','652855','652856','652857','652859','652860','652861','652862','652863','653002','653004','653005','653053','653054','653055','653057','653059','653060','653061','653062','653063','653066','653067','653068','653069','653070','653072','653073','653075','653076','653077','653078','653079','653080','653081','653082','653083','653085','653086','653087','653088','653089','653090','653091','653092','653093','653095','653096','653098','653100','653101','653102','653103','653104','653105','653106','653108','653109','653110','653111','653113','653114','653116','653117','653118','653119','653120','653121','653122','653124','653125','653126','653127','653128','653130','653132','653133','653135','653140','653141','653143','653145','653148','653150','653151','653152','653153','653156','653157','653158','653159','653160','653161','653162','653163','653164','653165','653166','653167','653168','653169','653170','653171','653173','653174','653175','653176','653177','653181','653182','653183','653184','653185','653187','653188','653190','653191','653192','653193','653194','653195','653196','653197','653199','653200','653201','653202','653203','653212','653213','653214','653219','653220','653223','653224','653225','653226','653227','653228','653229','653229','653230','653231','653232','653233','653235','653237','653238','653239','653240','653241','653242','653243','653244','653245','653246','653248','653249','653250','653251','653252','653253','653254','653256','653257','653258','653259','653260','653261','653262','653264','653265','653266','653267','653268','653269','653270','653271','653272','653273','653274','653275','653276','653277','653278','653279','653281','653282','653283','653284','653285','653288','653289','653290','653292','653292','653293','653294','653296','653297','653298','653299','653300','653301','653302','653304','653305','653307','653309','653310','653311','653312','653314','653317','653318','653319','653321','653322','653323','653325','653326','653328','653329','653330','653331','653332','653334','653335','653336','653337','653339','653340','653341','653343','653344','653345','653346','653347','653348','653349','653350','653351','653354','653355','653356','653357','653358','653360','653361','653363','653364','653365','653366','653367','653369','653370','653372','653374','653376','653378','653381','653383','653384','653385','653386','653387','653388','653389','653390','653391','653392','653393','653394','653395','653396','653397','653398','653399','653400','653402','653403','653404','653405','653406','653407','653408','653409','653410','653411','653412','653413','653414','653415','653417','653419','653420','653422','653423','653424','653427','653430','653432','653434','653435','653436','653438','653439','653440','653441','653444','653445','653446','653447','653448','653450','653451','653452','653453','653454','653455','653456','653457','653458','653459','653460','653462','653464','653465','653466','653467','653468','653469','653470','653471','653473','653474','653476','653477','653478','653479','653480','653481','653482','653483','653484','653486','653487','653489','653490','653491','653493','653494','653496','653497','653498','653499','653501','653502','653503','653505','653508','653510','653513','653514','653515','653516','653517','653518','653519','653520','653521','653523','653524','653525','653527','653528','653530','653531','653532','653533','653534','653535','653536','653539','653540','653541','653542','653543','653544','653545','653546','653547','653548','653549','653551','653552','653553','653554','653555','653558','653559','653561','653562','653563','653564','653565','653565','653566','653569','653570','653571','653572','653573','653574','653575','653576','653578','653579','653580','653581','653582','653584','653585','653586','653587','653589','653592','653593','653594','653595','653596','653597','653598','653599','653600','653601','653602','653604','653605','653608','653609','653610','653611','653612','653614','653615','653617','653618','653622','653622','653623','653624','653625','653626','653628','653630','653631','653632','653633','653634','653635','653636','653637','653638','653639','653640','653641','653642','653644','653645','653646','653647','653649','653652','653653','653655','653656','653657','653658','653659','653660','653661','653663','653667','653668','653669','653673','653674','653676','653677','653678','653679','653680','653682','653685','653686','653687','653688','653689','653690','653691','653692','653693','653694','653697','653698','653699','653700','653701','653702','653703','653704','653705','653707','653709','653711','653713','653714','653715','653717','653718','653719','653720','653721','653722','653723','653724','653726','653727','653728','653729','653730','653731','653734','653736','653737','653738','653739','653740','653741','653742','653743','653744','653745','653746','653748','653749','653751','653752','653755','653756','653757','653758','653759','653760','653761','653762','653763','653765','653766','653767','653768','653770','653772','653773','653774','653776','653778','653779','653780','653781','653782','653783','653784','653785','653786','653787','653788','653790','653791','653792','653794','653795','653796','653797','653798','653799','653800','653801','653802','653803','653806','653808','653809','653810','653811','653812','653813','653814','653815','653816','653818','653820','653821','653822','653823','653824','653825','653826','653827','653828','653829','653830','653831','653832','653833','653834','653835','653838','653843','653844','653846','653847','653848','653849','653850','653851','653852','653854','653855','653857','653858','653859','653860','653861','653862','653863','653864','653865','653866','653867','653868','653869','653870','653871','653873','653874','653875','653876','653877','653878','653879','653880','653881','653882','653883','653884','653885','653887','653888','653889','653890','653891','653892','653893','653894','653895','653897','653898','653899','653900','653901','653902','653903','653904','653905','653906','653907','653908','653910','653911','653912','653913','653914','653916','653917','653919','653920','653921','653922','653923','653924','653925','653926','653927','653928','653930','653931','653932','653934','653935','653937','653941','653945','653947','653948','653961','653962','653963','653964','653965','653967','654000','654002','654003','654004','654005','654172','654173','654174','654175','654176','654177','654178','654179','654180','654182','654183','654184','654185','654188','654189','654190','654191','654192','654193','654194','654195','654196','654197','654198','654199','654200','654201','654202','654203','654204','654206','654207','654208','654209','654210','654211','654212','654213','654215','654216','654217','654218','654219','654220','654221','654222','654223','654223','654224','654225','654227','654228','654229','654231','654232','654235','654236','654237','654238','654239','654241','654242','654243','654244','654245','654246','654248','654249','654250','654252','654253','654254','654255','654256','654258','654259','654260','654261','654264','654265','654266','654267','654269','654272','654273','654274','654275','654276','654277','654278','654280','654281','654282','654283','654284','654285','654286','654287','654288','654289','654290','654291','654293','654294','654295','654296','654297','654298','654299','654301','654303','654304','654305','654306','654307','654308','654309','654310','654312','654313','654314','654315','654316','654317','654318','654319','654321','654322','654323','654324','654325','654326','654327','654328','654329','654331','654333','654334','654335','654337','654339','654340','654342','654343','654344','654345','654346','654347','654348','654350','654351','654352','654353','654354','654355','654356','654357','654358','654359','654360','654362','654363','654364','654366','654367','654368','654369','654370','654371','654372','654373','654374','654375','654377','654378','654380','654381','654382','654383','654384','654385','654386','654387','654388','654390','654391','654392','654393','654394','654395','654397','654398','654399','654400','654401','654402','654403','654404','654405','654406','654407','654408','654409','654410','654412','654413','654418','654427','654429','654430','654432','654433','654437','654440','654441','654450','654451','654452','654454','654455','654456','654457','654462','654463','654465','654470','654471','654473','654475','654476','654478','654481','654482','654483','654484','654486','654490','654492','654493','654494','654495','654496','654497','654498','654499','654501','654502','654503','654504','654506','654507','654508','654509','654510','654512','636453','526974','527149','527453','527946','528349','528388','528589','528679','528838','528874','529018','529158','467881','471103','471851','471984','472967','479124','480189','482604','486637','489560','489641','649035','649036','649037','649038','649040','649075','649076','649078','649079','649080','649081','649084','649087','649089','621293','621303','621319','621321','621386','621387','621555','622041','622116','622282','622406','622487','622654','623013','501667','508639','510248','512594','520958','636821','636845','636873','636875','637019','637046','637551','637645','637744','637746','579800','460083','460429','460655','461446','462149','168516','603429','603457','537882','464403','643098','643100','643108','643116','643121','643122','643127','643131','643133','643134','643135','643139','643140','643141','643142','643143','643144','643150','643152','643154','643155','643158','643159','643160','643163','643164','643165','643167','643168','643169','643170','643172','643175','643177','643181','643182','643183','643185','643187','643196','643197','643201','643203','635745','635767','635768','635769','635770','635772','635774','635775','635776','635778','635780','635784','635785','635786','635788','635789','635790','635794','635795','635800','635801','635802','635804','635809','635810','635813','635814','635815','635821','635823','635824','635825','635827','635828','635830','635832','635836','635840','635842','635845','635846','635848','635850','635852','635853','635855','635857','635860','635863','635865','635866','635867','635868','635871','635872','635873','635875','635876','635878','635879','635880','635881','635882','635883','635884','635885','635888','654513','654514','654515','654516','654517','654518','654519','654520','654521','654522','654523','654524','654525','654526','654527','654528','654529','654531','654532','654533','654534','654535','654536','654537','654538','654539','654541','654542','654543','654545','654546','654547','654548','654549','654550','654551','654552','654553','654554','654555','654556','654557','654558','654559','654560','654561','654562','654563','654564','654565','654566','654568','654570','654571','654572','654573','654574','654576','654577','654578','654579','654580','654581','654583','654585','654586','654588','654589','654590','654591','654592','654593','654594','654596','654598','654599','654601','654602','637919','637920','637924','637925','637927','637931','637932','637933','637937','637939','637940','637942','637943','637946','637947','637948','637949','637950','637951','637953','637955','637956','637957','637961','637962','637963','637964','637965','637967','637968','637970','637971','637972','637974','637975','637976','637977','637979','637981','637984','637987','637988','637991','637992','637993','637995','637996','637999','638001','638002','638005','638006','638007','638009','638012','638013','638014','638071','638072','638073','638074','638075','638081','638083','638084','638086','638090','638092','638101','638116','638117','638119','638121','638124','638125','638126','638128','638131','638137','638139','638145','638151','638152','638153','638154','638158','638161','638163','638166','638168','638169','638171','638172','638174','638175','638176','638177','638182','638183','638186','638187','638192','638193','638196','638198','638202','638203','638207','638208','638209','638211','638215','638216','638217','638218','638220','638225','638229','638231','638232','638234','638235','638237','638238','638274','638276','638277','638278','638279','638281','638282','638283','638285','638286','638287','638291','638293','638294','638295','638296','638297','638323','638324','638327','638328','638394','638395','638397','638398','638400','638401','638402','638403','638404','638406','638407','638409','638410','638412','638414','638416','638417','638528','638529','638531','638532','638533','638534','638535','638536','638537','638541','638543','638550','638554','638556','638557','638558','638562','638564','638566','638567','638569','638572','638575','638576','638578','638579','638580','638585','638586','638592','638593','638594','638597','638599','638600','638601','638602','638605','638615','638616','638618','638620','638630','638631','638636','638640','638644','638651','638652','638655','638656','638658','638660','638662','638663','638666','638675','638685','638692','638693','638695','638697','638699','638702','638703','638704','638706','638710','638711','638712','638713','638715','638718','638721','638725','638729','638736','638738','638739','638742','638743','638745','638751','638752','638754','638755','638756','638760','638761','638764','638767','638768','638769','638774','638776','638778','638779','638780','638782','638783','638786','638787','638790','638791','638792','638793','638797','638799','638800','638801','638802','638803','638805','638806','638807','638809','638810','638811','638812','638814','638815','638821','638823','638824','638827','638828','638829','638830','638831','638842','638843','638844','638847','638850','638852','638853','638855','638856','638857','638858','638861','638866','638869','638870','638871','638876','638878','638881','638883','638884','638886','638887','638888','638890','638895','638896','638897','638898','638900','638903','638962','638964','639002','639004','639012','639013','639016','639017','639018','639021','639025','639028','639029','639031','639033','639034','639035','639036','639038','639039','639040','639041','639042','639044','639045','639048','639051','639052','639054','639056','639059','639060','639389','639551','639593','640720','640840','640843','640844','640872','640873','640875','640876','640878','640889','640892','640893','640894','640896','640901','640909','640912','640914','640918','640920','640926','640927','640928','640932','640933','640936','640937','640955','640959','640961','640962','640968','640970','640972','640974','640975','640976','640977','640978','640979','641081','641082','641083','641084','641088','641089','641090','641091','641093','641094','641096','641097','641098','641101','641104','641105','641106','641108','641109','641214','641215','641216','641221','641282','641325','641327','641329','641330','641332','641333','641336','641337','641339','641340','641341','641342','641343','641344','641346','641352','641358','641359','641362','641363','641366','641368','641370','641374','641377','641381','641383','641387','641396','641448','641450','641452','641458','641459','641460','641462','641472','641473','641474','641475','641476','641477','641479','641482','641484','641485','641489','641490','641496','641497','641498','641500','641501','641509','641518','641519','641520','641521','641522','641523','641526','641527','641528','641551','641558','641559','641562','641563','641566','641568','641571','641574','641589','641591','641593','641595','641596','641599','641600','641601','641602','641603','641604','641605','641606','641609','641610','641611','641614','641616','641619','641621','641623','641624','641625','641626','641627','641628','641630','641631','641633','641634','641635','641637','641638','641642','641643','641644','641646','641648','641652','641654','641655','641658','641661','641664','641665','641668','641670','641671','641672','641676','641677','641679','641681','641683','641685','641686','641687','641688','641711','641713','641722','641723','641724','641737','641745','641748','641751','641754','641755','641769','641773','641776','641778','641779','642051','642055','642057','642058','642059','642060','642061','642062','642064','642066','642068','642098','642105','642106','642121','642122','642125','642128','642130','642131','642132','642134','642146','642148','642152','642154','642156','642158','642162','642165','642175','642180','642194','642197','642199','642231','642232','642233','642234','642235','642238','642279','642286','642312','642364','642374','642375','642378','642379','642382','642390','642392','642393','642395','642398','642401','642406','642407','642414','642418','642420','642487','642488','642489','642490','642491','642492','642496','642498','642499','642500','642502','642503','642504','642506','642507','642510','642511','642512','642513','642516','642522','642525','642526','642543','642550','642610','642611','642613','642614','654614','654615','654616','654618','654619','654620','654623','654626','654627','654628','654629','654630','654631','654632','654636','654637','654638','654639','654640','654643','654644','654645','654646','654647','168405','649111','649122','649127','649140','649143','649146','649175','649178','649192','649193','649205','649210','649226','649235','649239','649242','649244','649246','649264','649272','649281','649283','649284','649286','649293','649298','649303','649305','649312','649313','649322','649323','649326','649333','649337','649340','649343','649354','649356','649368','649369','649370','649372','649373','649380','649382','649383','649389','649390','649398','649400','538899','643370','644164','644165','644172','644173','644221','644224','644227','644230','644262','644316','644317','644318','644319','644320','644321','644322','644323','644325','644332','644357','644358','644363','644364','644366','644367','644369','644372','644373','644374','644376','644379','644382','644383','644384','644385','644386','644389','644391','644392','644398','644399','644663','644681','644682','644683','644684','644685','644687','644689','644690','644691','644693','644696','644697','644698','644701','644702','644703','644704','644705','644710','644712','644716','644720','644721','644727','644728','644730','644732','644734','644738','644741','644742','644743','644744','644746','644748','644752','644754','644758','644768','644770','644772','644773','644779','644780','644781','644782','644783','644784','644785','644787','644789','644791','644792','644796','644800','644801','644802','644805','644806','644808','644810','644812','644813','644814','644816','644818','644820','644821','644823','644824','644826','644828','644829','644832','644833','644834','644836','644848','644849','644850','644853','644856','644858','644860','644861','644863','644864','644866','644868','644871','644872','644887','644890','644900','644903','644906','644907','644908','644909','644910','644911','644912','644913','644914','644915','644916','644917','644918','644919','644921','644923','644924','644925','644926','644927','644930','644931','644933','644938','644941','644942','644943','644947','644948','644951','644952','644955','644956','644958','644960','644964','644965','644966','644967','644968','644969','644970','644971','644973','644974','644975','644976','644977','644979','644980','644981','644983','644984','644985','644987','644989','644991','644992','644994','644998','645001','645002','645003','645010','645011','645016','645019','645026','645027','645029','645031','645032','645034','645037','645039','645045','645077','645079','645082','645085','645086','645087','645088','645090','645091','645093','645100','645101','645102','645105','645106','645108','645109','645113','645115','645118','645119','645120','645121','645126','645127','645131','645133','645135','645136','645137','645138','645139','645141','645143','645144','645145','645146','645149','645150','645152','645154','645156','645157','645158','645159','645161','645162','645164','645165','645167','645169','645170','645171','645172','645173','645175','645176','645177','645178','645179','645180','645181','645182','645183','645184','645185','645186','645188','645191','645192','645193','645194','645195','645197','645198','645200','645202','645203','645204','645208','645210','645211','645217','645219','645220','645221','645222','645223','645232','645235','645236','645237','645238','645239','645243','645244','645245','645246','645247','645250','645252','645255','645256','645257','645258','645259','645261','645262','645263','645264','645265','645267','645268','645271','645272','645273','645276','645277','645278','645279','645295','645296','645297','645298','645299','645300','645301','645302','645303','645306','645307','645308','645309','645311','645313','645315','645316','645317','645326','645334','645335','645336','645337','645338','645339','645342','645346','645347','645348','645350','645351','645353','645355','645356','645357','645358','645359','645360','645363','645366','645368','645369','645370','645372','645373','645374','645376','645377','645378','645381','645382','645383','645384','645386','645388','645391','645392','645393','645398','645401','645404','645405','645406','645407','645409','645410','645413','645415','645420','645426','645431','645432','645433','645435','645436','645440','645441','645443','645445','645447','645449','645452','645454','645455','645459','645460','645461','645462','645464','645465','645467','645469','645470','645471','645472','645473','645474','645476','645478','645482','645484','645486','645488','645489','645490','645491','645496','645498','645501','645503','645504','645509','645512','645513','645524','645528','645529','645533','645536','645558','645560','645649','645649','646498','646663','646663','646664','646665','646666','646667','646668','646669','647003','647014','647015','647016','647017','647019','647020','647023','647024','647025','647027','647028','647029','647030','647031','647034','647036','647039','647044','647045','647047','647050','647051','647052','647053','647054','647057','647061','647066','647067','647070','647071','647072','647075','647076','647077','647078','647079','647081','647083','647085','647086','647087','647095','647096','647097','647098','647099','647100','647102','647106','647107','647111','647112','647113','647116','647117','647118','647121','647123','647124','647126','647127','647128','647130','647131','647132','647133','647137','647140','647142','647144','647146','647147','647149','647150','647154','647155','647156','647158','647159','647160','647161','647162','647163','647164','647165','647166','647167','647168','647169','647170','647171','647172','647174','647175','647177','647178','647179','647180','647182','647183','647185','647189','647193','647194','647195','647197','647201','647202','647203','647205','647206','647207','647209','647211','647213','647214','647217','647219','647220','647223','647225','647226','647227','647229','647230','647232','647233','647234','647235','647236','647237','647238','647239','647240','647242','647243','647245','647246','647247','647249','647252','647253','647254','647255','647258','647259','647260','647265','647266','647267','647268','647269','647270','647271','647273','647275','647276','647279','647281','647282','647283','647284','647285','647288','647290','647291','647295','647296','647298','647300','647305','647307','647310','647313','647314','647318','647321','647322','647323','647324','647327','647328','647330','647331','647332','647335','647336','647337','647339','647342','647343','647345','647346','647347','647348','647350','647351','647354','647355','647356','647357','647358','647359','647361','647362','647363','647364','647365','647366','647368','647369','647370','647373','647374','647375','647376','647377','647378','647379','647380','647381','647383','647384','647385','647388','647389','647390','647391','647392','647393','647394','647395','647396','647397','647398','647400','647402','647403','647405','647406','647408','647409','647411','647412','647415','647416','647417','647419','647421','647422','647423','647427','647428','647430','647431','647432','647433','647434','647436','647437','647438','647439','647441','647442','647447','647448','647449','647451','647452','647455','647456','647457','647458','647460','647461','647463','647464','647469','647470','647471','647474','647477','647478','647479','647483','647485','647486','647487','647488','647489','647491','647492','647493','647494','647495','647496','647497','647502','647503','647504','647506','647509','647511','647512','647515','647516','647518','647521','647522','647524','647525','647526','647530','647531','647532','647533','647536','647538','647540','647541','647544','647545','647546','647547','647549','647550','647552','647558','647561','647563','647565','647567','647574','647575','647576','647580','647581','647582','647583','647585','647588','647589','647590','647591','647592','647594','647595','647597','647599','647601','647602','647603','647604','647605','647606','647610','647612','647615','647616','647617','647619','647620','647623','647625','647627','647632','647633','647636','647637','647638','647639','647641','647642','647643','647644','647645','647646','647648','647651','647652','647653','647657','647658','647660','647661','647662','647663','647664','647665','647666','647668','647671','647672','647675','647676','647677','647678','647680','647681','647682','647683','647684','647685','647686','647687','647688','647689','647696','647698','647699','647700','647701','647702','647703','647706','647709','647710','647712','647713','647714','647715','647718','647720','647722','647726','647727','647729','647730','647731','647732','647733','647734','647735','647737','647738','647743','647744','647745','647747','647749','647750','647752','647753','647755','647756','647757','647758','647760','647761','647767','647768','647769','647771','647772','647777','647778','647779','647781','647782','647785','647786','647790','647791','647792','647796','647800','647801','647803','647805','647806','647810','647811','647813','647814','647818','647819','647821','647831','647832','647834','647835','647837','647839','647842','647843','647846','647847','647849','647850','647852','647853','647854','647856','647858','647860','647862','647863','647866','647872','647873','647874','647876','647877','647878','647879','647880','647881','647883','647884','647885','647886','647888','647890','647891','647892','647894','647897','647898','647899','647902','647911','647912','647913','647914','647915','647916','647917','647920','647922','647924','647926','647927','647928','647929','647930','647931','647932','647933','647934','647935','647937','647939','647946','647947','647949','647950','647952','647953','647955','647956','647957','647958','647960','647961','647962','647967','647970','647971','647973','647974','647975','647976','647978','647979','647981','647982','647983','647984','647985','647986','647987','647988','647989','647990','647991','647993','647994','647996','647997','648000','648001','648003','648004','648005','648008','648009','648010','648012','648013','648014','648016','648017','648019','648022','648024','648026','648028','648029','648030','648032','648033','648034','648035','648036','648039','648041','648042','648043','648044','648045','648046','648048','648049','648051','648052','648053','648056','648057','648058','648060','648062','648063','648064','648065','648067','648068','648069','648071','648073','648075','648077','648081','648082','648083','648084','648085','648086','648087','648088','648091','648093','648094','648095','648097','648098','648099','648100','648101','648102','648103','648105','648106','648107','648108','648112','648113','648115','648117','648120','648125','648126','648131','648133','648144','648152','648214','648296','648297','648299','648300','648302','648304','648305','648307','648308','648309','648312','648314','648316','648317','648322','648324','648325','648331','648332','648333','648336','648340','648341','648345','648349','648350','648351','648352','648353','648354','648355','648356','648357','648358','648359','648360','648361','648363','648365','648366','648367','648368','648369','648370','648373','648374','648376','648379','648381','648383','648384','648385','648386','648389','648392','648393','648394','648395','648396','648399','648400','648402','648404','648405','648407','648408','648409','648412','648413','648416','648417','648419','648420','648424','648425','648427','648428','648430','648432','648437','648438','648439','648442','648445','648450','648452','648453','648454','648457','648459','648460','648462','648463','648464','648465','648466','648467','648468','648469','648472','648475','648476','648477','648478','648481','648483','648484','648485','648490','648492','648493','648494','648495','648497','648498','648499','648501','648502','648503','648504','648506','648507','648508','648509','648510','648512','648513','648514','648515','648516','648517','648519','648520','648521','648522','648523','648526','648527','648528','648529','648531','648532','648533','648534','648535','648536','648537','648538','648540','648544','648545','648548','648549','648550','648552','648553','648554','648555','648556','648557','648558','648559','648563','648564','648565','648566','648567','648569','648570','648571','648572','648573','648575','648580','648584','648586','648590','648591','648593','648594','648596','648606','648607','648609','648611','648612','648615','648618','648619','648620','648621','648625','648626','648642','648643','648645','648646','648649','648650','648651','648652','648660','648661','648665','648671','648672','648674','648675','648676','648680','648681','648691','648696','648699','648700','648702','648713','648717','648718','648720','648721','648724','648732','648733','648739','648743','648745','648747','648749','648753','648754','648756','648757','648759','648760','648761','648763','648770','648771','648773','648777','648779','614754','614759','615017','615354','615363','615388','615414','615688','615739','615750','615774','615776','615862','615959','615970','615975','615983','616076','616218','616705','616712','616719','616729','616765','616766','616767','616768','616769','616770','616772','616774','616775','616866','616877','616984','617235','617236','617238','617239','617241','617242','617243','617244','617252','617253','617255','617258','617331','617338','617351','617383','617445','617456','617500','617520','617596','617771','619073','619449','619963','619969','620619','620691','620696','620724','620756','620783','621117','165367','552508','537249','648784','648786','648787','648788','648789','648793','648798','648799','648802','648803','648804','648805','648810','648813','648815','648820','648824','648829','648830','648831','648832','648834','648837','648841','648842','648843','648844','648845','648846','648848','648849','648852','648853','648854','648855','648856','648858','648859','648860','648861','648862','648863','648865','648866','648867','648868','648870','648871','648873','648875','648876','648877','648878','648879','648880','648882','648883','648884','648885','648886','648888','648890','648892','648894','648895','648896','648897','648898','648900','648901','648903','648904','648906','648908','648909','648910','648911','648913','648914','648915','648916','648917','648921','648922','648923','648925','648926','648927','648928','648929','648930','648931','648932','648933','648934','648935','648936','648939','648940','648943','648945','648946','648947','648948','648949','648950','648951','648952','648954','648955','648957','648959','648960','648961','648963','648964','648967','648968','648969','648970','648972','648973','648975','648976','649098','649099','649103','649105','649106','491570','491949','493285','462792','462914','463110','463198','463232','463740','635048','635049','635051','635052','635054','635055','635056','635085','635125','635180','635182','635183','635190','635195','635196','635197','635198','635202','635205','635208','635209','635210','635211','635213','635214','635215','635217','635218','635221','635222','635223','635229','635230','635238','635242','635243','635255','635256','635259','635260','635262','635264','635265','635271','635274','635275','635276','635281','635282','635283','635291','635292','635294','635304','635315','635316','635321','635334','635335','635336','635339','635340','635347','635348','635349','611171','611699','612271','612296','612297','612303','612489','612532','538278','614575','623234','623500','623597','623695','624223','649000','649001','649002','649003','649004','649006','649007','649009','649011','649014','649020','649021','649023','649024','649025','649027','649030','649031','624847','624881','624916','625061','625105','625110','625215','625377','625444','625494','625864','625892','625980','625990','625996','626022','626024','626026','626071','626084','626091','626092','626093','626095','626097','626098','626099','626100','626105','626107','626108','626109','626110','626111','626113','626115','626116','626121','626122','626124','626125','626129','626130','626131','626133','626134','626135','626138','626159','626167','626191','626205','626349','626350','626351','626353','626354','626356','626357','626359','626360','626363','626367','626381','626382','626383','626385','626392','626856','626864','627023','627024','627026','627027','627037','627044','627046','627047','627048','627049','627050','627051','627052','627054','627055','627056','627116','627119','627126','627127','627128','627130','627834','627837','627838','627846','627850','627852','627853','627855','627856','627857','627858','627937','627945','627985','628004','628017','628162','628164','628173','628177','628193','628197','628200','628201','628206','628207','628483','628613','628616','628629','628689','628692','628696','628699','628700','628702','628703','628705','628707','628708','628709','628710','628711','628715','628716','628717','628718','628721','628723','628724','628728','628730','628732','628736','628737','628741','628744','628746','628749','628750','628753','628757','628758','628762','628764','628767','628833','628854','628882','628884','628888','628891','628893','628894','628902','629112','629115','629116','629118','629119','629120','629121','629122','629124','629125','629127','629131','629133','629134','629135','629137','629138','629139','629141','629143','629232','629233','629234','629235','629237','629239','629243','629244','629248','629249','629250','629251','629252','629253','629254','629256','629257','629259','629260','629263','629264','629265','629266','629269','629270','629272','629274','629276','629277','629278','629281','629282','629284','629286','629287','629288','629290','629291','629292','629293','629296','629298','629300','629307','629308','629310','629314','629315','629316','629318','629319','629321','629328','629336','629337','629342','629349','629355','629356','629358','629359','629360','629367','629427','629434','629436','629437','629439','629440','629452','629455','629456','629457','629482','629486','629487','629493','629498','629504','629511','629513','629518','629520','629522','629523','629711','629724','629744','629752','629754','629756','629787','629788','629790','629791','629792','629796','629797','629800','629802','629803','629804','629805','629847','629848','629853','629914','629916','630040','630054','630072','630079','630090','630102','630121','630126','630151','630153','630154','630155','630156','630157','630158','630260','630285','630291','630304','630316','630350','630371','630379','630394','630395','630406','630408','630411','630413','630415','630416','630418','630419','630421','630425','630428','630429','630430','630431','630432','630433','630434','630435','630436','630438','630440','630443','630445','630448','630450','630451','630615','630662','630663','630665','630668','630671','630672','630674','630675','630678','630679','630682','630683','630684','630685','630689','630690','630691','630693','630697','630698','630699','630701','630702','630703','630704','630706','630719','630725','630727','630728','630732','630735','630737','630738','630739','630740','630744','630745','630747','630749','630750','630756','630757','630758','630760','630761','630764','630765','630766','630767','630768','630770','630771','630772','630773','630775','630776','630779','630925','630926','630927','630928','630930','630931','630933','630935','630936','630937','630939','630940','630941','630942','630943','630944','630946','630948','630949','630970','631143','631173','631183','631208','631210','631211','631212','631221','631224','631305','631309','631311','631312','631314','631315','631316','631318','631319','631320','631321','631354','631359','631360','631362','631365','631366','631520','631585','631588','631592','631598','631602','631604','631609','631668','631672','631674','631677','631679','631683','631685','631686','631687','631690','631691','631694','631699','631700','631724','631725','631727','631729','631730','631731','631733','631761','631762','631768','631769','631770','631771','631772','631773','631774','631775','631776','631777','631778','631779','631782','631783','631784','631790','631794','631795','631798','631799','631802','631804','631809','631810','631811','631812','631814','631819','631821','631822','631826','631827','631828','631829','631830','631831','631832','631834','631837','631838','631841','631847','631849','631855','631864','631867','631877','631885','631910','631919','631926','631932','631946','631953','631962','631967','631972','631986','632005','632017','632019','632020','632022','632023','632028','632032','632033','632034','632036','632037','632039','632046','632053','632057','632058','632062','632066','632078','632083','632099','632102','632103','632104','632106','632107','632108','632110','632111','632112','632114','632115','632116','632117','632119','632120','632121','632125','632127','632161','632164','632165','632166','632168','632175','632179','632180','632183','632184','632189','632193','632194','632197','632198','632199','632201','632202','632204','632206','632223','632224','632225','632226','632229','632231','632236','632242','632244','632245','632246','632247','632248','632251','632252','632256','632265','632266','632267','632268','632270','632271','632273','632274','632275','632276','632291','632295','632297','632301','632305','632307','632308','632309','632310','632312','632318','632321','632325','632326','632327','632328','632329','632330','632331','632332','632333','632334','632337','632338','632340','632341','632343','632344','632345','632346','632347','632348','632349','632409','632411','632413','632416','632422','632588','633094','633569','634049','654648','654649','654652','654653','654654','529889','530184','530362','530651','530834','531660','532428','532621','532625','532674','533902','533936','533973','533977','534392','534408','534933','535160','535443','607545','608061','608334','609617','610224','610655','654605','654610','165963','166348','166498','166767','167443','463911','535725','535818','1791','2570','6829','8315','13460','16416','16449',
		
	);
	
	if(in_array($user->mid_external, $allow_mid_external)){
		
		# Кэш в авторизационной сессии
		$user_info = new Zend_Session_Namespace('user-info');
		
		if(!$this->_serviceAgreement) { $this->_serviceAgreement = $this->getService('StudentNotificationAgreement'); }	
		
		# академический долг
		if($user_info->has_debt_agreement === true)	{ $d_isHasAgreement = true; } 
		else 										{ $d_isHasAgreement = $this->_serviceAgreement->hasAgreement($user->MID, HM_StudentNotification_Agreement_AgreementModel::TYPE_PAYMENT); }
		
		if($d_isHasAgreement === true){
			
		} else {	
			$this->_hesAnyDebt   = true;
			$this->view->payment = $this->view->render('notifications/payment.tpl');		
		}
	}
    
	#if($user->MID == 67744){
		#echo '......';
		#$this->_hesAnyDebt = true;
		#$this->view->payment	= $this->view->render('notifications/payment.tpl');		
	#}
	
	/*
	$this->_userService = $this->getService('User');	
	$user = $this->_userService->getCurrentUser();
	
	# Кэш в авторизационной сессии
	$user_info = new Zend_Session_Namespace('user-info');		
		
	if(!$this->_servicePaymentCode)	{ $this->_servicePaymentCode 	= $this->getService('PaymentCode');	}
	
	if(!isset($user_info->personal_code)){
		$user_info->personal_code = $this->_servicePaymentCode->getCode($user->mid_external);		
	} 	
	
	$personal_code = $user_info->personal_code;

	
	$this->view->headLink()->appendStylesheet(Zend_Registry::get('config')->url->base.'css/rgsu_style.css');
	
	if(!$this->_serviceAgreement) { $this->_serviceAgreement = $this->getService('StudentNotificationAgreement'); }	
	
	# академический долг
	if($user_info->has_debt_agreement === true)	{ $d_isHasAgreement = true; } 
	else 										{ $d_isHasAgreement = $this->_serviceAgreement->hasAgreement($user->MID, HM_StudentNotification_Agreement_AgreementModel::TYPE_DEBT); }
	
	if($d_isHasAgreement === true){ $user_info->has_debt_agreement = true; }
	
	if(empty($d_isHasAgreement)){	
		
		if(!isset($user_info->has_debt)){
			if(!$this->_serviceDebt) { $this->_serviceDebt = $this->getService('StudentDebt'); }
			$user_info->has_debt = $this->_serviceDebt->getCount($user->mid_external);				
		}
		$hasDebt = $user_info->has_debt;
		
		if(!empty($hasDebt)){
			$this->_hesAnyDebt	= true;
			$this->view->debt	= $this->view->render('notifications/debt.tpl');
		} 
	}
	
	
	# долг по платежам
	if($user_info->has_debt_payment_agreement === true)	{ $p_isHasAgreement = true; } 
	else 												{ $p_isHasAgreement = $this->_serviceAgreement->hasAgreement($user->MID, HM_StudentNotification_Agreement_AgreementModel::TYPE_PAYMENT); }
	
	if($p_isHasAgreement === true){ $user_info->has_debt_payment_agreement = true; }
	
	
	if(empty($p_isHasAgreement)){
		
		if(!isset($user_info->has_debt_payment)){
			if(!$this->_servicePayment) { $this->_servicePayment = $this->getService('StudentPayment'); }	
			$user_info->has_debt_payment = $this->_servicePayment->hasDebt($personal_code);
		}
		$hasDebtPayment = $user_info->has_debt_payment;
		
		if(!empty($hasDebtPayment)){
			$this->_hesAnyDebt		= true;
			$this->view->payment	= $this->view->render('notifications/payment.tpl');
		} 
	}
	*/
	
	if(!$this->_hesAnyDebt){
		$title	 = '&nbsp;';
		$content = '
			<style>
				#'.$this->id.' { display:none; }
			</style>';
	} else {		
		$content = $this->view->render('notification.tpl');
	}
	/*
	$serviceContainer = Zend_Registry::get('serviceContainer');
    $this->id = strtolower(substr(str_replace('HM_View_Infoblock_', '', get_class($this)), 0, 1)).substr(str_replace('HM_View_Infoblock_', '', get_class($this)), 1);
    ###########################	
	
	$recruitInfo = $this->getService('Recruits')->getRecruitInfo($user->mid_external);
	if(empty($recruitInfo)){
		$title = '&nbsp;';
		$content = '
			<style>
				#recruit { display:none; }
			</style>';			
	} else {	
		$title = 'Военно-учетный стол';
		$content = $this->view->render('recruit.tpl');
	}	
	##########################
    unset($attribs['param']);
    if ($title == null) return $content;
	*/
	
	
    
    return parent::screenForm($title, $content, $attribs);
    
  }
  
  
	private function renderMilitary()
	{	
		if(strtotime('25.09.2019 23:59:59') < time()){ return false; }
		
		# мужчина, 1 курс, РГСУ, возраст от 18 до 27 лет.
		$allow_mid_external = array('77', '624826','632152','644722','655847','655859','655860','655932','655947','655951','655959','655960','655961','655975','655981','655985','656008','656014','656021','656031','656044','656053','656065','656079','656091','656096','656097','656102','656124','656133','656188','656193','656210','656213','656219','656222','656234','656237','656240','656243','656246','656254','656255','656256','656259','656261','656265','656268','656294','656296','656299','656304','656337','656356','656357','656358','656366','656367','656371','656377','656379','656381','656382','656383','656387','656390','656391','656393','656401','656415','656425','656429','656442','656450','656464','656465','656468','656473','656480','656485','656489','656494','656497','656498','656505','656507','656509','656515','656540','656541','656547','656549','656552','656562','656563','656570','656585','656586','656588','656603','656611','656617','656644','656653','656831','656981','657005','657006','657011','657012','657016','657078','657086','657089','657126','657127','657141','657147','657148','657149','657181','657184','657192','657524','657542','657543','657553','657562','657602','657623','657630','657643','657746','657753','657754','657767','657768','657769','657775','657783','657785','657834','657835','657869','657879','658150','658151','658171','658172','658174','658177','658179','658323','658329','658332','658348','658360','658362','658364','658372','655927','655936','655940','655962','655967','655973','655980','655983','655986','655991','656010','656015','656056','656080','656081','656130','656178','656180','656185','656186','656198','656199','656205','656207','656209','656212','656216','656220','656235','656236','656239','656242','656244','656245','656247','656248','656249','656251','656253','656270','656271','656272','656273','656291','656298','656301','656302','656303','656333','656336','656353','656354','656355','656360','656363','656364','656372','656373','656380','656384','656385','656386','656388','656392','656394','656397','656421','656431','656435','656439','656441','656443','656445','656451','656474','656476','656477','656481','656484','656486','656488','656492','656504','656523','656531','656539','656542','656543','656553','656555','656557','656560','656561','656567','656569','656573','656574','656577','656583','656600','656601','656637','656639','656646','656654','656739','656937','656952','656953','656960','656998','656999','657004','657009','657010','657013','657014','657015','657017','657079','657092','657094','657095','657137','657145','657169','657189','657193','657195','657196','657197','657200','657201','657202','657206','657528','657529','657530','657537','657538','657544','657545','657556','657564','657589','657590','657603','657620','657621','657627','657634','657635','657638','657747','657750','657760','657764','657779','657827','657830','657876','657882','657883','657885','658142','658143','658149','658170','658173','658328','658333','658335','658336','658353','658354','658357','659278','657717','657725','657728','658205','658207','658209','658212','658213','658214','658216','658218','658204','658206','658208','658210','658211','658215','655989','655992','655996','656308','656322','657651','657672','657886','657887','657892','657895','657898','657899','657902','657903','657907','657911','657912','657913','657915','657927','657959','657960','657977','658002','658115','658116','658117','658134','658138','655987','656141','656158','656159','656164','656313','656314','656621','656622','656625','657595','657653','657659','657668','657888','657896','657901','657904','657914','657916','657921','657935','657949','657965','657972','657983','657987','657993','657996','658000','658110','658113','658122','658123','658124','658125','658131','658135','658136','658351','658359','655988','655999','656113','656116','656277','656279','656280','656305','656320','656350','655941','656323','656614','656620','657677','656888','657806','657836','657846','657854','657679','657681','657682','657684','657689','657805','657809','657813','657816','657841','657850','657857','658363','658366','659268');
		$user 				= $this->getService('User')->getCurrentUser();
		
		
		if(!in_array($user->mid_external, $allow_mid_external)){ return false; }
		
		
		if(!$this->_serviceAgreement) { $this->_serviceAgreement = $this->getService('StudentNotificationAgreement'); }	
		$isHasAgreement = $this->_serviceAgreement->hasAgreement($user->MID, HM_StudentNotification_Agreement_AgreementModel::TYPE_MILITARY); 
		
		if($isHasAgreement){ return false; }		
		
		$this->view->fio = $user->LastName.' '.$user->FirstName.' '.$user->Patronymic;
		
		$this->view->military = $this->view->render('notifications/military.tpl');
		$content = $this->view->render('notification.tpl');
		return true;
	}
  
  
}