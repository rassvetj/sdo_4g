<?php

/*
 *  custom log
 * */
function ll($str){
    $f=fopen("C:\\Temp\\logs\\1.log", "a");
    fwrite($f, $str.PHP_EOL);
    fclose($f);
}

function lv($var){
    ob_start();
    var_dump($var);
    $res = ob_get_clean();

    ll($res);
}

class StudentNotificationAgreement_AjaxController extends HM_Controller_Action
{
	private $_serviceAgreement 	= null;
	
	public function init()
    {
        parent::init();
    }
    
    
    public function indexAction()
    {		
		
    }
	
	
	# ajax html-контент уведомления
	# уведомления формируются поочередно, а не все разом
	public function renderAction()
	{
		$user = $this->getService('User')->getCurrentUser();
		
		# зашел от имени другого польователя
    /*
		if($this->getService('User')->isLoginAs()){
			die;
		}
	*/
		# Заполнение СНИЛС и ИНН
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_SNILS_INN, $user->mid_external);
			if(
				$info !== NULL
				#||
				#in_array($user->mid_external, array())
			){
				$configFtp = Zend_Registry::get('config')->ftp;
				$userInfo  = $this->getService('UserInfoConfirm')->getByUser($user->MID);
				
				$this->view->inn            = $userInfo->inn;
				$this->view->snils          = $userInfo->snils;
				$this->view->inn_file       = $this->getService('FilesFtp')->getFileInfo($userInfo->inn_ftp_file_id);
				$this->view->snils_file     = $this->getService('FilesFtp')->getFileInfo($userInfo->snils_ftp_file_id);
				
				echo '
					<script src="/js/lib/maskedinput/jquery.maskedinput.js"></script>
					<script>
						$(".mask-inn").mask("999999999999");
						$(".mask-snils").mask("999-999-999 99");
					</script>
				';
				
				
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_SNILS_INN);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Заполнение информации');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_SNILS_INN;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		
		
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT			
		){
			if($this->getService('MyPaymentsDetails')->hasDebt($user->mid_external)){
				$this->view->userName       = $user->getName();
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_31);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_31;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}


		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
			#&&
			#in_array($user->mid_external, array('77', '660623'))
		){
			$userInfo = $this->getService('UserInfo')->getCurrentUserInfo();
			if($userInfo && $userInfo->isGraduate == 1){
				$graduateYear = date('Y', strtotime($userInfo->date_graduation));
				if(
					($userInfo->study_form == HM_User_Info_InfoModel::STUDY_FORM_FULL_TIME && $graduateYear == date('Y'))
					||
					($userInfo->study_form != HM_User_Info_InfoModel::STUDY_FORM_FULL_TIME)
				){
					$this->view->userName       = $user->getName();
					$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_DIPLOM);
					if(!empty($this->view->popup_content)){
						$this->view->popup_title 		= _('Заполнение диплома');
						$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_DIPLOM;
						echo $this->view->render('ajax/notification/wrapper.tpl');
						die;
					}
				}
			}
		}
		
		
		# Уведомление  о пропаже файлов и повторного прикрепления работ.
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			if(in_array(
				$user->MID,
				array(
					5829, 68932,77422,56322,75543,77213,75465,75821,63757,67623,62851,67546,73825,74430,69736,63756,61367,74434,69957,75839,75873,75198,69961,76449,77104,58940,61518,75591,65604,65749,64612,61279,74616,77645,68174,61596,67398,76343,73972,74428,76820,65754,75513,60282,60881,78871,62862,77880,77464,67786,67590,65759,65707,77112,66874,58808,62858,58931,77398,61186,70113,76323,77117,69484,77873,66740,60751,72020,69522,69978,61556,75775,76883,64607,77147,77236,76822,61397,68233,77127,76722,76437,76124,66503,66684,76793,53385,66582,58745,67591,61570,62860,77207,65435,73826,65814,62855,56516,62857,76077,62828,75103,62850,69753,73095,62849,76669,70160,56388,65851,75487,66416,63316,62612,75569,74617,65680,76406,70196,69078,76475,77174,44340,78116,77778,67275,75703,76630,69764,77172,62859,73994,73677,62847,58496,76166,66566,66975,74522,77175,69926,77961,77239,77394,65958,74022,63318,63761,74622,69612,61249,65787,72912,61207,65789,77278,74431,68305,66867,77238,60004,67051,69752
				)
			)){
				$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_11);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Прикрепление работ в СДО РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_11;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}

        # Опрос 75
        $user_role = $this->getService('User')->getCurrentUserRole();
        //lv($user_role);
        if(
            $this->getService('Acl')->inheritsRole($user_role, HM_Role_RoleModelAbstract::ROLE_ENDUSER)
        ){
            $this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_75, $user_role);
            if(!empty($this->view->popup_content)){
                $this->view->popup_title 		= _('Опрос');
                $this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_75;
                echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
            }
        }

		# Опрос 76
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_76);
			if(!empty($this->view->popup_content)){
				$this->view->popup_title 		= _('Обязательное тестирование первокурсников');
				$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_76;
				echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
			}
		}
		
		
		# уведомление подтверждение контактной информации	
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){	
			
			# Получаем инфу которую уже раньше подтвердил пользователь.
			if(!$this->_serviceAgreement) { $this->_serviceAgreement = $this->getService('StudentNotificationAgreement'); }	
			if(!$this->_serviceAgreement->hasAgreement($user->MID, HM_StudentNotification_Agreement_AgreementModel::TYPE_DIST_LEARNING)){
				$this->view->skype = $user->Skype;
				$this->view->email = $user->EMail;
				$this->view->phone = $user->Phone;
				
				$confirmed_info = $this->getService('UserInfoConfirm')->getByUser($user->MID);
				if($confirmed_info){
					$this->view->skype_confirmed = empty($confirmed_info->skype) ? false : true;
					$this->view->email_confirmed = empty($confirmed_info->email) ? false : true;
					$this->view->phone_confirmed = empty($confirmed_info->phone) ? false : true;
				}
				
				# все данные подтвержуны, скрываем попап
				if($this->view->skype_confirmed && $this->view->email_confirmed && $this->view->phone_confirmed){ 
					$this->_serviceAgreement->add($user->MID, HM_StudentNotification_Agreement_AgreementModel::TYPE_DIST_LEARNING);
				}
			}
		
			$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_DIST_LEARNING);
			if(!empty($this->view->popup_content)){
				$this->view->popup_title 		= _('Подтверждение контактной информации');
				$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_DIST_LEARNING;
				echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
			}
		}

		# Смена реквизитов расчетного счета РГСУ в г.Клин		
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			#&&
			#$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){	
			$allow_users = array(
				'77','663897','663839','663844','663846','663888','663887','663840','663909','663837','663896','663843','659643','663842','663895','663835','663845','663854','665333','665567','665334','665566','665570','665330','665329','665572','658831','663927','661738','663852','663849','663850','663935','663932','663856','663937','663851','662243','662251','662262','662265','662269','662276','662248','662245','662263','662252','662246','662261','662260','662237','662239','662254','662275','662253','661735','663925','663940','663944','663914','663938','663847','663941','663871','663866','663926','663870','666963','663865','663939','663942','663943','663945','665338','658425','665576','665325','665577','665559','665560','665328','665582','665584','665340','665575','665580','665579','665327','665323','665554','665324','665557','665583','665578','665335','665336','665555','665561','662235','663760','662225','663251','662287','662279','662282','663262','662280','662233','663759','662223','663253','662226','662231','662224','662229','662291','662228','662289','662283','662236','662222','662281','663252','662284','662232','663254','662286','662230','662277','662227','662288','663899','663960','663885','662567','663883','663954','663893','662573','662577','663905','663987','662575','662580','663980','663973','663952','663958','662570','663949','663892','663906','663981','663953','663974','663898','663891','663904','662579','662571','663882','663880','663877','662569','661739','663959','663894','663979','663968','662578','662566','663890','663910','665337','663955','663881','662572','663886','663957','663967','663884','663889','663951','663879','663956','663985','663900','663975','658516','658667','659640','666898','659482','658557','658600','658592','658481','659407','659513','659743','659581','659161','659524','659048','659580','659687','659027','659361','655733','655731','659355','659360','659354','659356','655734','659359','659358','659357','659773','658931','652896','659728','658381','659056','658901','659727','658506','659566','659568','659617','659676','652908','658764','659207','658442','658736','652914','659745','655740','655737','655742','655736','655741','655743','655738','655739','659245','658578','658910','658544','659539','659512','666942','659667','659013','659140','658476','659474','659548','658801','659583','658787','659475','659074','658862','659520','658386','659427','659432','659763','659519','658998','659017','658921','659063','658821','658973','659606','660519','658972','658446','631785','665814','658906','659491','659573','658462','659426','655747','637809','655744','655745','655748','658780','658097','659729','659625','658745','658105','659626','658166','659665','658158','658165','658162','659674','658157','654148','658100','658167','658107','660533','658099','658169','658108','651591','659637','659682','654650','658159','658103','659779','658092','659739','658106','658164','658098','658090','660565','658091','658093','652893','652990','654119','654660','654120','652992','654121','654133','654122','652993','654123','652994','641798','629426','654124','652995','652996','652997','654125','652998','654126','665996','659832','653000','654127','653001','665785','654163','654162','654166','654167','654164','652894','652898','654147','652901','652903','654657','654150','652905','652907','652909','652910','654152','652911','654153','652913','652915','650763','650764','650765','650766','650767','650769','532835','650770','650771','650772','654141','652916','652917','653451','659839','652918','654143','652919','654145','652921','654146','654132','654134','638546','659829','631891','654655','652924','654128','652923','652904','652925','665987','652926','652927','652928','654129','654130','652929','652930','654131','652931','652932','618670','659885','654156','654157','654158','654159','651580','651581','644661','651576','654137','654138','651577','665999','646958','654139','651579','640906','654140','646663','660245','640936','646980','646840','648218','631927','646664','646841','646843','646844','631931','648219','646845','648220','648221','647001','646847','646665','646848','648222','646849','632051','648208','660561','646668','648640','648630','648634','648635','648637','648638','644213','648641','646970','648202','648199','648196','646972','646502','646979','648197','647005','646981','648198','618460','646984','648200','646986','646987','646503','646990','646991','648201','646995','646997','646998','647000','647002','646504','659840','647006','644200','644201','644202','644203','644204','644206','637823','637828','644208','644209','644210','644211','644214','644215','644216','644218','644219','644220','646507','646975','646508','646509','646983','646510','646511','648213','643201','647004','646512','639190','646670','648210','646672','646673','646675','646676','646677','646971','646850','654486','646851','646853','611347','646856','644670','646858','525459','654656','649016','646996','654487','646860','646868','646861','646863','646864','646866','646867','644673','646667','648991','646985','648195','648193','646870','646930','646932','640902','646934','646935','646936','648216','646976','646939','646978','646955','646940','646941','644662','644663','659907','646944','646988','646946','654477','619636','646947','644664','646948','644665','646949','646952','646953','646954','646957','646999','653968','646959','649022','624011','646960','647003','646961','646962','646963','640921','646966','646968','646969','648990','632128','641810','641812','641817','641819','641818','642580'
			);
			if(in_array($user->mid_external, $allow_users)){
			
				$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_12);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Смена реквизитов расчетного счета РГСУ в г.Клин');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_12;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}		
		
		# уведомление о потеряннх файлах.		
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
		){	
			$allow_users = array(
				5829, 69235,70396,63948,68179,63522,68279,68927,70640,56382,65532,71094,56396,71780,69301,72040,71112,70093,66540,69534,27743,70699,71160,69803,68314,63334,70000,49378,49368,70780,66766,70233,54813,68651,64588,71917,72014,71338,69210,61265,56264,62930,71891,49984,48419,65704,66974,71739,71157,68128,70939,64709,50092,71011,71458,65745,69606,49136,68096,62772,58119,70726,70425,63734,61213,64450,68981,48979,71109,63298,59616,67270,66596,54243,68944,65746,63599,70392,69514,57163,49537,71980,71964,66291,64327,27750,63504,70034,50166,70257,58315,69219,66552,54063,68319,70639,68677,70491,71186,63396,72102,69531,71100,70229,58282,71705,66467,71893,68207,62825,66741,71230,70704,68543,70608,71711,51882,72360,64372,63401,72115,69360,63515,66497,71819,50336,56307,57189,69890,57218,72105,62714,70242,67355,72550,72753,66068,71032,68453,71248,72058,69957,69528,61529,70540,70782,63485,70941,70447,66549,65518,63889,27295,71778,71657,57272,68810,66512,57695,68964,68869,58232,71823,58064,70536,71179,71814,72007,63341,56378,62766,66688,63647,56451,67670,64066,56372,69948,65934,68899,62830,64002,70764,66464,63486,69036,71043,72236,66522,68859,70886,57427,70516,71406,68212,68450,59083,67077,65936,20229,62867,71974,66730,66910,70611,72085,72022,69603,71189,72071,64459,69659,69047,58148,68124,71241,69477,57860,71261,72312,56610,66537,68542,66523,68790,64644,68632,72107,68893,70461,66495,69214,70234,58313,68996,58140,71560,70565,71802,69575,63468,71453,68251,63884,69149,69084,64247,70249,69894,54148,72097,68362,62789,72440,65631,62432,48374,72136,71469,58245,70380,68313,61228,64135,71956,66728,58152,63416,69698,68174,49453,64650,57702,68451,57147,69467,57190,69060,69722,70221,72114,71572,57166,71809,70393,72297,71585,56327,71615,64562,61356,65638,54834,48579,68454,64646,72076,66505,49597,69740,65754,64918,71351,63398,65862,69611,71833,70535,71102,63637,71709,70297,58072,70391,70262,71845,70755,68161,66675,69609,70408,72005,71648,67272,57186,71993,72043,71520,67350,61614,56411,70596,71456,63611,63721,63393,68523,18954,63723,71979,66090,64038,71242,64861,56500,62957,63286,65755,69481,69574,65688,68940,63352,71562,66610,65695,62600,66865,50335,71752,64039,58994,71139,62244,66882,69225,64844,71710,63406,69666,69905,72138,69262,60531,71121,71666,70358,49617,70658,71049,58184,69168,59972,53336,71656,63660,63639,54153,68315,71540,63394,63340,69147,48578,66507,70926,50235,57938,70924,67211,65939,70348,71708,5222,70364,70884,71761,72108,71249,72675,54263,71405,69141,58718,69991,70403,70410,63395,64461,71938,68604,72080,70892,71125,63626,66547,68477,57394,63596,63610,68097,71196,63659,70302,54404,68545,65891,72124,72149,72051,71776,70876,48471,70296,65458,69107,70321,69941,63625,67174,68157,72683,59240,64368,70938,72106,71815,66528,67210,69464,71879,65896,52134,52733,63516,71488,65843,70990,71548,70389,69039,72103,70985,62629,70748,71856,70554,66227,67298,65451,72059,71343,72823,69540,69220,71067,63507,68748,60031,71723,72443,70326,63481,71880,70794,66692,49033,48910,58144,65974,65766,69258,48654,64174,63706,71994,70185,70774,71014,62771,63511,68966,72249,50536,67306,70856,59638,69817,70013,71834,71308,69879,51921,66781,61878,64607,52290,70100,70751,71332,70811,64864,71069,64360,48363,70798,58479,66536,70961,69598,57296,63513,71127,49385,71191,71427,72141,71608,68503,66067,70778,63488,70746,70971,72002,62784,72232,71321,63336,61487,71767,70911,66684,69239,71613,52294,68522,66560,71324,68835,71040,72087,63489,72110,54363,63687,71869,60134,71315,72133,70261,69221,71183,68808,70784,61418,62931,70336,68516,61665,59544,71961,63345,58394,53181,66122,72041,64676,53397,62860,66707,13354,69381,69737,71603,72064,71387,72062,69261,68639,63408,71256,66687,71944,65435,63792,71057,70864,71047,64538,68098,56445,20647,72045,64721,72054,70808,59131,69103,64690,71310,67739,72100,71650,69058,
				62029,61649,65633,66983,68700,20342,70572,70430,70471,71952,70730,62681,71502,71454,27798,72015,72185,68435,68698,72072,72630,69658,70809,71195,72112,70987,71411,70398,58260,68951,68525,71471,56572,70378,62431,68299,70319,60429,60750,71209,58111,62849,68115,72207,33198,70951,70933,19564,67260,71271,63692,72024,72090,71484,70619,68361,14490,63602,56393,56435,68189,71035,56596,56439,72785,65514,70612,71416,66293,63316,27867,63490,71161,70509,58564,68588,71398,70807,71245,70927,57177,63411,63595,70817,63518,50209,69200,64057,71167,72666,50064,72047,60768,71978,71852,21674,69766,71404,71244,71877,63673,69784,72119,66520,57586,68234,63732,49987,49792,32444,69198,63465,65825,72362,63466,63491,70533,63621,70422,65680,63820,63788,49291,71812,70235,67310,72130,68116,61603,57315,52723,70420,61071,68942,70237,70455,70949,72500,71550,71661,69596,58371,56301,69379,68609,71970,68440,69934,71715,68929,60164,63482,63630,63480,70721,69798,57303,52806,69495,71873,63622,67341,63678,69222,58290,57414,70615,60303,63779,70294,58770,67221,70427,70035,60794,72009,68555,70472,71299,71621,63972,71866,27800,63335,58380,64239,72152,71818,70654,71886,72648,69284,71366,70423,69151,65828,63680,71007,56525,67256,71059,64611,63985,63933,70312,72140,72018,62896,57639,70695,70295,68536,68253,70418,72111,70685,71943,71126,56361,71740,64314,61433,69546,66070,71163,54197,66866,62756,66938,71813,63477,56401,70708,70421,66989,71107,55145,71529,71234,69512,67103,71361,68702,72000,56513,70278,68882,58887,71414,71397,68426,50060,71988,68235,68540,66530,56389,68200,63417,68537,70238,71717,68333,70829,56305,64610,48648,66401,72065,69053,68986,71088,64180,72042,69229,58805,63821,63988,63665,68870,66705,66566,70662,71384,72044,63632,63841,56319,68937,67301,70356,65425,32700,68833,70735,57705,68267,52100,68529,63407,71092,72720,69926,64235,66959,70052,71114,67009,71865,71612,54886,63307,58106,68596,72668,71097,70942,70696,71486,63854,68715,69094,71435,70050,68509,71958,58505,65630,71901,64564,57713,56383,71896,68290,58503,70822,70630,53098,54208,63710,69654,71990,63684,64416,68634,71055,69795,72025,70499,71311,69388,70916,59994,27805,56601,63405,71810,68924,33197,21178,70603,61806,71170,72074,70945,48703,69612,66500,70377,10890,63763,70426,71902,63598,71907,17829,70246,68736,71346,66557,71250,64194,65788,70518,71986,72046,61662,63308,61974,50297,71128,68916,70936,71385,28412,72196,57481,61268,33211,63337,71188,71074,68316,71039,70266,68878,64596,69876,72201,71684,68521,67184,60105,67006,58461,72084,67253,70724,68373,66752,71417,70309,52229,71577,71596,67076,65950,63619,71154,69914,71410,71985,60664,65684,57968,57893,70470,66564,49920,61678,71187,69110,70865,68475,70273,66709,58456,63689,66674,69517,71099,69561,72089,71280,56313,57880,71546,72026,63754,66486,69947,72129,66499,50344,66979,71895,51570,68925,63260,67038,71638,71629,68853
			);
			if(in_array($user->MID, $allow_users)){
			
				$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_2);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Уведомление');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_2;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		# финансовая задолженность 4
		/*
		$debt_info = HM_StudentNotification_Agreement_AgreementModel::getFineDebt4($user->mid_external);
			
		if(!empty($debt_info)){
			$this->view->fine 		= $debt_info['fine'];
			
			# Выпускной курс (не отправляли уведомление)
			if(in_array($user->MID, array(28803,46618,72767,72406,48741,21988,57057,21140,23207,49641,61681,49656,72780,62464,49920,72870,23548,72400))){
				$this->view->user_type = 1;
				
			# Выпускной курс (ранее отправлялись уведомления)
			} elseif(in_array($user->MID, array(20096,49818,21655,48891,58686,62000,20758,33169,50109,62022,62180,33162,50132,61998))){
				$this->view->user_type = 2;
			
			# Невыпускной курс
			} else {
				$this->view->user_type = 3;
			}
			
			
			$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_4);
			if(!empty($this->view->popup_content)){
				$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
				$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_4;
				echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
			}
		}
		*/
		
		
		# финансовая задолженность 5
		/*
		$debt_info = HM_StudentNotification_Agreement_AgreementModel::getFineDebt5($user->mid_external);
			
		if(!empty($debt_info)){
			$this->view->fine 		= $debt_info['fine'];
			$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_5);
			if(!empty($this->view->popup_content)){
				$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
				$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_5;
				echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
			}
		}
		*/

		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){	
				$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_DEBT_TIME);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Сроки ликвидации академических задолженностей');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_DEBT_TIME;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			
		}
		
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
		){	
			$allow_users = array(
				5829, 6140,6509,8052,8694,9292,9326,9402,10074,10561,10890,10943,10950,11752,12318,12373,12595,12741,13349,13467,13489,13761,13881,14219,14490,14551,15989,16673,16865,18236,19484,19556,19558,20124,20150,20153,20159,20178,20378,20643,20669,20844,20855,21287,21302,21312,21630,21643,21690,21716,21850,22106,22410,22592,22604,22637,22657,22759,23023,23117,23246,23273,23331,23411,23441,23548,23865,23867,23913,24330,24701,24707,24842,25483,25845,31458,32338,33015,34756,35595,48180,48551,48574,48636,48663,48691,48716,48889,49070,49134,49394,49741,49921,50092,50096,50152,50227,50230,50231,50263,50496,51371,51510,51511,51513,51570,51595,51597,51612,51618,51636,51725,51800,51831,51838,51839,51893,51934,51950,51966,51974,52023,52109,52145,52169,52171,52184,52245,52322,52333,52375,52394,52396,52405,52431,52468,52491,52505,52551,52564,52587,52605,52688,52762,52768,52808,52830,52868,52906,52907,52910,52934,52974,52975,53008,53011,53055,53104,53150,53180,53181,53200,53254,53257,53261,53275,53326,53328,53335,53351,53370,53387,53392,53425,53456,53457,53476,53616,53624,53655,53709,53787,53807,53869,53870,53885,53886,53887,53903,53939,53943,53978,53979,53980,53981,54026,54031,54144,54145,54218,54282,54315,54365,54380,54399,54451,54533,54549,54593,54595,54621,54643,54649,54653,54661,54671,54672,54674,54684,54706,54734,54735,54776,54785,54798,54813,54836,54844,54845,54853,54892,54901,54951,54962,54964,54965,54967,54968,54971,54977,54982,54987,54995,55367,55388,55399,55403,55510,55870,56014,56015,56028,56150,56154,56617,57188,57434,57694,57738,57741,57763,57950,58486,58496,58522,58533,58543,58544,58552,58689,58692,58696,58703,58705,58706,58719,58723,58724,58729,58734,58750,58755,58761,58766,58790,58792,58796,58797,58799,58814,58817,58847,58849,58859,58889,58892,58894,58900,58915,58917,58945,58951,58977,58995,59000,59011,59130,59184,59251,59266,59316,59338,59339,59349,59356,59357,59359,59362,59384,59385,59386,59434,59436,59437,59452,59453,59454,59466,59468,59482,59483,59484,59492,59503,59507,59534,59535,59544,59551,59574,59605,59610,59677,59686,59692,59702,59706,59775,59792,59793,59811,59827,59828,59855,59869,59920,59937,59980,59983,59990,60157,60163,60195,60344,60353,60354,60356,60393,60408,60575,60628,60671,60856,60869,60907,60923,60934,61038,61051,61176,61178,61204,61218,61229,61232,61234,61238,61239,61242,61273,61291,61292,61293,61296,61316,61349,61352,61358,61359,61365,61373,61376,61379,61391,61396,61403,61406,61435,61443,61460,61466,61532,61535,61538,61553,61564,61573,61578,61583,61585,61590,61593,61596,61603,61621,61628,61641,61662,61674,61675,61679,61680,61684,61685,61686,61693,61716,61718,61721,61755,61775,61825,61836,61840,61875,62109,62121,62253,62383,62405,62418,62428,62438,62449,62450,64809,66424,67594,67605,67657,67839,67856,68014,70194,70216,72143,72146,72153,72154,72194,72197,72199,72204,72213,72214,72229,72296,72300,72310,72312,72326,72327,72335,72371,72372,72373,72772,72777,72795,72799,72800,72810,72811,72816,72817,72831,72851,72855,72856,72862
		
			);
			if(in_array($user->MID, $allow_users)){
				$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_DEBT_2);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Академическая задолженность');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_DEBT_2;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
		){	
			$allow_users = array(
				5829,
				4861,6140,6391,6509,6939,7184,7680,8052,8694,8698,8888,9326,9402,9741,9749,9960,10074,10208,10240,10561,10890,10943,10950,11500,11752,12318,12373,12595,12741,13151,13349,13467,13489,13540,13761,13881,14028,14219,14411,14490,14551,15607,15989,16063,16080,16101,16219,16673,16865,17094,17129,17166,17322,17486,18236,18427,18890,19347,19484,19556,19558,19577,20124,20149,20153,20159,20176,20178,20236,20378,20643,20669,20724,20844,20855,21178,21179,21181,21182,21184,21185,21186,21287,21296,21302,21347,21630,21643,21690,21716,21828,21850,21941,21959,21963,21987,21994,22106,22331,22334,22335,22340,22341,22343,22345,22410,22559,22657,22759,22777,22877,23117,23273,23310,23331,23411,23441,23567,23577,23602,23865,23867,23905,23913,23919,23925,23933,23936,23941,23953,23954,23955,23956,23957,23958,23959,23961,24116,24179,24225,24250,24330,24419,24701,24707,24737,24738,24777,24824,24839,24842,24868,24870,24905,24932,24943,24991,25431,25483,25845,25859,27205,27463,28526,28821,28865,28903,30042,30988,30990,30991,31224,31458,31566,31567,32338,32425,33007,33015,33131,33147,33194,34073,34471,34756,35595,36346,36360,37058,37649,39155,40103,40833,41549,44492,45799,48180,48200,48244,48461,48491,48494,48495,48505,48510,48546,48547,48551,48574,48579,48580,48636,48637,48641,48657,48663,48665,48687,48691,48693,48703,48716,48759,48816,48818,48831,48842,48879,48898,48931,48954,48963,48973,48975,48976,48978,49018,49019,49066,49070,49077,49080,49081,49087,49111,49115,49121,49134,49136,49160,49394,49603,49731,49736,49741,49743,49749,49758,49765,49766,49778,49785,49811,49872,49873,49875,49886,49902,49904,49915,49921,49926,49928,49937,49970,49973,49974,49982,49989,49990,49991,50004,50005,50035,50037,50038,50039,50054,50069,50071,50089,50092,50093,50096,50110,50120,50123,50129,50130,50137,50139,50151,50152,50165,50166,50167,50185,50186,50191,50207,50213,50227,50230,50231,50263,50292,50294,50296,50300,50323,50426,50449,50453,50454,50458,50471,50487,50492,50496,50505,50511,50512,50515,50516,50517,50522,50533,50536,50540,50541,51324,51371,51569,51570,51582,51585,51586,51611,51636,51645,51653,51657,51658,51669,51673,51677,51683,51707,51720,51778,51782,51805,51845,51849,51864,51865,51904,51934,51936,51977,51984,51985,52109,52144,52145,52153,52161,52168,52169,52171,52178,52240,52245,52250,52268,52325,52333,52394,52411,52431,52453,52463,52465,52468,52470,52476,52491,52505,52531,52532,52537,52539,52549,52585,52586,52587,52611,52621,52623,52633,52635,52662,52708,52715,52720,52723,52724,52757,52758,52759,52760,52762,52769,52776,52792,52830,52863,52867,52868,52869,52870,52876,52877,52891,52894,52932,52934,52994,52995,53008,53009,53011,53012,53013,53018,53021,53068,53070,53074,53080,53081,53104,53111,53135,53136,53137,53178,53180,53181,53186,53192,53199,53200,53206,53226,53241,53244,53266,53275,53276,53286,53287,53294,53346,53351,53370,53371,53382,53416,53421,53425,53430,53436,53437,53441,53476,53507,53508,53509,53515,53537,53547,53548,53549,53550,53555,53585,53603,53606,53615,53616,53624,53652,53655,53656,53665,53685,53687,53689,53694,53698,53699,53709,53715,53720,53753,53763,53766,53787,53803,53806,53807,53811,53824,53826,53840,53841,53842,53965,53978,53979,53980,53981,53987,53988,53996,53998,54003,54008,54024,54026,54031,54041,54138,54140,54141,54142,54143,54144,54145,54146,54187,54236,54238,54243,54276,54278,54282,54290,54291,54293,54297,54298,54300,54315,54317,54331,54340,54348,54363,54365,54373,54374,54375,54376,54380,54381,54382,54401,54402,54404,54410,54434,54441,54444,54450,54451,54452,54456,54537,54538,54542,54584,54589,54590,54628,54629,54632,54633,54636,54637,54690,54692,54704,54705,54706,54707,54708,54709,54734,54735,54776,54777,54781,54782,54796,54798,54799,54810,54813,54814,54815,54821,54823,54824,54833,54834,54835,54836,54837,54838,54840,54841,54842,54843,54844,54845,54850,54852,54853,54860,54864,54868,54870,54907,54909,54910,54937,54939,54940,54943,54947,54953,54959,54964,54965,54968,54975,54977,54979,54982,54986,54987,54995,54999,55151,55159,55161,55346,55347,55348,55351,55367,55376,55381,55388,55399,55403,55415,55510,55611,55634,55640,55642,55643,55646,55653,55654,55656,55660,55661,55664,55665,55666,55668,55673,55675,55680,55681,55682,55686,55696,55704,55710,55711,55715,55716,55717,55719,55736,55737,55742,55747,55755,55756,55764,55766,55848,55870,55986,
				55996,56014,56015,56028,56061,56063,56069,56072,56075,56077,56078,56081,56083,56084,56145,56150,56154,56156,56179,56187,56212,56245,56516,56617,57099,57101,57102,57103,57105,57106,57114,57115,57134,57136,57138,57140,57141,57144,57145,57147,57152,57153,57166,57169,57172,57174,57176,57177,57178,57184,57187,57189,57190,57191,57209,57212,57213,57214,57215,57216,57217,57218,57219,57220,57221,57222,57223,57224,57225,57227,57228,57229,57230,57232,57236,57238,57240,57243,57245,57247,57248,57251,57253,57259,57263,57265,57269,57270,57272,57273,57274,57275,57276,57277,57293,57294,57295,57296,57297,57298,57299,57300,57301,57302,57303,57304,57305,57306,57307,57308,57309,57311,57313,57314,57315,57324,57332,57333,57334,57336,57339,57341,57342,57352,57434,57650,57652,57653,57654,57657,57658,57660,57662,57664,57666,57667,57668,57669,57670,57671,57672,57675,57676,57677,57680,57682,57684,57689,57690,57691,57692,57693,57694,57695,57696,57697,57699,57702,57704,57705,57706,57708,57709,57710,57711,57712,57713,57717,57720,57722,57723,57724,57725,57726,57727,57729,57732,57733,57734,57735,57736,57737,57738,57739,57740,57741,57742,57745,57747,57748,57749,57750,57751,57752,57754,57756,57757,57758,57759,57761,57762,57763,57764,57765,57817,57905,57906,57908,57911,57912,57913,57915,57916,57920,57922,57923,57928,57929,57933,57934,57935,57937,57938,57939,57940,57943,57946,57948,57949,57950,57952,57953,57954,57955,57956,57958,57959,57960,57962,57963,57964,57965,57966,57967,57968,57969,57970,57972,57976,57977,57978,57979,57980,57981,58137,58139,58140,58143,58163,58168,58169,58170,58171,58172,58173,58174,58175,58179,58180,58181,58183,58184,58185,58186,58188,58190,58194,58252,58253,58256,58258,58259,58260,58261,58263,58264,58265,58268,58269,58271,58272,58273,58276,58280,58281,58282,58284,58285,58286,58288,58289,58290,58291,58293,58294,58295,58296,58297,58298,58299,58300,58301,58302,58303,58304,58305,58307,58308,58311,58312,58313,58314,58315,58316,58317,58318,58319,58320,58321,58322,58324,58325,58327,58329,58330,58331,58332,58333,58335,58336,58337,58338,58339,58340,58343,58345,58346,58347,58348,58349,58350,58351,58352,58353,58354,58355,58357,58358,58360,58361,58362,58363,58364,58366,58368,58369,58370,58371,58372,58373,58374,58376,58377,58379,58380,58381,58382,58383,58384,58385,58387,58388,58389,58390,58391,58392,58393,58394,58395,58396,58397,58398,58399,58400,58401,58403,58404,58405,58406,58409,58410,58411,58412,58413,58414,58415,58418,58420,58421,58424,58426,58427,58428,58430,58431,58432,58435,58437,58438,58440,58442,58443,58445,58446,58447,58449,58452,58455,58456,58458,58459,58461,58462,58463,58464,58465,58466,58468,58469,58471,58472,58473,58475,58476,58477,58479,58484,58485,58486,58488,58489,58492,58494,58495,58496,58497,58498,58499,58500,58502,58505,58507,58508,58512,58513,58514,58515,58516,58517,58518,58520,58522,58523,58524,58525,58526,58527,58528,58529,58530,58532,58533,58535,58536,58537,58538,58539,58541,58543,58544,58545,58547,58550,58551,58552,58554,58555,58556,58557,58559,58561,58564,58565,58575,58577,58582,58585,58586,58588,58589,58590,58591,58592,58593,58594,58597,58599,58606,58607,58608,58609,58613,58616,58618,58619,58620,58625,58626,58627,58628,58630,58631,58633,58635,58640,58641,58642,58643,58645,58658,58665,58667,58669,58689,58691,58759,58761,58762,58763,58765,58766,58767,58770,58773,58774,58776,58779,58780,58783,58790,58791,58792,58793,58794,58795,58796,58797,58799,58800,58803,58804,58805,58808,58810,58811,58812,58814,58816,58817,58841,58843,58844,58845,58851,58852,58856,58863,58864,58865,58874,58875,58881,58883,58885,58886,58887,58892,58894,58895,58897,58898,58906,58907,58908,58911,58913,58914,58915,58916,58932,58933,58934,58936,58938,58939,58940,58943,58944,58945,58951,58982,58984,58987,59005,59039,59077,59078,59080,59081,59083,59089,59130,59131,59182,59183,59184,59199,59218,59244,59251,59266,59287,59308,59312,59314,59316,59321,59325,59337,59338,59343,59347,59349,59350,59352,59355,59356,59357,59358,59359,59370,59380,59382,59384,59385,59386,59387,59394,59395,59397,59401,59402,59403,59404,59419,59421,59426,59427,59429,59430,59431,59432,59433,59434,59435,59436,59437,59450,59451,59452,59453,59454,59462,59463,59464,59466,59468,59481,59482,59483,59484,59489,59491,59492,59494,59496,59503,59504,59512,59524,59532,59534,59535,59536,59537,59538,59555,59556,59566,59567,59569,59570,59573,59574,59576,59577,59582,59588,59589,59590,59605,59609,59610,59613,59620,59623,59629,59649,59667,59677,59678,59692,59696,59705,59706,59707,59725,59743,59753,59770,59771,59773,59775,59810,59811,59813,59823,59839,59840,59842,59850,59855,59869,59882,59887,59909,59920,59955,59960,59961,59966,59972,59977,59978,59980,59990,59992,59994,60010,60021,60030,60037,60039,60040,60043,60048,60050,60054,60055,60058,60059,60064,60102,60103,60104,60105,60106,60114,60124,60125,60126,60127,60144,60155,60157,60158,60191,60192,60195,60196,60197,60203,60205,60206,60231,60233,60260,60261,60263,60264,60265,60268,60269,60273,60318,60319,60320,60326,60327,60329,60367,60371,60374,
				60445,60448,60450,60471,60472,60473,60475,60493,60494,60503,60504,60508,60509,60522,60536,60537,60541,60542,60562,60585,60593,60600,60603,60626,60628,60671,60672,60674,60675,60692,60693,60694,60695,60697,60726,60727,60757,60758,60760,60761,60865,60866,60869,60877,60878,60889,60896,60907,60933,60934,60941,60942,60951,60992,61038,61040,61041,61051,61062,61065,61071,61073,61122,61162,61199,61200,61201,61202,61204,61205,61206,61207,61218,61219,61220,61222,61226,61227,61229,61231,61232,61234,61237,61238,61239,61240,61241,61242,61243,61247,61249,61261,61262,61263,61264,61265,61266,61267,61268,61269,61279,61291,61292,61309,61311,61316,61318,61319,61337,61338,61340,61341,61342,61343,61344,61345,61347,61348,61349,61350,61352,61353,61354,61355,61356,61357,61358,61359,61362,61363,61365,61366,61367,61368,61369,61373,61374,61375,61376,61378,61379,61384,61397,61398,61399,61400,61402,61403,61404,61406,61407,61408,61409,61410,61429,61430,61454,61456,61501,61503,61504,61532,61534,61535,61537,61538,61540,61542,61544,61545,61563,61564,61570,61572,61573,61574,61575,61578,61580,61581,61583,61585,61588,61590,61596,61602,61603,61610,61611,61614,61615,61621,61622,61624,61625,61626,61627,61628,61631,61635,61637,61639,61641,61642,61643,61644,61645,61648,61649,61650,61652,61653,61655,61656,61659,61660,61661,61662,61663,61664,61665,61667,61668,61671,61674,61675,61676,61679,61680,61684,61685,61686,61689,61691,61693,61698,61702,61710,61711,61712,61713,61714,61715,61716,61718,61721,61755,61775,61795,61796,61797,61800,61808,61816,61820,61821,61823,61825,61836,61840,61842,61851,61875,61879,61888,61914,61915,61917,61918,61921,61925,61926,61931,61932,61933,61934,61935,61937,61941,61942,61944,61945,61950,61951,61956,61959,61961,61962,61964,61965,61968,61972,62051,62091,62094,62105,62108,62109,62111,62118,62121,62124,62133,62139,62144,62145,62149,62150,62151,62164,62169,62172,62173,62176,62181,62182,62193,62209,62213,62227,62234,62244,62247,62253,62293,62294,62316,62326,62332,62337,62340,62351,62359,62383,62392,62405,62418,62428,62432,62438,62444,62446,62449,62450,62475,62489,62539,62581,62717,63379,63380,63381,63383,63385,63386,63387,63391,63429,63505,63506,63507,63508,63509,63510,63512,63514,63515,63516,63517,63518,63519,63522,63523,63524,63525,63595,63596,63597,63598,63599,63601,63602,63605,63606,63607,63608,63611,63612,63615,63616,63619,63620,63621,63622,63624,63625,63626,63627,63628,63630,63631,63632,63635,63636,63637,63638,63639,63642,63647,63648,63650,63654,63656,63657,63658,63659,63660,63664,63665,63666,63668,63669,63670,63672,63673,63675,63676,63677,63678,63680,63684,63685,63687,63688,63689,63691,63692,63697,63699,63700,63702,63703,63704,63705,63706,63708,63710,63711,63712,63714,63717,63721,63723,63724,63731,63732,63755,63758,63759,63760,63761,63762,63763,63764,63765,63766,63767,63768,63769,63770,63771,63772,63774,63775,63778,63784,63785,63787,63788,63789,63792,63793,63794,63796,63798,63801,63803,63804,63805,63807,63809,63810,63811,63812,63813,63815,63816,63817,63818,63819,63820,63821,63823,63824,63825,63826,63827,63828,63830,63831,63832,63835,63836,63839,63843,63844,63845,63847,63849,63851,63853,63854,63857,63858,63859,63860,63861,63864,63865,63866,63867,63868,63869,63870,63871,63872,63874,63875,63877,63879,63880,63881,63883,63886,63889,63890,63891,63892,63894,63900,63906,63907,63908,63909,63910,63911,63912,63913,63914,63915,63917,63918,63920,63921,63922,63924,63926,63927,63928,63929,63930,63932,63933,63934,63935,63938,63939,63940,63941,63942,63943,63944,63945,63946,63947,63948,63949,63950,63951,63952,63953,63954,63955,63956,63957,63958,63959,63960,63964,63965,63966,63967,63968,63971,63972,63973,63974,63976,63977,63978,63979,63980,63981,63982,63983,63984,63985,63986,63988,63990,63991,63992,63993,63994,63997,64000,64002,64007,64008,64009,64010,64011,64013,64014,64016,64017,64019,64022,64023,64024,64025,64027,64028,64029,64030,64032,64033,64034,64035,64036,64037,64038,64039,64041,64042,64049,64054,64055,64056,64057,64058,64059,64060,64061,64064,64065,64066,64067,64068,64069,64070,64072,64073,64074,64077,64078,64079,64081,64082,64083,64084,64085,64087,64088,64090,64091,64094,64095,64099,64101,64102,64104,64106,64108,64109,64112,64113,64114,64115,64122,64134,64135,64136,64137,64138,64139,64140,64141,64142,64143,64144,64145,64146,64147,64150,64151,64152,64153,64155,64156,64157,64158,64159,64160,64161,64162,64163,64164,64165,64166,64167,64169,64170,64171,64172,64173,64174,64175,64178,64179,64180,64181,64182,64183,64184,64185,64186,64187,64188,64189,64190,64191,64192,64193,64194,64195,64197,64198,64199,64201,64202,64203,64204,64205,64206,64207,64218,64219,64221,64222,64224,64225,64226,64228,64229,64232,64233,64234,64235,64236,64237,64238,64239,64240,64241,64242,64243,64244,64245,64246,64247,64248,64249,64251,64253,64255,64258,64259,64262,64263,64264,64265,64266,64269,64270,64273,64274,64275,64276,64278,64279,64280,64284,64285,64286,64287,64289,64290,64291,64292,64293,64295,64296,64301,64304,64305,64309,64310,64311,64313,64314,64315,64316,64317,64318,64319,64320,64322,64323,64324,64325,64326,64327,64328,64329,64331,64333,64335,64336,64338,64339,64340,64341,64342,64343,64344,64345,64347,64348,64349,64350,64352,64353,64354,64356,64357,64359,64360,64361,64362,64365,64366,64367,64368,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64382,64383,64384,64386,64387,64388,64389,64390,64391,64394,64395,64396,64397,64398,64400,64401,64402,64403,64404,64410,64411,64412,64413,64414,64415,64416,64418,64420,64421,64424,64425,64426,64427,64428,64429,64431,64432,64433,64434,64435,64436,64438,64439,64440,64441,64442,64443,64444,64446,64447,64448,64449,64450,64451,64452,64453,64454,64455,64456,64459,64460,64461,64462,64463,64464,64465,64466,64467,64468,64471,64472,64473,64474,64475,64476,64477,64478,64481,64484,64485,64486,64487,64488,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64505,64507,64509,64510,64511,64513,64514,64515,64518,64520,64521,64522,64523,64524,64525,64527,64528,64531,64532,64533,64535,64538,64543,64797,64800,64844,64845,64924,65487,65718,65719,65723,65724,65727,65728,65729,65730,65732,65733,65734,65735,65736,65737,65739,65740,65742,65744,65745,65746,65747,65749,65752,65754,65755,65756,65758,65759,65760,65762,65765,65766,65768,65769,65770,65771,65772,65773,65774,65775,65777,65778,65779,65781,65783,65785,65787,65788,65789,65790,65792,65793,65794,65795,65797,65799,65800,65801,65802,65803,65804,65805,65806,65807,65808,65809,65810,65811,65812,65814,65815,65817,65818,65819,65822,65825,65826,65827,65828,65829,65830,65831,65832,65833,65834,65835,65838,65840,65842,65843,65844,65845,65846,65848,65850,65851,65852,65853,65854,65859,65861,65862,65863,65864,65865,65866,65867,65868,65870,65871,65872,65875,65876,65877,65879,65880,65881,65882,65883,65886,
				65887,65889,65890,65891,65892,65894,65896,65897,65898,65899,65900,65903,65905,65908,65909,65912,65914,65915,65917,65920,65922,65924,65926,65927,65928,65929,65930,65934,65936,65939,65940,65941,65942,65943,65948,65950,65951,65952,65955,65956,65957,65958,65961,65962,65963,65964,65965,65968,65970,65972,65973,65974,65975,65977,65978,65980,65982,65984,65988,65989,65990,65991,65993,65994,65996,65997,65998,65999,66000,66001,66005,66006,66007,66009,66010,66013,66014,66015,66016,66019,66022,66023,66024,66028,66029,66030,66032,66033,66036,66037,66038,66040,66043,66044,66048,66050,66051,66053,66054,66055,66056,66057,66058,66060,66061,66062,66063,66064,66065,66066,66067,66068,66069,66070,66071,66072,66073,66076,66078,66079,66083,66084,66085,66086,66087,66089,66090,66091,66092,66093,66094,66095,66096,66097,66098,66099,66100,66101,66103,66104,66106,66107,66108,66109,66111,66112,66115,66117,66119,66121,66122,66123,66124,66125,66126,66128,66129,66130,66131,66134,66135,66136,66137,66138,66139,66141,66142,66145,66146,66147,66148,66149,66150,66152,66153,66155,66156,66157,66158,66161,66162,66163,66165,66167,66168,66169,66170,66171,66173,66174,66175,66176,66177,66178,66180,66181,66183,66184,66185,66189,66192,66193,66198,66200,66201,66204,66205,66206,66207,66208,66209,66210,66212,66213,66216,66217,66218,66219,66220,66221,66222,66223,66224,66225,66226,66227,66228,66229,66230,66231,66232,66233,66234,66235,66241,66269,66283,66285,66287,66288,66289,66291,66293,66294,66295,66296,66298,66299,66300,66303,66304,66305,66306,66307,66308,66309,66312,66313,66315,66316,66317,66319,66321,66322,66323,66324,66328,66329,66331,66332,66333,66334,66335,66336,66339,66340,66341,66343,66344,66345,66346,66348,66349,66351,66352,66355,66356,66357,66359,66362,66364,66365,66366,66367,66370,66371,66372,66373,66374,66375,66376,66378,66382,66383,66384,66387,66388,66389,66390,66391,66394,66395,66397,66399,66400,66401,66402,66404,66408,66409,66411,66413,66414,66416,66417,66418,66424,66427,66552,66557,66558,66560,66561,66563,66564,66566,66568,66569,66570,66571,66572,66573,66574,66575,66576,66577,66579,66581,66582,66584,66587,66588,66589,66590,66591,66593,66595,66596,66597,66598,66601,66602,66603,66604,66605,66607,66608,66610,66611,66613,66614,66615,66616,66617,66618,66619,66621,66624,66625,66626,66627,66629,66630,66633,66635,66636,66637,66638,66639,66642,66644,66645,66646,66650,66651,66654,66655,66656,66657,66658,66659,66660,66661,66664,66665,66666,66668,66669,66670,66671,66780,66781,66782,66783,66785,66786,66787,66788,66789,66790,66791,66792,66794,66795,66796,66799,66801,66802,66803,66804,66805,66807,66808,66809,66811,66812,66813,66814,66816,66818,66819,66820,66822,66824,66828,66829,66831,66835,66837,66839,66841,66842,66843,66844,66845,66846,66847,66848,66850,66852,66853,66854,66855,66856,66857,66858,66859,66861,66863,66864,66865,66866,66867,66869,66871,66872,66873,66875,66876,66877,66881,66882,66883,66885,66886,66888,66891,66892,66893,66895,66899,66902,66904,66906,66907,66909,66911,66914,66915,66918,66921,66935,66938,66939,66941,66980,66981,66982,66983,66985,66986,66987,66989,66991,66993,66994,66995,66998,66999,67000,67001,67005,67007,67009,67010,67011,67012,67014,67015,67016,67018,67021,67022,67024,67026,67029,67031,67032,67034,67036,67038,67039,67041,67045,67047,67048,67049,67050,67051,67054,67055,67056,67057,67060,67062,67063,67064,67065,67066,67069,67070,67071,67072,67073,67076,67077,67079,67083,67084,67085,67087,67089,67091,67094,67096,67098,67100,67101,67103,67104,67106,67109,67110,67111,67112,67118,67119,67124,67126,67128,67129,67130,67132,67133,67134,67135,67137,67138,67143,67174,67187,67364,67404,67594,67599,67602,67605,67609,67610,67622,67623,67625,67628,67629,67633,67634,67653,67657,67661,67664,67665,67666,67667,67669,67670,67671,67672,67673,67674,67675,67677,67680,67683,67685,67686,67687,67689,67690,67695,67696,67697,67698,67699,67701,67703,67706,67708,67709,67711,67712,67713,67715,67716,67717,67736,67737,67738,67739,67740,67742,67748,67749,67752,67753,67754,67755,67757,67759,67760,67762,67763,67764,67766,67767,67768,67769,67771,67772,67774,67775,67776,67778,67779,67780,67782,67783,67785,67786,67788,67790,67791,67794,67795,67796,67797,67798,67801,67802,67803,67804,67805,67807,67808,67809,67811,67812,67813,67815,67816,67817,67819,67821,67822,67823,67824,67825,67826,67827,67828,67830,67831,67832,67833,67834,67835,67836,67837,67839,67856,67874,67875,67887,67978,67989,67991,67993,67994,68002,68006,68007,68008,68010,68011,68012,68013,68014,68015,68025,68029,68033,68062,68127,68128,68129,68130,68132,68134,68135,68136,68137,68139,68141,68143,68145,68146,68147,68148,68149,68150,68151,68152,68153,68154,68156,68157,68159,68160,68161,68162,68163,68438,68439,68440,68441,68444,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68461,68462,68463,68464,68465,68466,68468,68469,68471,68472,68474,68475,68477,68478,68480,68481,68482,68485,68491,68492,68493,68495,68496,68497,68498,68499,68500,68501,68502,68503,68504,68505,68506,68507,68508,68509,68510,68511,68512,68513,68514,68515,68516,68520,68521,68522,68523,68524,68525,68528,68529,68530,68536,68537,68539,68540,68542,68543,68544,68545,68547,68548,68549,68550,68551,68552,68553,68555,68556,68562,68563,68564,68565,68566,68567,68568,68569,68570,68571,68575,68576,68577,68578,68579,68580,68581,68583,68584,68586,68587,68588,68589,68590,68591,68592,68593,68594,68595,68596,68597,68598,68599,68600,68601,68602,68603,68604,68605,68606,68607,68608,68609,68610,68611,68612,68613,68614,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68647,68648,68675,68676,68677,68678,68679,68680,68681,68682,68692,68693,68694,68697,68698,68704,68711,68736,68740,68741,68742,68743,68744,68745,68746,68747,68748,68749,68750,68751,68753,68754,68756,68758,68759,68761,68762,68763,68765,68766,68767,68768,68769,68770,68771,68772,68773,68775,68776,68777,68779,68780,68781,69103,69107,69108,69110,69112,69116,69117,69118,69119,69120,69124,69125,69126,69127,69128,69129,69130,69132,69133,69134,69135,69136,69137,69138,69140,69141,69142,69143,69144,69145,69146,69147,69148,69149,69150,69151,69152,69153,69154,69155,69156,69157,69158,69159,69161,69162,69163,69164,69165,69168,69169,69170,69171,69174,69175,69177,69178,69179,69184,69185,69186,69187,69188,69190,69191,69192,69193,69194,69195,69197,69198,69199,69200,69201,69202,69203,69206,69207,69209,69210,69212,69213,69214,69215,69216,69218,69219,69220,69221,69222,69223,69224,69225,69226,69227,69228,69229,69230,69231,69232,69233,69234,69235,69249,69250,69251,69252,69253,69254,69255,69256,69257,69258,69259,69260,69261,69262,69263,69264,69265,69267,69269,69270,69271,69272,69273,69274,69275,69277,69278,69279,69280,69281,
				69282,69284,69285,69286,69287,69289,69290,69291,69292,69293,69295,69296,69297,69299,69300,69301,69302,69303,69304,69305,69306,69307,69308,69309,69310,69311,69312,69313,69314,69315,69316,69317,69319,69320,69321,69323,69324,69325,69326,69327,69328,69329,69330,69331,69332,69333,69334,69335,69336,69337,69338,69340,69341,69362,69363,69364,69365,69367,69368,69369,69376,69379,69392,69399,69447,69448,69449,69450,69451,69452,69453,69454,69455,69456,69458,69459,69460,69462,69463,69464,69465,69466,69467,69468,69469,69471,69472,69473,69475,69477,69478,69479,69480,69481,69482,69483,69484,69485,69486,69488,69489,69490,69491,69492,69493,69494,69560,69561,69562,69563,69564,69565,69566,69567,69568,69569,69570,69571,69573,69574,69575,69577,69578,69580,69581,69582,69583,69584,69585,69587,69618,69619,69620,69621,69622,69623,69624,69625,69626,69627,69628,69631,69632,69633,69634,69635,69636,69637,69638,69639,69640,69641,69643,69644,69645,69646,69647,69648,69649,69650,69652,69653,69654,69655,69656,69657,69658,69659,69660,69661,69662,69663,69664,69665,69666,69668,69669,69670,69671,69672,69673,69674,69675,69676,69677,69679,69681,69683,69684,69685,69686,69687,69688,69690,69691,69692,69693,69694,69695,69696,69697,69698,69699,69700,69701,69702,69710,69743,69744,69745,69746,69747,69748,69750,69752,69753,69754,69755,69756,69759,69760,69761,69762,69763,69764,69765,69766,69767,69769,69770,69771,69772,69773,69774,69780,69781,69783,69784,69785,69786,69787,69788,69790,69791,69792,69793,69794,69795,69796,69797,69798,69799,69800,69801,69802,69803,69804,69805,69806,69808,69809,69810,69811,69812,69813,69815,69816,69817,69818,69819,69820,69821,69822,69823,69824,69827,69828,69829,69831,69833,69834,69835,69836,69837,69838,69839,69840,69842,69843,69844,69845,69847,69848,69849,69851,69853,69865,69932,69935,69936,69938,69939,69940,69941,69942,69943,69944,69946,69947,69948,69949,69950,69951,69952,69953,69954,69955,69956,69957,69958,69966,69968,69969,69970,69971,69972,69973,69974,69976,69977,69982,69983,69984,69985,69986,69987,69988,69989,69990,69991,69992,69993,69994,69995,69996,69997,69998,69999,70000,70001,70003,70005,70006,70012,70013,70163,70169,70183,70184,70185,70186,70187,70192,70194,70196,70197,70198,70199,70200,70201,70202,70203,70204,70205,70206,70207,70216,70380,70381,70382,70383,70384,70385,70386,70387,70388,70389,70390,70391,70392,70393,70394,70396,70398,70400,70401,70402,70403,70405,70406,70407,70408,70409,70410,70411,70413,70415,70444,70445,70446,70447,70448,70449,70450,70451,70453,70454,70455,70456,70457,70458,70459,70460,70461,70462,70463,70505,70506,70507,70508,70509,70510,70512,70515,70516,70517,70518,70519,70520,70521,70522,70523,70524,70525,70546,70547,70548,70550,70551,70552,70553,70554,70555,70556,70557,70560,70561,70562,70563,70564,70565,70587,70588,70589,70591,70592,70593,70594,70596,70598,70599,70601,70602,70603,70604,70605,70606,70611,70613,70614,70615,70617,70618,70619,70620,70621,70623,70625,70626,70627,70628,70629,70630,70631,70632,70634,70638,70639,70641,70642,70643,70644,70647,70648,70650,70651,70653,70656,70657,70658,70659,70661,70662,70699,70700,70704,70705,70706,70707,70708,70709,70710,70712,70713,70715,70717,70718,70719,70721,70723,70724,70725,70726,70727,70729,70730,70731,70735,70737,70738,70739,70740,70741,70743,70745,70746,70747,70748,70749,70752,70753,70756,70764,70765,70771,70773,70774,70775,70776,70778,70779,70780,70781,70782,70783,70784,70786,70787,70788,70791,70792,70794,70796,70797,70798,70799,70800,70801,70802,70803,70806,70807,70808,70809,70810,70811,70812,70813,70814,70815,70816,70817,70818,70819,70820,70821,70822,70824,70825,70827,70828,70829,70830,70832,70834,70835,70836,70837,70838,70839,70840,70842,70843,70844,70845,70846,70849,70850,70852,70853,70854,70855,70858,70860,70862,70863,70864,70865,70867,70869,70870,70872,70873,70874,70875,70877,70878,70879,70880,70882,70883,70884,70885,70886,70887,70888,70889,70891,70892,70893,70894,70895,70896,70898,70903,70905,70906,70907,70908,70909,70910,70911,70912,70913,70914,70915,70916,70918,70919,70920,70921,70922,70925,70926,70927,70928,70929,70930,70931,70932,70933,70934,70936,70937,70938,70939,70940,70941,70942,70943,70944,70945,70947,70948,70949,70950,70951,70952,70955,70956,70958,70959,70960,70961,70962,70963,70964,70966,70967,70968,70970,70971,70972,70974,70975,70977,70978,70980,70981,70982,70983,70984,70985,70986,70987,70989,70990,70991,70994,70999,71000,71002,71004,71005,71006,71007,71008,71009,71010,71011,71012,71014,71015,71017,71018,71019,71020,71021,71022,71023,71025,71027,71029,71034,71035,71036,71039,71040,71047,71048,71049,71050,71051,71124,71125,71130,71131,71133,71135,71137,71139,71144,71145,71146,71148,71149,71155,71156,71157,71161,71163,71164,71167,71168,71181,71187,71188,71195,71196,71200,71206,71207,71211,71212,71226,71229,71230,71231,71232,71233,71234,71236,71237,71240,71242,71245,71246,71248,71260,71274,71353,71355,71356,71358,71360,71361,71366,71367,71368,71372,71374,71376,71380,71384,71387,71388,71389,71395,71397,71398,71411,71416,71417,71423,71424,71432,71448,71449,71451,71453,71454,71455,71464,71469,71473,71488,71489,71490,71497,71502,71505,71507,71508,71511,71512,71513,71514,71516,71517,71518,71520,71521,71522,71523,71524,71525,71526,71527,71528,71529,71530,71531,71532,71533,71534,71537,71539,71540,71541,71542,71543,71544,71546,71548,71550,71551,71553,71554,71555,71556,71557,71597,71598,71599,71600,71601,71602,71603,71604,71605,71606,71608,71609,71610,71611,71612,71613,71614,71615,71616,71618,71620,71622,71623,71624,71625,71626,71627,71629,71631,71632,71633,71634,71636,71638,71639,71640,71642,71643,71644,71645,71646,71647,71648,71650,71651,71652,71653,71655,71656,71657,71659,71660,71661,71684,71700,71731,71733,71735,71736,71739,71740,71742,71744,71746,71749,71750,71752,71753,71836,71838,71839,71840,71841,71843,71844,71845,71846,71849,71851,71852,71853,71854,71855,71856,71858,71860,71861,71863,71864,71865,71866,71867,71869,71870,71872,71873,71874,71876,71877,71878,71879,71880,71881,71882,71883,71884,71885,71886,71887,71889,71891,71892,71893,71894,71895,71896,71897,71898,71899,71900,71901,71902,71903,71904,71905,71906,71907,71908,71909,71910,71911,71912,71913,71914,71915,71916,71917,71918,71919,71921,71922,71924,71925,71926,71927,71928,71929,71930,71931,71932,71933,71934,71935,71936,71937,71938,71941,71942,71943,71944,71946,71948,71949,71951,71952,71953,71954,71955,71956,71957,71958,71960,71961,71962,71963,71964,71967,71968,71969,71970,71972,71973,71974,71975,71976,71977,71978,71979,71980,71981,71982,72056,72125,72143,72146,72147,72148,72149,72150,72152,72153,72154,72155,72161,72162,72164,72165,72166,72176,72184,72193,72196,72197,72199,72203,72204,72206,72207,72208,72210,72211,72212,72214,72215,72221,72225,72228,72229,72232,72236,72243,72244,72296,72297,72298,72300,72302,72305,72306,72307,
				72308,72310,72312,72326,72328,72334,72335,72336,72338,72340,72341,72342,72343,72344,72345,72346,72347,72348,72349,72350,72351,72352,72353,72354,72355,72357,72358,72359,72362,72363,72364,72369,72371,72372,72373,72379,72383,72384,72385,72386,72387,72388,72389,72390,72391,72392,72393,72394,72397,72398,72415,72424,72425,72426,72427,72428,72429,72430,72431,72433,72440,72443,72445,72446,72447,72448,72449,72450,72451,72452,72453,72454,72456,72457,72458,72459,72460,72461,72462,72463,72464,72465,72466,72467,72468,72469,72470,72471,72472,72473,72474,72475,72476,72477,72478,72479,72480,72481,72482,72483,72484,72485,72486,72487,72488,72489,72490,72491,72492,72493,72494,72495,72496,72497,72498,72499,72500,72501,72502,72503,72504,72505,72506,72507,72509,72510,72511,72512,72513,72515,72516,72517,72518,72519,72520,72521,72522,72523,72524,72525,72526,72527,72528,72529,72530,72531,72532,72533,72534,72535,72536,72537,72538,72539,72540,72541,72542,72543,72544,72545,72546,72547,72548,72549,72550,72551,72552,72553,72554,72555,72557,72558,72559,72560,72561,72562,72563,72564,72566,72567,72568,72569,72570,72571,72572,72573,72574,72575,72576,72577,72578,72579,72580,72581,72582,72583,72584,72585,72586,72587,72588,72589,72590,72591,72592,72593,72594,72595,72596,72597,72598,72599,72600,72601,72602,72603,72604,72605,72606,72607,72608,72609,72610,72611,72612,72614,72615,72616,72617,72618,72619,72620,72622,72623,72624,72625,72626,72627,72628,72629,72630,72631,72632,72633,72634,72635,72636,72637,72638,72639,72640,72641,72642,72643,72644,72645,72646,72647,72648,72649,72650,72652,72653,72654,72655,72656,72657,72658,72659,72660,72661,72662,72663,72664,72665,72666,72667,72668,72669,72670,72671,72673,72674,72675,72676,72677,72678,72679,72680,72681,72682,72683,72684,72685,72687,72688,72689,72690,72691,72692,72693,72694,72695,72696,72697,72698,72699,72700,72701,72702,72703,72704,72705,72706,72707,72708,72709,72710,72711,72712,72713,72714,72715,72716,72717,72718,72719,72720,72721,72722,72723,72724,72725,72726,72727,72728,72729,72730,72731,72732,72733,72734,72735,72737,72738,72739,72741,72742,72746,72750,72752,72753,72757,72761,72762,72763,72764,72765,72769,72770,72771,72772,72773,72774,72775,72776,72777,72781,72787,72788,72789,72790,72791,72792,72793,72794,72795,72796,72799,72800,72801,72802,72808,72810,72811,72812,72815,72816,72817,72818,72819,72820,72821,72822,72823,72824,72825,72826,72828,72831,72832,72835,72838,72844,72845,72848,72855,72856,72857,72858,72859,72861,72862,72863,72864,72866,72867,72868,72871
				
			);
			if(in_array($user->MID, $allow_users)){
				$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_PAYMENT_UP);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('ОПЛАТА ЗА ОБУЧЕНИЕ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_PAYMENT_UP;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		

		# финансовая задолженность 6
		/*
		$debt_info = HM_StudentNotification_Agreement_AgreementModel::getFineDebt6($user->mid_external);
			
		if(!empty($debt_info)){
			$this->view->fine 		= $debt_info['fine'];
			$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_6);
			if(!empty($this->view->popup_content)){
				$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
				$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_6;
				echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
			}
		}
		*/
		
		
		
		
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){	
				$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_ORDER);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Об оказании платных образовательных услуг');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_ORDER;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			
		}
		
		
		
		
		# финансовая задолженность 7
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$debt_info = HM_StudentNotification_Agreement_AgreementModel::getFineDebt7($user->mid_external);				
			if(!empty($debt_info)){
				$this->view->fine 			= $debt_info['fine'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_7);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_7;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		# финансовая задолженность 8
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$debt_info = HM_StudentNotification_Agreement_AgreementModel::getFineDebt8($user->mid_external);				
			if(!empty($debt_info)){
				$this->view->fine 			= $debt_info['fine'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_8);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_8;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		
		# финансовая задолженность 9
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$debt_info = HM_StudentNotification_Agreement_AgreementModel::getFineDebt(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_9, $user->mid_external);				
			if(!empty($debt_info)){
				$this->view->fine 			= $debt_info['fine'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_9);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_9;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		# финансовая задолженность 10
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$debt_info = HM_StudentNotification_Agreement_AgreementModel::getFineDebt(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_10, $user->mid_external);				
			if(!empty($debt_info)){
				$this->view->fine 			= $debt_info['fine'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_10);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_10;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		# финансовая задолженность 11
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$debt_info = HM_StudentNotification_Agreement_AgreementModel::getFineDebt(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_11, $user->mid_external);				
			if(!empty($debt_info)){
				$this->view->fine 			= $debt_info['fine'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_11);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_11;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		
		# Повестка в военкомат
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			#&&
			#$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$info          = $this->getService('MilitaryInfo')->getInfoAll($user->mid_external);
			$unConfirmItem = false;
			if($info){
				$user_id = $user->MID;
				$type    = HM_StudentNotification_Agreement_AgreementModel::TYPE_MILITARY_SUBPOENA;
				foreach($info as $item){
					if($this->getService('StudentNotificationAgreement')->hasAgreement($user_id, $type, array('external_id' => $item->external_id))){ continue; }
					$unConfirmItem = $item;
					break;
				}
			}
			
			if($unConfirmItem){				
				if(!empty($unConfirmItem)){
					$this->view->commissariat_name 		= $unConfirmItem->commissariat_name;
					$this->view->date_arrival 			= date('d.m.Y', strtotime($unConfirmItem->date_arrival));
					$this->view->time_arrival 			= date('H:i', strtotime($unConfirmItem->date_arrival));
					$this->view->commissariat_address 	= $unConfirmItem->commissariat_address;
					$this->view->info_id 				= $unConfirmItem->info_id;
					$this->view->external_id 			= $unConfirmItem->external_id;
					$this->view->notification_type 	    = HM_StudentNotification_Agreement_AgreementModel::TYPE_MILITARY_SUBPOENA;
					$this->view->popup_title 		    = _('Повестка в военкомат');
					
					$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_MILITARY_SUBPOENA);
					if(!empty($this->view->popup_content)){												
						echo $this->view->render('ajax/notification/wrapper.tpl');
						die;
					}
				}
			}
		}
		
		# финансовая задолженность 12
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$debt_info = HM_StudentNotification_Agreement_AgreementModel::getFineDebt(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_12, $user->mid_external);				
			if(!empty($debt_info)){
				$this->view->fine 			= $debt_info['fine'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_12);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_12;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		
		# Уведомление 3
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_3, $user->mid_external);	
			
			if($info !== NULL){
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_3);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Проведение зачетно-экзаменационной сессии РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_3;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		
		# академическая задолженность 3
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_DEBT_3);
			if(!empty($this->view->popup_content)){
				$this->view->popup_title 		= _('Сроки ликвидации академических задолженностей');
				$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_DEBT_3;
				echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
			}			
		}
		*/
		/*		
		# Вакцинация		
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_VACCINATION, $user->mid_external);	
			
			if($info !== NULL){
				
				$this->view->form = new HM_Form_Vaccination();
				
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_VACCINATION);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Вакцинация');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_VACCINATION;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		# Заселение в общежитие
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){	
			$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_HOSTEL_CHECK_IN);
			if(!empty($this->view->popup_content)){
				$this->view->popup_title 		= _('Заселение в общежитие');
				$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_HOSTEL_CHECK_IN;
				echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
			}			
		}

		# Материальная помощь
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_MATERIAL_HELP, $user->mid_external);	
			
			if($info !== NULL){				
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_MATERIAL_HELP);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Материальная помощь');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_MATERIAL_HELP;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		# Портфолио. Заполнение
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$info = $this->getService('UserInfo')->getByCode($user->mid_external);
			if($info->course == 1){
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_PORTFOLIO_FULLING);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Электронное портфолио');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_PORTFOLIO_FULLING;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		
		
		
		# финансовая задолженность 13
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$debt_info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_13, $user->mid_external);				
			if(!empty($debt_info)){
				$this->view->fine 			= $debt_info['fine'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_13);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_13;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		# финансовая задолженность 14
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$debt_info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_14, $user->mid_external);				
			if(!empty($debt_info)){
				$this->view->fine 			= $debt_info['fine'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_14);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_14;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		
		# Подан на отчисление
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$userInfo = $this->getService('UserInfo')->getCurrentUserInfo();
			if($userInfo->status == HM_User_Info_InfoModel::STATUS_FILED_FOR_EXPELLED){
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FILED_FOR_EXPELLED);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Отчисление');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FILED_FOR_EXPELLED;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		# В академическом отпуске
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$userInfo = $this->getService('UserInfo')->getCurrentUserInfo();
			if($userInfo->status == HM_User_Info_InfoModel::STATUS_ON_ACADEMIC_LEAVE){
				$this->view->startLearningFrom = date('d.m.Y', strtotime($userInfo->date_start_admittance));
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_ON_ACADEMIC_LEAVE);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Академический отпуск');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_ON_ACADEMIC_LEAVE;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		
		
		# Социальная стипендия
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$userInfo = $this->getService('UserInfo')->getCurrentUserInfo();
			if($userInfo->study_form == HM_User_Info_InfoModel::STUDY_FORM_FULL_TIME && $userInfo->based == HM_User_Info_InfoModel::BASED_BUDGET && $userInfo->status == HM_User_Info_InfoModel::STATUS_IN_STUDY){
				
				$denyMidExternal = array(
					'659796','659821','659782','615498','644163','659847','659850','659841','659689','599994','659792','614798','659805','659842','659334','659899','659848','659781','659803','659802','665747','659349','663138','663259','662153','662150','662147','662200','661403','661400','661640','661638','661623','661622','661562','659332','665745','659846','661212','661370','660930','663091','665746','599682','663260','660891','665732','660915','660911','661383','661169','661244','660912','661282','663316','660914','661128','665731','654611','660927','660922','662151','661357','661356','662152','662149','661639','660909','660926','660913','661142','660908','660916','661189','661313','660928','660910','660921','660917','661394','660923','660907','660919','660925','660924','663322','663321','649883','660929','660920','660918','660856','660855','654421','649428','660726','660636','650044','650932','659282','660753','660631','659268','659299','659277','663320','658360','658358','658352','658366','658368','658354','656787','656938','656831','656848','656783','656555','649488','649884','656614','656430','656097','656559','656533','660664','659292','660687','656375','656376','659278','659293','656271','659281','659296','655940','655937','659310','659298','655939','658370','658357','658367','658361','656029','656023','658369','658355','655936','655933','655789','658591','655944','658365','658363','656937','656888','657522','657205','656374','656370','656021','655941','655991','655947','656265','655945','655938','655935','655934','630953','625637','630991','650329','637542','648656','648610','646928','648597','648600','648119','648768','646678','647009','648601','648604','647011','648603','648602','646927','647012','647212','647010','647056','647088','643880','647041','643455','643390','643692','656105','645007','643394','643492','643685','643714','643392','643398','643973','644036','643962','643843','643742','643396','644437','643397','643446','643389','643393','643391','643672','643433','649419','643490','650150','650009','650013','649415','649420','650015','649812','651059','650176','649422','649994','649430','650080','652081','650129','649447','649417','649672','649679','650234','649954','649494','650796','649426','649418','650238','649421','649689','649414','650931','649779','651055','649408','649423','650792','649425','649416','649413','642620','662148','658362','659373','637537','656366','637439','637539','637506','637655','656379','665775','656483','665758','665769','665789','625085','665790','663751','663752','656358','637223','656397','656532','625423','663753','663754','656246','656739','654474','654423','655946','654415','654170','655942','636725','653951','653207','651743','651745','653959','651746','653955','653950','651853','654419','653954','654420','651744','653209','651748','658376','653957','658353','654417','658377','655943','659290','654466','653211','658356','659304','654467','659291','654416','653208','663205','653952','651687','653958','651752','651747','651742','637544','663123','665792','659861','665788'
				);
				
				if(!in_array($user->mid_external, $denyMidExternal)){				
					$this->view->fio            = $user->getName();
					$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_SOCIAL_SCHOLARSHIP);
					
					if(!empty($this->view->popup_content)){
						$this->view->popup_title 		= _('Социальная стипендия');
						$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_SOCIAL_SCHOLARSHIP;
						echo $this->view->render('ajax/notification/wrapper.tpl');
						die;
					}
				}
			}
		}
		*/
		
		
		# финансовая задолженность 15
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_15, $user->mid_external);	
			
			if($info !== NULL){
				$this->view->fine           = $info['sum'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_15);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_15;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		# финансовая задолженность 16
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_16, $user->mid_external);	
			
			if($info !== NULL){
				$this->view->fine           = $info['sum'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_16);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_16;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		# Уведомление 4
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_4);
			if(!empty($this->view->popup_content)){
				$this->view->popup_title 		= _('Уведомление');
				$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_4;
				echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
			}			
		}
		*/
		
		# Уведомление 5 Митинг
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_5);
			if(!empty($this->view->popup_content)){
				$this->view->popup_title 		= _('Обращение студенческого совета-Сената к студентам РГСУ');
				$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_5;
				echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
			}			
		}
		
		# Уведомление 5 Иностранцам про COVID-19
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$userInfo = $this->getService('UserInfo')->getCurrentUserInfo();
			
			if(
				$userInfo
				&&
				in_array($userInfo->study_form, array(HM_User_Info_InfoModel::STUDY_FORM_FULL_TIME, HM_User_Info_InfoModel::STUDY_FORM_EVENING))
				&&
				$userInfo->isForeigner == HM_User_Info_InfoModel::TYPE_IS_FOREINGER
				&&
				$userInfo->status == HM_User_Info_InfoModel::STATUS_IN_STUDY
				&&
				$user->organization == HM_User_UserModel::MAIN_ORGANIZATION
			){
				$this->view->fio           = $user->getName();			
				$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_6);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Уведомление');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_6;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		
		# финансовая задолженность 17
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_17, $user->mid_external);	
			
			if($info !== NULL){
				$this->view->fine           = $info['sum'];
				$this->view->date_to        = $info['date'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_17);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_17;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		# Вакцинация		
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){	
			$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_VACCINATION_2);
			if(!empty($this->view->popup_content)){
				$this->view->popup_title 		= _('Вакцинация');
				$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_VACCINATION_2;
				echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
			}
		}
		
		
		# Вакцинация 3
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){	
			$userInfo = $this->getService('UserInfo')->getCurrentUserInfo();
			if(
				$userInfo
				&&
				in_array($userInfo->study_form, array(HM_User_Info_InfoModel::STUDY_FORM_FULL_TIME))
				&&
				$userInfo->status == HM_User_Info_InfoModel::STATUS_IN_STUDY
				&&
				(date_create('now')->diff( date_create(date('Y-m-d', strtotime($userInfo->date_birth))) )->y) >= 18
				&&
				in_array($userInfo->education_type, array(	HM_User_Info_InfoModel::EDU_TYPE_HIGHER_MASTER, 
															HM_User_Info_InfoModel::EDU_TYPE_HIGHER_BACHELOR, 
															HM_User_Info_InfoModel::EDU_TYPE_HIGHER_SPECIALIST, 
															HM_User_Info_InfoModel::EDU_TYPE_POSTGRADUATE,
															HM_User_Info_InfoModel::EDU_TYPE_SECONDARY_VOCATIONAL,
				))
			){
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_VACCINATION_3);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Вакцинация');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_VACCINATION_3;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		
		# Уведомление 7 Опрос
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_7);
			if(!empty($this->view->popup_content)){
				$this->view->popup_title 		= _('Опрос');
				$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_7;
				echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
			}			
		}
		
		
		# Уведомление военно-учетный стол 2
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_MILITARY_2, $user->mid_external);	
			
			if($info !== NULL){
				$this->view->fine           = $info['sum'];
				$this->view->date_to        = $info['date'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_MILITARY_2);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Уведомление');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_MILITARY_2;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		# Комиссии за перечисление средств за обучение
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_8, $user->mid_external);	
			
			if($info !== NULL){
				$this->view->notification_type = HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_8;
				$this->view->popup_content	   = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_8);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Уведомление');
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		
		# финансовая задолженность 18
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_18, $user->mid_external);	
			
			if($info !== NULL){
				$this->view->fine           = $info['sum'];
				$this->view->date_to        = $info['date'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_18);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_18;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		# Приключения иностранцев в России
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_9, $user->mid_external);	
			
			if($info !== NULL){				
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_9);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Приключения иностранцев в России');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_9;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		
		# Уведомление 7 Обучение и служба в армии
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
			&&
			$user->Gender == HM_User_Metadata_MetadataModel::GENDER_MALE
		){
			$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_10);
			if(!empty($this->view->popup_content)){
				$this->view->popup_title 		= _('Обучение и служба в армии');
				$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_10;
				echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
			}
		}
		
		
		# финансовая задолженность 19
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_19, $user->mid_external);	
			
			if($info !== NULL){
				$this->view->fine           = $info['sum'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_19);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_19;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		# финансовая задолженность 20
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_20, $user->mid_external);	
			
			if($info !== NULL){
				$this->view->fine           = $info['sum'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_20);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_20;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		# финансовая задолженность 21
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
			&&
			in_array($user->mid_external, array(
				'77','19923','462149','464554','472514','479124','484652','527902','527955','528682','528685','529018','529243','530162','532674','533732','534844','534950','535016','535581','539286','578050','579800','599899','599927','600802','600925','600978','601657','601930','603429','607902','608528','610276','612271','612643','612666','613013','613861','614574','615230','615411','615935','615966','616982','617279','617331','619198','619250','620899','621449','621878','621977','622282','622355','622792','623908','624826','625100','625103','625105','625165','625474','625996','626095','626123','626990','627028','627116','627119','627125','627126','627127','627128','627130','627154','627415','629112','629134','629338','630003','630076','630079','630424','630444','630447','630695','630737','630743','630774','630778','630937','631310','631666','631697','631846','632020','632038','632066','632204','632257','635348','635727','636497','636845','636865','636873','636875','636918','637046','638019','638071','638077','638162','638170','638183','638206','638227','638236','638237','638527','638589','638638','638737','638751','638753','638830','638864','639016','639017','639018','639021','639025','639282','639551','639592','639647','639933','640656','640842','640940','641109','641222','641254','641347','641354','641375','641388','641479','641507','641516','641616','641657','641678','641680','642052','642103','642161','642391','642406','642451','642480','642511','642527','643135','643154','643164','643196','643203','643318','643337','643351','643457','643458','643682','643733','643780','643826','643854','644681','644692','644714','644717','644754','644757','644771','644780','644795','644802','644804','644805','644806','644809','644810','644812','644814','644815','644816','644818','644819','644820','644821','644822','644823','644824','644827','644828','644829','644832','644833','644834','644836','644864','644930','644933','644935','644945','644949','644968','644973','644976','644979','644989','644998','645005','645034','645098','645099','645110','645111','645112','645199','645210','645212','645216','645217','645219','645237','645259','645273','645277','645300','645301','645302','645303','645304','645305','645306','645307','645308','645309','645310','645311','645313','645315','645316','645317','645358','645381','645382','645391','645406','645428','645433','645443','645456','645469','645471','645477','645480','645490','645499','645502','645508','645509','645647','646499','646842','647025','647028','647031','647034','647036','647045','647047','647060','647061','647065','647067','647069','647071','647072','647076','647077','647078','647079','647080','647081','647083','647086','647087','647092','647095','647096','647097','647098','647099','647100','647102','647106','647107','647108','647110','647111','647112','647113','647114','647116','647119','647121','647122','647123','647127','647128','647129','647130','647131','647132','647133','647139','647142','647144','647146','647147','647149','647213','647214','647215','647217','647219','647221','647222','647225','647226','647227','647229','647230','647232','647233','647234','647235','647236','647238','647239','647240','647242','647243','647245','647246','647247','647248','647249','647251','647252','647253','647254','647255','647258','647259','647260','647261','647263','647265','647266','647267','647268','647269','647270','647271','647272','647273','647274','647275','647276','647279','647281','647304','647305','647306','647307','647309','647311','647314','647316','647317','647318','647320','647321','647322','647323','647324','647327','647328','647330','647333','647334','647335','647337','647341','647342','647343','647346','647377','647379','647380','647382','647383','647385','647388','647392','647393','647396','647397','647398','647401','647403','647405','647406','647408','647409','647410','647411','647434','647436','647438','647440','647444','647446','647447','647448','647450','647451','647454','647455','647456','647457','647458','647460','647461','647464','647466','647469','647470','647472','647473','647474','647475','647476','647477','647483','647485','647486','647549','647552','647608','647610','647614','647615','647616','647617','647620','647623','647625','647630','647633','647636','647637','647641','647643','647650','647651','647653','647654','647657','647658','647659','647661','647662','647663','647664','647667','647669','647674','647676','647677','647678','647681','647682','647683','647684','647685','647687','647688','647690','647691','647694','647696','647697','647698','647699','647700','647701','647702','647703','647706','647707','647708','647709','647711','647712','647713','647714','647715','647716','647717','647718','647720','647721','647724','647726','647727','647730','647731','647733','647734','647735','647737','647739','647740','647741','647744','647745','647747','647749','647750','647751','647752','647753','647755','647756','647757','647758','647759','647760','647761','647762','647763','647846','647847','647850','647853','647854','647859','647860','647863','647869','647870','647871','647872','647873','647874','647875','647876','647877','647879','647880','647883','647884','647890','647891','647894','647897','647911','647913','647916','647917','647918','647921','647922','647926','647927','647930','647932','647935','647936','647938','647939','647946','647947','647949','647953','647954','647957','647959','647960','647961','647962','647964','648014','648016','648019','648020','648022','648023','648026','648028','648041','648042','648043','648044','648045','648048','648049','648050','648051','648052','648053','648054','648059','648069','648070','648071','648073','648075','648077','648080','648081','648082','648083','648087','648089','648090','648092','648094','648100','648101','648104','648106','648112','648212','648297','648299','648300','648302','648303','648304','648305','648307','648308','648312','648316','648317','648321','648323','648324','648325','648331','648332','648333','648340','648341','648345','648349','648350','648352','648373','648389','648392','648393','648394','648396','648399','648400','648402','648412','648414','648417','648418','648419','648420','648424','648439','648445','648459','648460','648462','648465','648466','648468','648469','648472','648476','648477','648485','648490','648515','648516','648517','648518','648519','648520','648523','648528','648529','648532','648534','648535','648538','648550','648552','648571','648572','648573','648575','648582','648584','648586','648587','648605','648609','648611','648626','648720','648763','648777','648796','648810','648829','648830','648832','648836','648838','648839','648841','648845','648846','648853','648855','648856','648858','648859','648869','648870','648871','648872','648873','648875','648878','648879','648883','648885','648886','648888','648996','649006','649011','649024','649027','649030','649305','649313','649338','649353','649354','649429','649658','650444','651040','651041','651042','651043','651044','651047','651050','651051','651052','651053','651056','651057','651060','651065','651066','651110','651119','651121','651122','651123','651124','651126','651130','651131','651133','651134','651137','651138','651149','651150','651151','651152','651154','651372','651436','651761','651762','651763','651764','651765','651766','651767','651768','651769','651770','651771','651772','651773','651776','651779','651785','651786','651788','651790','651793','651795','651797','651800','651804','651805','651806','651807','651810','651811','651812','651813','651814','651816','651817','651818','651819','651821','651822','651824','651825','651826','651828','651829','651831','651840','651844','651846','651850','651852','651854','651855','651857','651859','651860','651861','651865','651867','651868','651871','651872','651873','651875','651876','651877','651878','651880','651881','651882','651884','651887','651891','651892','651893','651895','651907','651908','651909','651910','651911','651912','651913','651914','651915','651916','651918','651921','651922','651923','651925','651927','651928','651929','651931','651933','651934','651935','651936','651939','651940','651942','651943','651944','651945','651946','651947','651948','651949','651950','651951','651952','651953','651954','651955','651956','651957','651958','651959','651960','651961','651965','651966','651967','651968','651969','651972','651973','651974','651977','651978','651979','651980','651981','651983','651984','651985','651986','651987','651989','651991','651992','651993','651994','651995','651996','651998','652001','652003','652008','652009','652014','652015','652017','652018','652020','652023','652024','652025','652026','652028','652029','652030','652031','652033','652035','652036','652037','652038','652039','652040',
				'652042','652043','652050','652051','652055','652056','652057','652058','652059','652060','652061','652062','652065','652066','652067','652068','652069','652071','652074','652075','652078','652079','652080','652082','652083','652084','652086','652088','652089','652091','652092','652095','652096','652100','652105','652107','652108','652109','652110','652111','652113','652114','652115','652116','652135','652136','652137','652138','652139','652140','652141','652142','652143','652144','652145','652146','652147','652148','652151','652152','652153','652154','652156','652157','652158','652159','652160','652161','652162','652163','652164','652165','652166','652167','652168','652170','652171','652172','652173','652174','652175','652176','652179','652180','652181','652182','652183','652184','652185','652186','652188','652189','652190','652191','652192','652193','652194','652195','652196','652198','652199','652200','652202','652203','652204','652205','652206','652207','652208','652219','652222','652223','652225','652226','652227','652229','652230','652232','652233','652234','652235','652236','652237','652238','652239','652240','652241','652242','652244','652245','652246','652247','652248','652249','652250','652252','652256','652259','652263','652264','652265','652266','652267','652270','652271','652274','652276','652277','652279','652280','652281','652285','652286','652287','652288','652290','652291','652292','652293','652294','652296','652297','652304','652305','652306','652311','652314','652315','652316','652317','652318','652319','652320','652321','652323','652324','652325','652326','652327','652328','652329','652330','652332','652334','652336','652339','652340','652341','652342','652343','652345','652346','652348','652349','652350','652351','652353','652354','652355','652357','652358','652360','652361','652362','652363','652364','652366','652367','652369','652371','652372','652373','652374','652375','652376','652377','652378','652379','652380','652381','652384','652385','652387','652388','652389','652390','652391','652392','652395','652396','652397','652398','652399','652401','652402','652404','652411','652412','652414','652415','652417','652419','652421','652422','652425','652426','652427','652428','652429','652430','652432','652433','652434','652435','652436','652437','652439','652440','652441','652442','652443','652444','652445','652447','652448','652449','652450','652451','652452','652453','652454','652455','652456','652457','652460','652461','652462','652463','652464','652466','652467','652468','652469','652472','652473','652474','652475','652476','652477','652478','652479','652482','652485','652486','652487','652489','652490','652492','652493','652495','652496','652497','652498','652499','652500','652501','652502','652504','652506','652508','652510','652511','652514','652515','652516','652519','652521','652522','652524','652525','652526','652528','652529','652532','652533','652534','652536','652655','652807','652834','652835','652836','652837','652840','652841','652842','652843','652844','652846','652847','652849','652850','652851','652855','652856','652857','652858','652859','652860','652863','653060','653065','653066','653069','653072','653074','653076','653080','653082','653083','653085','653086','653087','653088','653104','653109','653111','653115','653119','653122','653123','653124',
				'653125','653129','653130','653131','653132','653133','653134','653135','653136','653137','653139','653140','653141','653142','653144','653148','653149','653150','653151','653153','653195','653212','653213','653214','653216','653219','653221','653222','653223','653225','653226','653227','653229','653235','653236','653237','653238','653240','653242','653244','653245','653246','653248','653249','653250','653251','653252','653254','653256','653257','653259','653260','653261','653262','653264','653266','653267','653268','653269','653270','653271','653272','653273','653274','653275','653276','653277','653278','653279','653281','653282','653284','653285','653286','653289','653292','653293','653294','653295','653296','653297','653298','653299','653300','653301','653302','653305','653307','653309','653310','653311','653312','653313','653315','653317','653318','653319','653320','653321','653325','653326','653328','653329','653330','653331','653332','653333','653334','653336','653337','653338','653339','653340','653343','653344','653345','653347','653348','653349','653350','653351','653354','653355','653358','653359','653364','653365','653366','653367','653368','653371','653373','653374','653377','653378','653381','653383','653384','653386','653389','653391','653393','653394','653395','653396','653397','653398','653399','653403','653405','653409','653410','653412','653414','653417','653419','653420','653421','653424','653425','653426','653427','653430','653433','653436','653438','653439','653441','653442','653443','653444','653450','653453','653454','653455','653457','653458','653460','653462','653464','653468','653469','653470','653473','653474','653476','653477','653478','653479','653480','653481','653496','653534','653535','653565','653569','653570','653572','653573','653574','653575','653576','653577','653578','653579','653580','653581','653584','653587','653594','653595','653596','653597','653598','653600','653601','653602','653603','653604','653605','653606','653607','653609','653610','653611','653612','653617','653619','653620','653622','653623','653626','653628','653632','653633','653634','653636','653638','653639','653640','653643','653645','653646','653648','653650','653651','653653','653656','653658','653659','653660','653661','653664','653667','653668','653669','653670','653671','653672','653674','653675','653677','653678','653679','653680','653683','653684','653685','653687','653689','653690','653692','653693','653695','653696','653697','653698','653699','653702','653703','653705','653707','653711','653715','653722','653723','653729','653730','653736','653739','653740','653741','653742','653743','653745','653746','653747','653748','653751','653756','653757','653758','653760','653762','653763','653767','653770','653782','653783','653784','653786','653787','653788','653789','653790','653791','653792','653793','653794','653795','653796','653797','653798','653799','653800','653801','653804','653805','653806','653808','653809','653810','653812','653814','653815','653816','653821','653822','653824','653825','653826','653827','653828','653829','653834','653841','653843','653844','653848','653851','653852','653855','653861','653862','653863','653864','653868','653869','653870','653871','653873','653874','653876','653877','653879','653880','653881','653882','653883','653884','653887','653888','653891','653892','653893','653894','653895','653896','653899','653902','653903','653904','653905','653908','653910','653911','653912','653914','653916','653920','653921','653922','653923','653924','653925','653926','653927','653930','653931','653932','653934','653935','653936','653937','653941','653947','653967','654000','654001','654003','654005','654173','654175','654177','654179','654183','654184','654185','654186','654188','654189','654193','654200','654201','654202','654203','654206','654207','654209','654215','654217','654218','654224','654234','654235','654239','654240','654242','654243','654244','654245','654246','654247','654270','654271','654272','654274','654277','654279','654280','654281','654282','654287','654290','654291','654292','654294','654295','654297','654298','654316','654317','654318','654321','654323','654340','654342','654345','654346','654347','654350','654352','654356','654357','654358','654360','654362','654364','654366','654371','654372','654374','654376','654377','654378','654382','654385','654386','654388','654389','654391','654392','654398','654409','654410','654412','654437','654438','654439','654441','654457','654458','654462','654470','654471','654489','654490','654496','654500','654501','654505','654510','654512','654515','654517','654519','654520','654522','654523','654524','654525','654527','654531','654532','654533','654534','654535','654536','654538','654539','654541','654542','654544','654546','654547','654550','654551','654552','654553','654554','654557','654564','654618','654620','654623','654625','654630','654631','654632','654639','654643','654649','654652','654653','654659','655861','655862','655863','655864','655865','655866','655867','655868','655870','655872','655874','655875','655877','655880','655881','655882','655885','655887','655891','655892','655899','655900','655901','655902','655903','655904','655905','655906','655907','655908','655909','655910','655911','655917','655918','655919','655923','655926','655927','655928','655929','655932','655950','656048','656154','656377','656962','656965','656967','656969','656970','656971','656973','656974','656978','656979','656981','656982','656983','656984','656985','656986','656987','656989','656991','657019','657020','657021','657022','657023','657024','657025','657026','657027','657029','657030','657031','657032','657033','657034','657035','657036','657038','657039','657041','657046','657049','657052','657053','657054','657055','657064','657068','657069','657075','657077','657078','657080','657081','657096','657098','657099','657101','657103','657104','657106','657108','657109','657110','657111','657112','657113','657114','657115','657119','657150','657151',
				'657152','657155','657156','657157','657158','657159','657161','657162','657163','657164','657165','657166','657167','657253','657530','657532','657535','657538','657539','657541','657543','657544','657545','657546','657548','657551','657552','657554','657555','657559','657560','657562','657566','657567','657568','657569','657570','657572','657575','657577','657578','657579','657581','657582','657583','657584','657586','657587','657588','657589','657596','657599','657600','657601','657602','657605','657607','657609','657610','657611','657612','657613','657614','657616','657617','657619','657621','657622','657623','657624','657625','657626','657628','657629','657630','657631','657632','657633','657634','657636','657637','657638','657639','657642','657643','657644','657645','657646','657647','657648','657649','657653','657655','657656','657657','657659','657660','657661','657662','657665','657667','657668','657671','657674','657675','657676','657681','657682','657683','657684','657685','657686','657687','657688','657689','657690','657692','657693','657696','657697','657698','657699','657700','657701','657702','657704','657705','657706','657707','657708','657709','657710','657711','657712','657713','657714','657717','657718','657720','657721','657722','657723','657724','657725','657726','657727','657728','657729','657731','657732','657734','657735','657736','657737','657738','657739','657740','657741','657742','657743','657744','657745','657747','657752','657754','657755','657756','657757','657758','657759','657760','657761','657762','657763','657764','657765','657766','657767','657768','657769','657771','657772','657773','657775','657777','657778','657779','657781','657783','657784','657785','657786','657787','657788','657789','657792','657793','657794','657796','657800','657802','657803','657804','657806','657807','657808','657809','657810','657811','657812','657813','657814','657815','657820','657821','657822','657823','657824','657826','657827','657830','657831','657832','657833','657834','657835','657839','657840','657841','657842','657843','657845','657848','657851','657852','657855','657858','657859','657861','657862','657863','657864','657866','657868','657869','657870','657871','657873','657875','657876','657877','657878','657879','657882','657883','657885','657886','657889','657890','657892','657893','657894','657895','657897','657898','657900','657901','657902','657903','657904','657905','657906','657907','657908','657909','657911','657913','657914','657915','657916','657917','657922','657923','657924','657925','657926','657927','657928','657929','657930','657931','657932','657933','657934','657936','657937','657938','657939','657940','657941','657942','657943','657944','657945','657946','657947','657949','657950','657952','657953','657954','657955','657956','657959','657960','657962','657963','657966','657967','657968','657969','657970','657971','657972','657973','657974','657975','657976','657977','657978','657980','657981','657984','657987','657988','657989','657991','657993','657994','657995','657996','657998','658001','658002','658109','658111','658113','658116','658117','658119','658120','658121','658124','658126','658127','658128','658129','658132','658134','658136','658138','658139','658140','658141','658143','658144','658145','658148','658149','658150','658151','658152','658153','658154','658347','658349','658350','658372','658374','658380','658382','658383','658384','658385','658387','658388','658390','658391','658392','658393','658395','658396','658397','658398','658399','658400','658401','658402','658404','658407','658408','658409','658410','658411','658412','658413','658415','658417','658419','658420','658421','658423','658424','658426','658427','658430','658431','658432','658434','658435','658436','658437','658438','658439','658444','658453','658460','658465','658466','658467','658469','658471','658472','658473','658477','658484','658485','658489','658490','658491','658492','658493','658494','658497','658498','658499','658500','658502','658503','658504','658507','658508','658509','658511','658512','658514','658517','658518','658524','658525','658526','658527','658528','658530','658532','658533','658534','658535','658538','658540','658541','658542','658543','658545','658549','658550','658551','658555','658558','658559','658560','658561','658562','658563','658565','658566','658567','658569','658570','658571','658573','658576','658577','658579','658581','658583','658584','658586','658589','658593','658595','658599','658601','658602','658603','658605','658607','658608','658611','658613','658614','658617','658618','658619','658620','658623','658624','658625','658627','658628','658629','658630','658631','658632','658633','658634','658636','658637','658638','658639','658641','658642','658644','658648','658649','658650','658652','658654','658655','658656','658657','658658','658659','658661','658662','658664','658666','658668','658669','658671','658673','658674','658675','658676','658677','658679','658681','658682','658687','658689','658693','658695','658696','658698','658699','658700','658701','658702','658705','658707','658709','658711','658712','658714','658716','658719','658721','658724','658725','658729','658730','658737','658739','658740','658742','658744','658746','658748','658750','658753','658755','658761','658763','658766','658767','658768','658771','658772','658773','658774','658776','658777','658778','658779','658783','658786','658789','658790','658791','658793','658797','658798','658799','658800','658805','658809','658810','658813','658815','658817','658823','658825','658827','658829','658830','658834','658835','658838','658839','658840','658841','658842','658843','658845','658846','658847','658848','658849','658850','658857','658860','658864','658867','658868','658870','658872','658874','658875','658876','658877','658879','658881','658882','658883','658884','658885','658886','658887','658888','658889','658891','658894','658895','658897','658898','658899','658904','658905','658914','658917','658926','658932','658935','658937','658938',
				'658941','658944','658945','658948','658949','658950','658952','658955','658959','658960','658961','658963','658965','658967','658976','658977','658979','658980','658983','658984','658985','658987','658988','658989','658990','658991','658992','658993','658994','658999','659001','659003','659005','659008','659009','659012','659019','659022','659023','659024','659030','659031','659032','659034','659037','659040','659042','659043','659046','659049','659059','659060','659061','659062','659064','659065','659066','659068','659069','659070','659071','659076','659079','659084','659089','659090','659095','659096','659097','659110','659112','659114','659115','659116','659118','659119','659124','659125','659127','659128','659133','659136','659137','659138','659144','659145','659148','659150','659152','659157','659158','659159','659163','659170','659171','659174','659177','659183','659186','659188','659195','659198','659199','659202','659208','659209','659211','659214','659239','659240','659248','659249','659250','659251','659254','659266','659271','659272','659275','659276','659279','659286','659287','659302','659314','659322','659325','659326','659327','659331','659336','659337','659343','659346','659348','659351','659352','659363','659364','659366','659368','659369','659371','659372','659374','659376','659377','659378','659379','659383','659385','659386','659389','659390','659391','659392','659395','659397','659398','659399','659400','659401','659402','659403','659408','659410','659411','659412','659413','659414','659415','659417','659420','659421','659423','659424','659428','659429','659430','659431','659436','659439','659446','659447','659448','659449','659450','659453','659456','659457','659460','659461','659464','659468','659470','659471','659472','659473','659479','659480','659483','659484','659486','659487','659490','659492','659493','659494','659499','659500','659501','659505','659508','659511','659515','659516','659518','659521','659523','659526','659527','659528','659531','659532','659536','659537','659540','659541','659542','659543','659545','659546','659547','659549','659550','659551','659552','659553','659554','659555','659560','659564','659565','659567','659569','659571','659572','659576','659577','659578','659586','659587','659588','659589','659590','659600','659601','659605','659611','659614','659620','659632','659638','659639','659645','659646','659647','659648','659651','659655','659659','659662','659680','659683','659684','659690','659694','659695','659698','659701','659704','659706','659709','659719','659720','659721','659722','659734','659742','659744','659746','659747','659761','659764','659765','659771','659775','659777','659783','659785','659786','659787','659788','659789','659790','659801','659807','659810','659811','659812','659813','659818','659820','659833','659834','659838','659844','659845','659853','659855','659856','659858','659863','659867','659870','659871','659874','659877','659884','659886','659887','659897','659898','659900','659901','659902','659905','659906','659908','659909','659910','659911','659917','659918','659919','659921','659923','659925','659926','659927','659928','659931','659932','659933','659935','659936','659937','659940','659941','659942','659943','659944','659945','659946','659947','659948','659949','659950','659951','659952','659953','659957','659960','659961','659962','659963','659964','659965','659966','659967','659969','659970','659971','659972','659973','659974','659975','659976','659977','659978','659979','659981','659982','659983','659984','659985','659986','659988','659989','659990','659991','659993','659997','659998','660000','660002','660003','660004','660005','660006','660007','660008','660010','660011','660012','660015','660016','660017','660018','660020','660021','660022','660023','660024','660025','660027','660028','660030','660031','660032','660033','660034','660035','660036','660037','660038','660039','660040','660041','660045','660049','660050','660052','660054','660055','660057','660062','660064','660065','660066','660067','660069','660071','660075','660077','660078','660080','660084','660086','660089','660090','660093','660095','660097','660098','660100','660101','660102','660103','660106','660107','660108','660109','660117','660119','660120','660121','660124','660125','660126','660128','660129','660130','660133','660134','660135','660137','660138','660140','660141','660142','660145','660148','660150','660151','660152','660153','660154','660155','660157','660158','660159','660160','660161','660162','660163','660164','660165','660166','660168','660169','660170','660171','660173','660174','660175','660177','660178','660179','660181','660182','660184','660185','660186','660187','660190','660191','660192','660193','660194','660195','660196','660197','660198','660199','660200','660202','660203','660204','660205','660206','660207','660208','660209','660210','660213','660214','660216','660217','660218','660219','660220','660221','660222','660224','660225','660227','660229','660231','660232','660233','660234','660235','660237','660242','660244','660246','660248','660271','660298','660309','660392','660394','660395','660396','660398','660438','660444','660454','660456','660458','660460','660475','660477','660485','660493','660494','660503','660507','660509','660512','660514','660515','660516','660523','660525','660528','660532','660534','660542','660543','660544','660545','660548','660549','660552','660553','660554','660555','660556','660563','660564','660567','660569','660570','660571','660572','660573','660574','660819','660820','660822','660849','660850','661629','661636','661641','661642','661643','661644','661645','661646','661647','661648','661649',
				'661651','661652','661653','661655','661656','661657','661658','661659','661660','661661','661663','661664','661668','661737','661770','661771','661772','661773','661774','661776','661777','661778','661779','661780','661782','661783','661784','661785','661786','661787','661788','661789','661790','661792','661793','661794','661796','661797','661798','661799','661801','661803','661804','661805','661806','661807','661808','661811','661812','661814','661815','661816','661817','661818','661819','661820','661821','661823','661824','661825','661826','661827','661828','661829','661830','661831','661832','661834','661835','661836','661838','661839','661840','661841','661843','661846','661847','661848','661849','661850','661852','661853','661854','661855','661856','661857','661858','661859','661860','661864','661867','661868','661869','661870','661871','661873','661874','661875','661877','661878','661879','661884','661885','661886','661887','661889','661890','661891','661892','661893','661894','661895','661896','661897','661898','661899','661900','661902','661903','661904','661905','661906','661907','661908','661909','661910','661911','661913','661917','661918','661919','661920','661922','661923','661925','661927','661928','661929','661930','661931','661932','661934','661935','661938','661939','661941','661942','661943','661944','661945','661946','661947','661948','661949','661950','661951','661952','661953','661954','661955','661956','661957','661958','661959','661960','661962','661963','661964','661965','661966','661968','661969','661970','661971','661973','661974','661975','661976','661978','661979','661980','661985','661988','661990','661991','661992','661993','661994','661995','661996','661998','661999','662001','662002','662003','662006','662007','662008','662013','662014','662015','662016','662017','662019','662020','662021','662022','662023','662025','662029','662030','662031','662032','662033','662034','662035','662036','662037','662038','662039','662041','662043','662045','662046','662047','662048','662049','662050','662051','662052','662053','662056','662057','662058','662059','662060','662061','662064','662065','662066','662067','662068','662069','662070','662071','662072','662073','662075','662076','662078','662079','662080','662081','662082','662083','662084','662085','662086','662087','662088','662089','662090','662091','662092','662093','662094','662095','662096','662097','662098','662099','662100','662101','662103','662104','662105','662108','662109','662110','662111','662112','662113','662115','662116','662117','662118','662120','662122','662123','662124','662125','662126','662127','662128','662129','662132','662133','662134','662135','662136','662137','662138','662139','662141','662142','662144','662221','662318','662587','662588','662592','662593','662595','662596','662597','662599','662600','662601','662603','662604','662605','662608','662609','662610','662611','662612','662614','662615','662617','662618','662619','662620','662621','662622','662623','662624','662626','662627','662628','662630','662631','662632','662633','662634','662635','662637','662638','662639','662640','662641','662642','662643','662644','662646','662647','662648','662649','662650','662651','662652','662653','662654','662655','662656','662657','662658','662659','662660','662661','662662','662663','662664','662665','662666','662668','662669','662670','662671','662672','662673','662674','662675','662676','662677','662678','662679','662680','662681','662682','662683','662684','662686','662688','662689','662690','662691','662692','662693','662694','662695','662697','662698','662699','662700','662702','662703','662704','662706','662707','662708','662709','662710','662711','662712','662713','662715','662716','662717','662718','662719','662720','662721','662722','662723','662724','662725','662726','662727','662728','662729','662730','662731','662733','662734','662735','662737','662738','662740','662742','662743','662746','662747','662748','662749','662750','662751','662752','662753','662754','662755','662757','662759','662760','662761','662762','662763','662764','662765','662766','662767','662769','662770','662771','662773','662774','662775','662776','662777','662778','662780','662781','662782','662783','662784','662785','662786','662787','662789','662790','662791','662792','662793','662794','662796','662797','662798','662799','662800','662801','662802','662803','662804','662805','662806','662807','662808','662809','662810','662811','662812','662813','662814','662815','662816','662817','662818','662819','662820','662821','662822','662823','662826','662827','662828','662829','662830','662831','662832','662833','662834','662835','662836','662837','662838','662839','662840','662841','662842','662843','662844','662846','662847','662848','662851','662852','662853','662854','662855','662856','662857','662858','662859','662860','662861','662862','662863','662864','662865','662867','662868','662869','662870','662871','662872','662873','662875','662876','662877','662878','662879','662880','662881','662882','662883','662885','662886','662887','662889','662890','662892','662893','662894','662895','662896','662898','662900','662901','662902','662903','662904','662905','662906','662907','662908','662909','662911','662913','662914','662915','662916','662917','662918','662919','662920','662921','662922','662923','662924','662925','662926','662930','662931','662932','662933','662934','662935','662936','662937','662938','662939','662940','662941','662942','662944','662945','662946','662947','662949','662950','662951','662952','662953','662954','662955','662956','662957','662958','662960','662961','662962','662965','662967','662968','662969','662970','662973','662974','662975','662976','662978','662979','662980','662984','662985','662986','662987','662988','662989','662990','662991','662992','662993','662994','662997','662998','662999','663000','663001','663002','663004','663005','663006','663007','663008','663009','663010','663011','663012','663013','663015','663016','663017','663018','663019','663020','663023','663024','663025','663026','663027','663028','663029','663030','663031','663032','663033','663034','663035','663036','663037','663038','663039','663040','663041','663042','663043','663044','663045','663046','663047','663049','663050','663051','663053','663054','663055','663056','663058','663060','663061','663062','663063','663065','663066','663067','663068','663069','663070','663071','663072','663073','663074','663075','663076','663077','663078','663079','663080','663082','663083','663084','663085','663086','663087','663105','663106','663140','663141','663143','663144','663145','663146','663147','663148','663149','663150','663151','663152','663153','663154','663155','663157','663159','663160','663161','663162','663163','663164','663165','663166','663167','663168','663169','663170','663171','663172','663175','663183','663184','663190','663193','663194','663195','663196','663197','663198','663199','663200','663201','663203','663204','663207','663217','663218','663219','663221','663224','663231','663232','663233','663236','663245','663246','663247','663248','663255','663256','663257','663266','663267','663317','663319','663562','663628','663630','663634','663635','663636','663747','663748','663749','663762','664084','664085','664087','664089','664090','664091','664092','664093','664096','664098','664099','664100','664101','664102','664103','664104','664107','664108','664110','664111','664112','664113','664114','664116','664117','664118','664119','664120','664121','664122','664123','664124','664125','664128',
				'664130','664131','664132','664133','664134','664135','664137','664138','664139','664141','664142','664143','664145','664146','664147','664149','664150','664153','664154','664156','664157','664158','664159','664160','664162','664163','664164','664165','664167','664168','664169','664170','664171','664172','664173','664174','664175','664176','664179','664180','664181','664182','664183','664184','664185','664186','664187','664188','664189','664192','664193','664195','664197','664198','664199','664200','664201','664203','664204','664205','664206','664207','664208','664209','664210','664211','664212','664213','664214','664215','664217','664218','664219','664220','664221','664223','664224','664225','664226','664227','664228','664229','664230','664231','664232','664233','664235','664236','664237','664238','664239','664240','664241','664242','664243','664244','664245','664246','664247','664249','664250','664252','664253','664254','664255','664256','664257','664258','664259','664260','664261','664262','664263','664264','664265','664266','664267','664268','664269','664270','664272','664273','664274','664275','664276','664277','664278','664279','664280','664282','664283','664284','664285','664287','664288','664289','664290','664291','664292','664293','664294','664295','664296','664298','664299','664300','664301','664302','664303','664304','664305','664307','664309','664310','664311','664312','664313','664314','664316','664317','664318','664319','664320','664322','664323','664324','664325','664326','664327','664328','664329','664330','664331','664332','664333','664334','664336','664337','664339','664340','664341','664342','664343','664344','664345','664346','664347','664349','664350','664351','664352','664353','664355','664357','664358','664359','664360','664362','664364','664365','664366','664367','664368','664369','664370','664371','664372','664373','664374','664375','664376','664377','664378','664380','664381','664382','664383','664384','664386','664387','664388','664389','664390','664391','664392','664393','664395','664396','664397','664398','664399','664400','664401','664402','664404','664405','664406','664407','664408','664409','664411','664412','664413','664414','664415','664416','664417','664418','664420','664421','664422','664425','664427','664428','664430','664431','664432','664434','664435','664437','664438','664440','664441','664444','664446','664447','664448','664449','664450','664451','664452','664453','664454','664455','664457','664458','664459','664460','664461','664462','664463','664464','664467','664468','664470','664471','664472','664473','664474','664476','664477','664478','664479','664480','664481','664482','664483','664485','664486','664488','664489','664490','664493','664494','664495','664496','664497','664499','664500','664502','664503','664504','664506','664507','664508','664509','664510','664511','664512','664513','664514','664515','664516','664517','664518','664519','664520','664521','664522','664523','664524','664525','664526','664527','664528','664529','664530','664531','664532','664533','664534','664535','664536','664537','664538','664539','664540','664541','664543','664544','664545','664546','664547','664549','664550','664551','664552','664553','664554','664555','664556','664558','664560','664561','664562','664563','664564','664565','664566','664567','664568','664569','664570','664571','664572','664574','664575','664577','664578','664579','664580','664581','664582','664583','664584','664585','664586','664588','664590','664591','664592','664593','664594','664595','664596','664597','664598','664600','664601','664602','664606','664607','664608','664609','664611','664613','664615','664616','664617','664618','664619','664622','664623','664624','664625','664626','664628','664629','664631','664633','664634','664636','664637','664638','664639','664640','664641','664642','664643','664644','664645','664646','664647','664649','664650','664654','664655','664656','664657','664658','664659','664660','664661','664662','664663','664664','664665','664666','664668','664670','664671','664673','664674','664675','664676','664677','664678','664679','664680','664681','664682','664685','664686','664688','664690','664691','664692','664693','664694','664695','664696','664697','664698','664699','664700','664701','664702','664703','664704','664705','664706','664707','664708','664709','664710','664711','664712','664713','664714','664715','664716','664717','664718','664719','664720','664721','664722','664723','664724','664725','664726','664727','664728','664729','664730','664731','664732','664733','664734','664735','664736','664738','664739','664740','664741','664742','664743','664745','664746','664747','664748','664751','664752','664753','664754','664755','664756','664757','664758','664759','664760','664761','664762','664764','664765','664766','664767','664768','664769','664770','664771','664772','664773','664774','664776','664778','664780','664781','664782','664783','664784','664785','664786','664787','664788','664789','664790','664791','664792','664793','664794','664795','664796','664797','664798','664799','664800','664801','664803','664806','664808','664809','664810','664811','664812','664814','664815','664816','664817','664819','664822','664823','664824','664825','664826','664827','664828','664829','664830','664832','664833','664834','664835','664836','664837','664838','664839','664840','664841','664842','664843','664844','664845','664847','664848','664849','664852','664854','664855','664859','664861','664862','664864','664865','664866','664867','664868','664869','664870',
				'664871','664872','664873','664874','664875','664876','664877','664878','664880','664881','664882','664883','664884','664885','664886','664887','664888','664889','664890','664891','664894','664895','664896','664897','664898','664899','664900','664901','664902','664903','664904','664905','664906','664908','664909','664910','664911','664914','664915','664917','664918','664920','664921','664922','664923','664925','664926','664927','664928','664929','664930','664931','664932','664933','664934','664935','664936','664939','664941','664942','664943','664944','664946','664947','664948','664949','664950','664951','664952','664953','664954','664956','664957','664958','664959','664960','664961','664962','664963','664964','664965','664966','664967','664968','664970','664971','664973','664974','664975','664976','664979','664980','664981','664982','664983','664984','664985','664986','664987','664988','664989','664990','664991','664992','664993','664994','664995','664996','664997','664998','664999','665000','665002','665003','665004','665005','665006','665007','665008','665010','665011','665012','665013','665014','665015','665016','665017','665018','665019','665020','665021','665023','665024','665025','665028','665030','665031','665032','665033','665034','665035','665036','665037','665038','665039','665042','665043','665045','665046','665047','665048','665049','665050','665052','665053','665054','665055','665059','665061','665062','665064','665065','665067','665068','665069','665070','665071','665072','665073','665074','665075','665076','665077','665078','665079','665080','665081','665082','665085','665087','665088','665089','665090','665091','665092','665094','665095','665096','665099','665100','665101','665102','665103','665104','665105','665106','665107','665109','665111','665113','665114','665115','665116','665117','665118','665121','665122','665123','665125','665126','665127','665128','665130','665131','665132','665133','665134','665135','665136','665137','665138','665139','665140','665142','665143','665144','665145','665146','665147','665148','665149','665150','665152','665153','665154','665156','665157','665158','665159','665160','665161','665162','665163','665164','665165','665167','665168','665169','665171','665172','665174','665175','665176','665177','665178','665179','665180','665181','665182','665183','665185','665186','665191','665192','665193','665194','665195','665196','665197','665198','665199','665200','665207','665208','665209','665211','665213','665214','665215','665217','665218','665219','665220','665221','665222','665223','665224','665226','665228','665229','665230','665231','665232','665233','665234','665236','665237','665238','665239','665241','665242','665380','665381','665382','665383','665384','665385','665386','665388','665389','665390','665391','665392','665393','665396','665397','665400','665401','665402','665403','665405','665406','665407','665408','665410','665411','665412','665413','665414','665415','665416','665417','665418','665419','665420','665421','665422','665423','665424','665425','665426','665428','665429','665430','665433','665434','665438','665439','665440','665442','665443','665444','665445','665446','665447','665448','665449','665450','665451','665453','665454','665455','665457','665458','665460','665461','665462','665463','665464','665465','665466','665467','665468','665469','665470','665471','665472','665473','665474','665475','665477','665478','665479','665480','665481','665482','665483','665484','665487','665488','665489','665490','665491','665493','665494','665496','665497','665621','665623','665624','665625','665626','665627','665628','665629','665630','665631','665632','665633','665635','665636','665637','665638','665639','665640','665641','665642','665643','665644','665645','665646','665648','665649','665650','665651','665652','665654','665655','665656','665657','665658','665659','665660','665661','665662','665664','665665','665667','665668','665669','665670','665671','665672','665673','665674','665675','665676','665677','665678','665679','665680','665681','665682','665684','665685','665686','665687','665688','665689','665690','665691','665692','665693','665694','665695','665696','665697','665698','665699','665701','665702','665703','665704','665705','665706','665707','665709','665710','665712','665714','665715','665716','665717','665718','665719','665723','665724','665726','665727','665728','665730','665733','665735','665739','665740','665741','665742','665744','665748','665750','665751','665752','665753','665754','665756','665759','665760','665762','665763','665764','665766','665767','665771','665774','665784','665787','665791','665793','665795','665796','665797','665802','665803','665805','665806','665808','665809','665810','665811','665813','665815','665816','665817','665818','665819','665820','665821','665823','665824','665826','665829','665830','665831','665834','665835','665836','665837','665838','665840','665841','665842','665844','665845','665846','665847','665848','665849','665851','665852','665854','665855','665856','665858','665859','665860','665862','665863','665865','665866','665868','665869','665870','665871','665872','665873','665875','665876','665877','665879','665880','665881','665882','665883','665884','665885','665886','665887','665888','665889','665890','665891','665892','665893','665894','665895','665896','665897','665898','665899','665900','665901','665902','665903','665904','665905','665906','665907','665908','665909','665910','665911','665912','665913','665914','665915','665917','665918','665919','665920','665921','665922','665925','665926','665928','665929','665930','665931','665932','665933','665934','665936','665937','665938','665939','665940','665941','665942','665943','665944','665945','665946','665947','665948','665949','665950','665952','665953','665955','665956','665957','665958','665959','665960','665961','665962','665963','665964','665965','665966','665967','665969','665970','665971','665972','665973','665974','665975','665976','665977','665978','665979','665981','665983','665984','665985','665986','665988','665989','665990','665993','665997','666000','666002','666005','666006','666007','666008','666009','666010','666011','666012','666013','666014','666015','666016','666017','666018','666019','666020','666021','666022','666023','666024','666025','666026','666027','666028','666029','666030','666031','666033','666034','666035','666036','666037','666038','666039','666040','666041','666042','666043','666044','666045','666046','666047','666048','666049','666050','666051','666052','666053','666054','666055','666056','666057','666058','666059','666060','666061','666062','666063','666064','666065','666066','666067','666068','666069','666070','666071','666072','666073','666074','666076','666077','666078','666079','666080','666081','666082','666083','666084','666085','666086','666087','666088','666089','666090','666091','666093','666094','666095','666096','666097','666098','666099','666100','666101','666102','666103','666104','666105','666106','666107','666108','666109','666110','666111','666112','666113','666114','666115','666116',
				'666117','666118','666119','666120','666121','666122','666123','666124','666125','666126','666127','666128','666129','666130','666131','666132','666133','666134','666136','666137','666138','666139','666140','666141','666142','666143','666144','666145','666146','666147','666148','666149','666150','666151','666152','666154','666155','666156','666157','666158','666159','666160','666161','666162','666163','666164','666165','666166','666167','666168','666170','666171','666172','666173','666174','666175','666176','666178','666179','666180','666181','666182','666183','666184','666185','666186','666187','666189','666190','666191','666192','666193','666194','666195','666196','666198','666199','666201','666203','666204','666205','666206','666207','666208','666209','666210','666211','666212','666213','666214','666215','666216','666217','666218','666219','666220','666221','666222','666223','666224','666225','666226','666227','666228','666229','666230','666231','666232','666233','666235','666236','666237','666238','666239','666241','666242','666243','666244','666245','666247','666248','666249','666250','666251','666252','666253','666254','666255','666256','666257','666258','666259','666260','666261','666262','666263','666264','666265','666266','666267','666268','666269','666270','666271','666272','666273','666274','666275','666277','666278','666279','666280','666281','666282','666283','666284','666285','666286','666287','666288','666289','666290','666292','666293','666294','666295','666296','666297','666298','666299','666300','666301','666302','666303','666304','666305','666306','666307','666308','666310','666311','666312','666314','666315','666316','666318','666319','666320','666322','666323','666324','666325','666326','666327','666329','666330','666331','666332','666333','666334','666335','666336','666337','666338','666339','666341','666342','666343','666344','666345','666346','666347','666348','666349','666350','666351','666352','666353','666354','666355','666356','666357','666358','666359','666360','666361','666363','666364','666365','666366','666367','666368','666369','666370','666372','666373','666374','666375','666376','666377','666378','666379','666380','666381','666382','666383','666384','666385','666386','666387','666388','666389','666390','666391','666392','666393','666394','666395','666396','666397','666398','666399','666400','666401','666402','666403','666404','666405','666406','666407','666408','666409','666410','666411','666412','666413','666414','666415','666416','666417',
				'666418','666419','666420','666421','666422','666424','666425','666426','666427','666428','666429','666430','666431','666432','666433','666434','666435','666436','666437','666438','666439','666440','666441','666442','666443','666444','666445','666446','666447','666448','666449','666450','666451','666452','666453','666454','666455','666456','666457','666458','666459','666460','666461','666462','666463','666464','666465','666466','666467','666468','666469','666470','666471','666472','666473','666475','666476','666477','666478','666479','666480','666481','666482','666483','666484','666485','666486','666487','666488','666489','666491','666492','666493','666494','666495','666496','666497','666498','666499','666500','666501','666502','666503','666504','666505','666506','666507','666508','666509','666510','666511','666512','666513','666514','666515','666516','666517','666519','666520','666521','666523','666524','666525','666526','666527','666528','666529','666530','666532','666533','666534','666535','666536','666537','666538','666539','666540','666541','666542','666543','666544','666545','666546','666547','666548','666549','666550','666551','666552','666553','666554','666555','666556','666557','666558','666559','666560','666561','666562','666563','666564','666566','666567','666568','666569','666570','666571','666572','666573','666574','666575','666576','666577','666578','666579','666580','666581','666582','666583','666584','666585','666586','666587','666588','666589','666590','666591','666592','666593','666594','666595','666596','666597','666598','666599','666602','666603','666604','666605','666606','666607','666608','666609','666610','666611','666612','666613','666614','666615','666616','666617','666618','666619','666620','666621','666622','666623','666624','666625','666626','666627','666628','666629','666630','666631','666632','666633','666634','666635','666636','666637','666638','666639','666640','666641','666642','666643','666644','666645','666646','666647','666648','666649','666650','666651','666652','666653','666654','666655','666656','666657','666658','666659','666660','666661','666662','666663','666664','666665','666666','666667','666668','666669','666670','666671','666672','666673','666674','666675','666676','666677','666678','666679','666680','666681','666682','666683','666684','666685','666686','666687','666688','666689','666690','666692','666693','666694','666695','666696','666697','666698','666699','666700','666701','666702','666703','666704','666706','666707','666708','666709','666710','666711','666712','666713','666714','666715','666716','666717','666718','666719','666720','666721','666722','666723','666724','666725','666726','666727','666728','666729','666730','666731','666732','666733','666734','666735','666736','666737','666738','666739','666740','666741','666742','666743','666744','666745','666746','666747','666748','666749','666750','666751','666752','666753','666754','666755','666756','666757','666758','666759','666760','666761','666762','666763','666764','666765','666766','666767','666768','666769','666770','666771','666772','666773','666774','666775','666776','666777','666778','666779','666780','666781','666782','666783','666784','666785','666786','666787','666788','666789','666790','666791','666792','666793','666794','666796','666797','666798','666799','666800','666801','666803','666804','666806','666807','666808','666810','666811','666812','666813','666814','666815','666816','666817','666818','666819','666820','666821','666822','666823','666824','666825','666826','666827','666828','666829','666830','666831','666832','666833','666834','666835','666836','666837','666838','666839','666840','666841','666842','666843','666844','666845','666847','666849','666850','666851','666852','666853','666854','666855','666856','666857','666858','666859','666860','666861','666862','666863','666864','666865','666866','666867','666868','666869','666870','666871','666872','666873','666874','666875','666876','666877','666878','666879','666880','666881','666882','666883','666884','666885','666886','666887','666888','666889','666890','666891','666892','666893','666895','666897','666899','666900','666903','666904','666905','666906','666908','666909','666910','666911','666912','666915','666916','666917','666919','666920','666923','666924','666925','666926','666928','666929','666930','666932','666933','666934','666935','666936','666937','666938','666939','666940','666941','666943','666944','666945','666946','666947','666948','666949','666950','666951','666953','666954','666955','666956','666957','666958','666959','666960','666961','666962','666965','666966','666967','666969','666972','666973','666974','666975','666976','666977','666978','666979','666980','666981','666982','666983','666985'
			))
		){
			$this->view->fine           = $info['sum'];
			$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_21);
			if(!empty($this->view->popup_content)){
				$this->view->popup_title 		= _('Стоимость обучения РГСУ');
				$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_21;
				echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
			}			
		}
		*/
		
		
		# финансовая задолженность 22
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$debt_info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_22, $user->mid_external);
			if(!empty($debt_info)){
				$this->view->fine 			= $debt_info['sum'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_22);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_22;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		# финансовая задолженность 23
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$debt_info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_23, $user->mid_external);
			if(!empty($debt_info)){
				$this->view->fine 			= $debt_info['sum'];
				$this->view->date_to 		= $debt_info['date'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_23);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_23;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		# финансовая задолженность 24
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$debt_info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_24, $user->mid_external);
			if(!empty($debt_info)){
				$this->view->fine 			= $debt_info['sum'];
				$this->view->date_to 		= $debt_info['date'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_24);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_24;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		# финансовая задолженность 25
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$debt_info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_25, $user->mid_external);
			if(!empty($debt_info)){
				$this->view->fine 			= $debt_info['sum'];
				$this->view->date_to 		= $debt_info['date'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_25);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_25;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		# финансовая задолженность 26
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
			&&
			in_array($user->mid_external, array(
				'77', '533715','615333','526622','602794','628003','630400','627120','165329','632077','534950','634674','528261','503201','536071','638072','638803','641347','641178','642130','508493','484652','643288','644827','644956','644801','645439','645477','646929','647589','647087','647045','648402','645822','647132','648526','648053','649322','651046','651077','651157','651779','651785','651884','651998','652232','652321','652390','653395','654207','654274','654300','653145','654463','654652','654659','657534','657756','657834','657605','657705','657578','657570','657848','657855','656794','658999','659152','659417','658658','658742','659554','659456','659801','658950','659809','659830','660235','660237','659946','660011','660121','660509','660547','662615','662603','662623','662054','662794','661832','662100','662921','662956','663039','663168','662338','663630','664099','664172','664678','664653','664962','665192','664971','665145','664723','665984','665856','666022','666579','666732','666756','666757','666112','666111','666133','666944','668592','669264','669470','669547','669622','669347','669395','669644','669825','669983','671525','671582','671635','671169','671278','671396','671397','670656','671123','671389','671409'
			))
		){
			$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_26);
			if(!empty($this->view->popup_content)){
				$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
				$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_26;
				echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
			}
		}
		*/

		# финансовая задолженность 27
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT			
		){
			$debt_info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_27, $user->mid_external);
			if(!empty($debt_info)){
				$this->view->fine 			= $debt_info['sum'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_27);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_27;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/

		# финансовая задолженность 28
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT			
		){
			$debt_info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_28, $user->mid_external);
			if(!empty($debt_info)){
				$this->view->fine 			= $debt_info['sum'];
				$this->view->date_to		= $debt_info['date'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_28);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_28;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/

		# финансовая задолженность 30		
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT			
		){
			$debt_info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_30, $user->mid_external);
			if(!empty($debt_info)){
				$this->view->fine 			= $debt_info['sum'];
				$this->view->date_to		= $debt_info['date'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_30);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_30;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		# финансовая задолженность 32 (04.10.2022)		
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT			
		){
			$debt_info = HM_StudentNotification_Agreement_AgreementModel::getInfo(HM_StudentNotification_Agreement_AgreementModel::TYPE_77, $user->mid_external);
			if(!empty($debt_info)){
				$this->view->fine 			= $debt_info['sum'];
				$this->view->date_to		= $debt_info['date'];
				$this->view->popup_content	= $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_77);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_77;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		# Опрос ВУС	 Отношение к службе в армии	
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
			&&
			$user->Gender == HM_User_Metadata_MetadataModel::GENDER_MALE			
		){
			$age = date_create('now')->diff( date_create(date('Y-m-d', strtotime($user->BirthDate))) )->y; # возраст. Полных лет
			if($age >= 18 && $age <= 27){
				$this->view->notification_type = HM_StudentNotification_Agreement_AgreementModel::TYPE_MILITARY_4;
				$this->view->popup_content	   = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_MILITARY_4);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Отношение к службе в армии');
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		# ВУС Заполнение информации
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
			&&
			$user->Gender == HM_User_Metadata_MetadataModel::GENDER_MALE
		){
			$recruitInfo = $this->getService('Recruits')->getRecruitInfo($user->mid_external);
			if($recruitInfo){			
				$this->view->notification_type = HM_StudentNotification_Agreement_AgreementModel::TYPE_MILITARY_5;
				$this->view->popup_content	   = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_MILITARY_5);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Военно-учетный стол');
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		# О расписании занятий
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){	
			$allow_users = array(
				5829, 73625,81203,81888,81889,81890,81891,81892,81893,81894,81895,81896,81897,81898,81899,81900,81901,81902,81903,81904,81905,81906,81907,81908,81909,81910,81911,81912,81913,81914,81915,81916,81917,81918,81919,81920,81921,81922,81923,81924,81925,81926,81927,81928,81929,81930,81931,81932,81933,81934,81935,81936,81937,81938,81939,81940,81942,81943,81944,81945,81946,81947,81948,81949,81950,81951,81952,81953,81954,81955,81956,81957,81958,81959,81960,81961,81962,81963,81964,81965,81966,81967,81968,81969,81970,81971,81972,81973,81974,81975,81976,81977,81978,81979,81980,81981,81982,81983,81984,81985,81986,81987,81988,81989,81990,81991,81992,81993,81994,81995,81996,81997,81998,81999,82000,82001,82002,82004,82005,82006,82007,82008,82009,82010,82011,82012,82013,82014,82015,82016,82017,82018,82019,82020,82021,82022,82023,82024,82025,82026,82027,82028,82029,82030,82031,82032,82033,82034,82035,82036,82037,82038,82039,82040,82041,82042,82043,82044,82045,82046,82047,82048,82049,82050,82051,82052,82053,82054,82055,82056,82057,82058,82059,82060,82061,82062,82063,82064,82065,82066,82067,82068,82069,82070,82071,82072,82073,82074,82075,82076,82077,82078,82079,82080,82081,82082,82083,82084,82085,82086,82087,82088,82089,82090,82091,82092,82093,82094,82095,82118,82119,82173,82174,82175,82197,82198,82199,82200,82201,82202,82203,82204,82205,82206,82207,82208,82209,82210,82211,82212,82213,82214,82497,82498,82499,82500,82501,82502,82504,82505,82506,82507,82508,82509,82510,82511,82512,82513,82514,82515,82543,82585,82586,82587,82588,82589,82590,82591,82592,82593,82594,82595,82596,82597,82598,82599,82600,82601,82602,82603,82604,82605,82606,82607,82608,82609,82610,82611,82612,82613,82614,82615,82616,82617,82618,82619,82620,82621,82622,82623,82624,82625,82626,82627,82628,82629,82630,82631,82632,82633,82634,82635,82636,82637,82638,82639,82640,82641,82642,82643,82644,82645,82646,82647,82648,82649,82650,82651,82652,82653,82654,82655,82656,82657,82658,82659,82660,82661,82662,82663,82664,82665,82666,82667,82668,82669,82670,82671,82672,82673,82674,82675,82676,82677,82678,82679,82680,82681,82682,82683,82684,82685,82686,82687,82688,82689,82690,82691,82692,82693,82694,82695,82696,82697,82698,82699,82700,82701,82702,82703,82704,82705,82706,82707,82708,82709,82710,82711,82712,82713,82714,82715,82716,82717,82718,82719,82720,82721,82722,82723,82724,82725,82726,82727,82728,82729,82730,82731,82732,82733,82734,82735,82736,82737,82738,82739,82740,82741,82742,82743,82744,82745,82746,82747,82748,82749,82750,82751,82752,82753,82754,82755,82756,82757,82758,82759,82760,82762,82763,82764,82765,82766,82767,82768,82769,82770,82771,82772,82773,82774,82776,82777,82778,82779,82780,82781,82782,82783,82784,82785,82786,82787,82788,82789,82790,82791,82792,82793,82794,82795,82796,82797,82798,82799,82800,82801,82802,82803,82804,82805,82806,82807,82808,82809,82810,82811,82812,82813,82814,82815,82816,82817,82818,82819,82820,82821,82822,82823,82824,82825,82826,82827,82828,82829,82830,82831,82832,82833,82834,82835,82836,82837,82838,82839,82840,82841,82842,82843,82844,82845,82846,82847,82848,82849,82850,82851,82852,82853,82854,82855,82856,82857,82858,82859,82860,82861,82862,82863,82864,82865,82866,82867,82868,82869,82870,82871,82872,82873,82874,82875,82876,82877,82878,82879,82880,82881,82882,82883,82884,82885,82886,82887,82888,82889,82890,82891,82892,82893,82894,82895,82896,82897,82898,82899,82900,82901,82902,82903,82904,82905,82906,82907,82908,82909,82910,82911,82912,82913,82914,82915,82916,82917,82918,82919,82920,82921,82922,82923,82924,82925,82926,82927,82928,82929,82930,82931,82932,82933,82934,82935,82936,82937,82938,82939,82940,82941,82942,82943,82944,82945,82946,82947,82948,82949,82991,82992,82993,82994,82995,82996,82997,82998,82999,83000,83001,83002,83003,83004,83005,83006,83007,83008,83009,83012,83013,83014,83015,83016,83017,83018,83019,83020,83021,83022,83023,83024,83025,83026,83027,83028,83029,83030,83031,83032,83033,83034,83035,83036,83037,83038,83039,83040,83041,83042,83043,83044,83045,83053,83054,83057,83058,83059,83060,83061,83062,83079,83080,83081,83082,83083,83084,83085,83086,83087,83093,83094,83095,83096,83097,83098,83099,83100,83101,83102,83103,83104,83105,83106,83107,83108,83109,83110,83111,83112,83113,83114,83115,83116,83117,83118,83119,83120,83121,83122,83123,83124,83125,83126,83127,83128,83129,83130,83131,83132,83133,83134,83135,83136,83137,83138,83139,83140,83141,83142,83144,83145,83146,83147,83148,83149,83150,83151,83152,83153,83154,83155,83156,83157,83158,83159,83160,83161,83162,83163,83164,83165,83166,83167,83168,83169,83170,83171,83172,83173,83174,83175,83176,83177,83178,83179,83180,83181,83182,83183,83184,83185,83186,83187,83188,83189,83190,83191,83192,83193,83194,83195,83196,83197,83198,83199,83200,83201,83202,83203,83204,83205,83206,83207,83208,83209,83210,83211,83212,83213,83214,83215,83216,83217,83218,83219,83220,83221,83222,83223,83224,83225,83226,83227,83228,83229,83230,83231,83232,83233,83234,83235,83236,83237,83238,83239,83240,83241,83242,83243,83244,83245,83246,83247,83248,83249,83250,83251,83252,83253,83254,83255,83256,83257,83258,83259,83260,83261,83262,83263,83264,83265,83266,83267,83268,83269,83270,83271,83272,83273,83274,83275,83276,83277,83278,83279,83280,83281,83282,83283,83284,83285,83286,83287,83288,83289,83290,83291,83292,83293,83294,83295,
				83296,83297,83298,83299,83300,83301,83302,83303,83304,83305,83306,83307,83308,83309,83310,83311,83312,83313,83314,83315,83316,83317,83318,83319,83320,83321,83322,83323,83324,83325,83326,83327,83328,83331,83332,83333,83334,83335,83359,83360,83361,83414,83415,83438,83439,83440,83441,83442,83443,83444,83445,83446,83447,83448,83449,83450,83451,83452,83453,83454,83455,83680,83681,83682,83683,83684,83685,83686,83687,83688,83689,83690,83691,83692,83693,83694,83695,83696,83697,83698,83757,83758,83759,83760,83761,83762,83763,83764,83765,83766,83767,83851,83852,83853,83854,83855,83856,83857,83858,83859,83860,83861,83862,83863,83864,83865,83866,83867,83868,83869,83870,83871,83872,83873,83874,83875,83876,83877,83878,83879,83880,83881,83882,83883,83884,83885,83886,83887,83888,83889,83890,83891,83892,83893,83894,83895,83896,83897,83898,83899,83900,83901,83902,83903,83904,83905,83906,83907,83908,83909,83910,83911,83912,83913,83914,83915,83916,83917,83918,83919,83920,83921,83922,83923,83924,83925,83926,83927,83928,83929,83930,83931,83932,83933,83934,83935,83936,83937,83938,83939,83940,83941,83942,83943,83944,83945,83946,83947,83948,83949,83950,83951,83952,83953,83954,83955,83956,83957,83958,83959,83960,83961,83962,83963,83964,83965,83966,83967,83968,83969,83970,83971,83972,83973,83974,83975,83976,83977,83978,83979,83980,83981,83982,83983,83984,83985,83986,83987,83988,83989,83990,83991,83992,83993,83994,83995,83997,83998,83999,84000,84001,84002,84003,84004,84005,84006,84007,84008,84009,84010,84011,84012,84013,84014,84015,84016,84017,84018,84019,84020,84021,84022,84023,84024,84025,84026,84027,84028,84029,84030,84031,84032,84033,84034,84035,84036,84037,84038,84039,84040,84041,84042,84043,84044,84045,84046,84047,84048,84049,84050,84051,84052,84053,84054,84055,84056,84057,84058,84059,84060,84061,84062,84063,84064,84065,84066,84067,84068,84069,84070,84071,84072,84073,84074,84075,84076,84077,84078,84079,84080,84081,84082,84083,84084,84085,84086,84087,84088,84089,84090,84091,84092,84093,84094,84095,84096,84097,84098,84099,84100,84101,84102,84103,84104,84105,84106,84107,84108,84109,84110,84111,84112,84113,84114,84115,84116,84117,84118,84119,84120,84121,84122,84123,84124,84125,84126,84127,84128,84129,84130,84131,84132,84133,84134,84135,84136,84137,84138,84139,84140,84141,84142,84143,84144,84145,84146,84147,84148,84149,84150,84152,84153,84154,84155,84156,84157,84158,84159,84160,84161,84162,84163,84164,84165,84166,84167,84168,84169,84170,84171,84172,84173,84174,84175,84176,84177,84178,84179,84180,84181,84182,84183,84184,84185,84186,84187,84188,84189,84190,84191,84192,84193,84194,84195,84196,84197,84198,84199,84200,84201,84202,84203,84204,84205,84206,84207,84208,84209,84210,84247,84248,84249,84250,84251,84252,84253,84254,84255,84256,84257,84258,84259,84260,84261,84262,84263,84264,84265,84266,84267,84268,84269,84270,84271,84272,84273,84274,84275,84276,84277,84278,84281,84282,84283,84284,84285,84287,84288,84289,84290,84291,84292,84293,84294,84295,84296,84297,84298,84299,84300,84301,84302,84303,84313,84321,84322,84323,84324,84325,84326,84327,84328,84329,84333,84335,84336,84337,84338,84339,84340,84341,84342,84343,84344,84345,84346,84347,84348,84349,84553,84554,84555,84556,84557,84558,84559,84560,84561,84562,84563,84564,84567,84568,84569,84577,84583
			);
			if(in_array($user->MID, $allow_users)){
				$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_13);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('О расписании занятий');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_13;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		# Приглашение на участие в форсайт-сессии
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){	
			$allow_users = array(
				18098,54798,56348,57734,58169,58710,59344,59352,59745,59968,59976,60856,61934,62621,62672,62695,62816,62835,63415,63774,63778,64340,65479,65812,66220,66959,66965,67143,68242,68267,68303,68638,68759,68845,68864,68932,68936,68951,69326,69602,69715,70465,70884,71106,71820,71933,72470,72605,72789,73079,73547,73697,73812,
				73836,73859,74228,74235,74345,74404,74560,74685,75556,75703,75785,76636,76922,77082,77166,77719,78119,78274,78453,78499,78612,82077,82473,83124,83308,83453,83612,83864,83958,83987,84879,84917,84945,84982,85195,85335,85426,85758,85897,86212,86241,86249
			);
			if(in_array($user->MID, $allow_users)){
				$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_14);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Приглашение на участие в форсайт-сессии');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_14;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}

		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			time() < strtotime('26.01.2022 23:59:59')
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
			&&
			in_array($user->organization, array('РГСУ', 'Анапа', 'Клин', 'Павловский Посад', 'Пятигорск', 'Сочи'))
		){
			$userInfo = $this->getService('UserInfo')->getCurrentUserInfo();
			if($userInfo && $userInfo->status == HM_User_Info_InfoModel::STATUS_IN_STUDY && $userInfo->based == HM_User_Info_InfoModel::BASED_CONTRACT){
				$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_15);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('О сумме задолженности');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_15;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
			&&
			in_array($user->organization, array('РГСУ', 'Анапа', 'Клин', 'Павловский Посад', 'Пятигорск', 'Сочи'))
		){
			$userInfo = $this->getService('UserInfo')->getCurrentUserInfo();
			if($userInfo && $userInfo->status == HM_User_Info_InfoModel::STATUS_IN_STUDY && $userInfo->based == HM_User_Info_InfoModel::BASED_CONTRACT){
				$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_29);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Информация');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_29;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}

		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
			&&
			in_array($user->organization, array('РГСУ', 'Анапа', 'Клин', 'Павловский Посад', 'Пятигорск', 'Сочи'))
		){
			$userInfo = $this->getService('UserInfo')->getCurrentUserInfo();
			if($userInfo && $userInfo->status == HM_User_Info_InfoModel::STATUS_IN_STUDY && $userInfo->based == HM_User_Info_InfoModel::BASED_CONTRACT){
				$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_18);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Информация');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_18;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
			

		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
			&&
			in_array($user->organization, array('РГСУ', 'Анапа', 'Клин', 'Павловский Посад', 'Пятигорск', 'Сочи'))
		){
			$userInfo = $this->getService('UserInfo')->getCurrentUserInfo();
			if($userInfo && $userInfo->status == HM_User_Info_InfoModel::STATUS_IN_STUDY && $userInfo->based == HM_User_Info_InfoModel::BASED_CONTRACT){
				$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_16);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Информация');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_16;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		

		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){
			$allow_users = array(
				5829,6070,10071,12778,13379,18012,19347,19704,21719,21947,21991,22335,22926,23348,23548,23869,23956,24329,24839,24959,25431,25871,26307,28093,30420,30687,31809,33110,33212,33263,34768,37004,40739,46054,47232,48636,48854,49534,49758,49939,50071,50185,50203,50320,50326,51708,52109,52434,53425,53716,53804,53835,54562,54724,54752,55510,55666,55737,
				56083,56323,56343,56548,57138,57141,57269,57303,57332,57333,57520,57526,57653,57660,57675,57681,57682,57721,57936,58138,58169,58422,58475,58509,58541,58561,58579,58848,58881,58899,58913,59080,59222,59420,59468,59578,59579,59584,59706,59966,60039,60593,60694,60697,60941,61068,61073,61132,61198,61311,61337,61499,61685,61812,61921,61923,61925,61931,61932,61959,62017,62149,62717,63601,63613,63616,63631,63675,63677,
				63684,63691,63733,63758,63771,63778,63784,63785,63787,63790,63810,63811,63813,63818,63820,63831,63832,63836,63854,63860,63874,63883,63890,63911,63914,63926,63927,63959,63960,63967,63976,63977,63978,63983,63995,63997,64010,64029,64030,64032,64036,64038,64042,64049,64109,64115,64142,64144,64165,64169,64181,64191,64192,64197,64199,64202,64203,64226,
				64229,64231,64232,64245,64247,64248,64274,64286,64290,64303,64313,64320,64323,64326,64340,64347,64348,64350,64368,64374,64377,64383,64389,64390,64400,64411,64413,64424,64426,64442,64443,64452,64453,64468,
				64472,64474,64476,64478,64495,64503,64514,64521,64800,65747,65769,65793,65800,65854,65859,65866,65869,65872,65886,65897,65899,65903,65912,65926,65968,65973,65977,65978,65990,66000,66035,66062,66067,66068,66069,66070,66076,66086,66087,66090,66094,66108,66111,66115,66117,66121,66122,66126,66145,66146,66153,66162,66165,66167,66192,66206,66228,66229,
				66285,66287,66289,66295,66299,66312,66313,66315,66329,66331,66333,66335,66359,66370,66399,66408,66409,66411,66560,66569,66572,66575,66591,66593,66595,66603,66605,66613,66618,66657,66660,66665,66670,66781,66789,66790,66792,66796,66829,66843,66871,66879,66907,66915,66939,66952,
				67000,67012,67026,67032,67041,67055,67057,67060,67066,67079,67083,67087,67098,67104,67135,67190,67646,67702,67706,67712,67762,67766,67778,67783,67786,67794,67796,67833,67851,68002,68006,68012,68024,68034,68062,
				68141,68451,68465,68478,68493,68540,68542,68564,68582,68583,68586,68588,68594,68595,68606,68611,68613,68618,68625,68626,68628,68629,68634,68635,68636,68638,68644,68679,68680,68681,68711,68754,68775,68776,69126,69127,69128,69130,69149,69152,69158,69159,69175,69179,69202,69203,69219,69220,69255,69260,69262,69272,69273,69279,69284,69286,69297,69300,69303,69308,69312,69317,69321,69323,69337,69340,69363,69365,69368,
				69450,69451,69452,69454,69456,69464,69472,69473,69475,69477,69480,69483,69486,69488,69490,69492,69560,69574,69577,69580,69619,69627,69628,69633,69638,69639,69640,69641,69649,69650,69652,69653,69657,69661,69665,69669,69674,69675,69677,69680,69681,69683,69685,69687,69693,69694,69700,69702,69745,69750,69760,69764,69767,69772,69774,69783,69784,69787,
				69792,69795,69797,69804,69808,69810,69815,69816,69817,69818,69819,69823,69829,69833,69842,69848,69851,69938,69946,69952,69953,69956,69958,69968,69970,69984,69988,69992,69993,70000,70200,70382,70405,70409,70410,70448,70459,70460,70521,70525,70546,70553,70557,70623,70626,70630,70639,70658,70712,70744,70775,70783,70788,70792,70798,70824,70827,70837,70862,70864,70874,70879,70898,70913,70915,70920,70929,70940,70944,70968,70971,70974,70986,70994,71007,71012,71018,71020,71050,71131,71168,71361,71368,71389,71449,71454,71505,71520,71523,71542,71544,71550,
				71601,71614,71631,71633,71636,71639,71659,71661,71684,71705,71752,71844,71845,71858,71860,71880,71884,71898,71906,71907,71909,71911,71915,71918,71934,71940,71963,71965,71982,72152,72226,72308,72336,72342,72346,72389,72397,72447,72451,72452,72453,72461,72463,72469,72479,72480,72482,72485,72486,72500,72509,72520,72529,72539,72540,72555,72563,72578,
				72581,72583,72585,72605,72616,72619,72621,72628,72631,72640,72641,72650,72656,72673,72676,72677,72678,72682,72691,72693,72695,72696,72699,72703,72709,72712,72714,72715,72717,72719,72731,72732,72738,72742,72754,72764,72769,72815,72820,72821,72826,72848,72877,72883,72884,72888,72891,72915,73089,73116,73149,73160,73164,73168,73169,73173,73186,73187,73191,73193,73211,73213,73214,73219,73220,73222,73225,73226,73249,73250,73251,73260,73265,73267,73283,73285,73291,73296,73299,73308,
				73311,73315,73317,73326,73331,73335,73337,73339,73340,73341,73350,73357,73359,73362,73365,73372,73377,73382,73383,73388,73404,73407,73410,73414,73416,73419,73421,73422,73429,73433,73436,73441,73446,73448,73452,73456,73887,73917,73919,73927,73929,73930,73936,73937,73940,73945,73968,73972,73979,73981,73985,73992,74001,74014,74017,74019,74021,74033,74054,74055,74056,74064,74067,74070,74073,74074,74076,74088,74090,74099,74101,74103,74104,74108,74353,74491,74492,74535,74537,74540,74543,
				74545,74548,74553,74558,74578,74583,74591,74592,74593,74596,74597,74600,74604,74605,74607,74609,74611,74613,74615,74617,74618,74621,74631,74636,74637,74638,74641,74644,74649,74654,74690,74694,74697,74699,74709,74719,74725,74726,74728,74732,74734,74735,74740,74744,74748,74753,74761,74763,74765,74770,74773,74774,74779,74784,74787,74795,74803,74810,74814,74820,74821,74823,74841,74868,74869,74872,74877,74878,74882,74886,74889,74891,74896,74898,74900,74908,74910,74913,74914,74915,74919,74924,74926,74927,74937,74943,74945,74949,74950,74954,74964,74966,
				74969,74999,75198,75244,75253,75255,75263,75270,75297,75318,75320,75322,75350,75358,75369,75399,75435,75438,75459,76112,76114,76116,76121,76149,76159,76190,76195,76196,76198,76223,76232,76270,76291,76294,76295,76298,76301,76311,76325,76327,76330,76332,76337,76338,76339,76342,76351,76355,76359,76360,76363,76365,76369,76373,76374,76386,76389,76390,76391,76395,76400,76408,76410,76417,76422,76423,76424,76425,76430,76435,76446,76452,76464,76468,76471,76474,76475,76476,76478,76484,76486,
				76488,76492,76494,76504,76512,76519,76523,76524,76527,76528,76544,76573,76578,76582,76583,76588,76592,76606,76619,76623,76627,76631,76633,76634,76636,76643,76654,76684,76685,76697,76698,76703,76709,76716,76718,76725,76729,76735,76741,76747,76756,76761,76768,76771,76774,76783,76787,76788,76802,76805,76812,76814,76817,76819,76823,76827,76838,76844,76845,76846,76854,76860,76861,76872,76873,76877,76879,76887,76898,76902,76906,76907,76908,76910,76921,76929,76940,76948,
				76951,76952,76960,76963,76964,76965,76969,76971,76983,76991,76996,76999,77004,77012,77018,77020,77022,77031,77032,77038,77041,77043,77047,77050,77052,77058,77068,77069,77070,77079,77085,77091,77092,77103,77181,77188,77189,77195,77206,77216,77219,77234,77235,77237,77240,77247,77248,77249,77251,77268,77281,77285,77289,77300,77309,77310,77313,77315,
				77318,77529,77533,77535,77536,77557,77560,77614,77615,77620,77624,77645,77654,77658,77660,77718,77725,77738,77757,77786,77793,77794,77795,77811,77853,77854,77873,77876,77878,77892,77898,77902,77911,77912,77916,77924,77926,77934,77936,77952,77956,77957,77958,77964,77971,77981,77982,77984,77989,77994,78001,78002,78008,78011,78035,78040,78047,78061,78067,78076,78081,78084,78085,78091,78116,78129,78153,78176,78182,
				78189,78198,78200,78202,78212,78234,78249,78253,78266,78269,78285,78292,78304,78335,78345,78349,78351,78352,78354,78355,78359,78366,78381,78388,78393,78417,78423,78431,78435,78441,78442,78450,78453,78463,78470,
				78472,78476,78478,78481,78482,78485,78488,78489,78492,78494,78497,78505,78507,78509,78513,78516,78517,78526,78527,78531,78533,78537,78539,78541,78562,78570,78582,78585,78595,78596,78611,78614,78616,78621,78629,78643,78647,78650,78652,78655,78665,78667,78673,78674,78675,78677,78679,78683,78684,78688,78697,78701,78707,78709,78710,78718,78725,78726,78727,78730,78738,78746,78749,78751,78756,78760,78762,78763,78764,78770,78773,78774,78775,78777,78779,78781,78785,78803,78805,78809,
				78810,78814,78816,78819,78820,78827,78832,78840,78844,78846,78853,78858,78862,78865,78875,78877,78894,78895,78905,78910,78914,78920,78934,78935,78939,78945,78947,78948,78951,78962,78963,78964,78976,78980,78983,78984,78991,78992,78993,78999,79000,79002,79005,79006,79012,79019,79020,79023,79030,79034,79044,79056,79059,79060,79061,79068,79069,79079,
				79081,79096,79100,79105,79108,79110,79111,79114,79122,79126,79128,79130,79135,79141,79145,79148,79149,79155,79165,79172,79189,79192,79196,79199,79202,79205,79215,79225,79227,79228,79253,79254,79259,79266,79268,79274,79276,79277,79282,79285,79286,79353,79357,79363,79388,79391,
				79392,79393,79394,79402,79407,79408,79417,79421,79426,79429,79431,79433,79434,81203,82132,82223,82228,82232,82236,82239,82244,82245,82246,82252,82255,82261,82262,82264,82267,82271,82276,82279,82294,82296,82297,
				82299,82308,82309,82313,82326,82338,82344,82349,82354,82355,82383,82386,82391,82405,82408,82409,82421,82467,82476,82479,82481,82483,82484,82491,82495,82507,82509,82513,82515,82585,82587,82588,82596,82605,82609,82612,82617,82620,82626,82627,82628,82637,82657,82660,82670,82676,82677,82679,82688,82689,82695,82714,82717,82718,82724,82729,82739,82740,82749,82755,82759,82770,82773,82774,82782,82786,82792,82793,82797,
				82807,82809,82819,82822,82823,82835,82843,82846,82857,82859,82861,82864,82865,82868,82873,82874,82877,82878,82887,82888,82895,82903,82908,82911,82920,82923,82928,82944,82992,82996,83001,83005,83009,83016,83022,
				83085,83087,83470,83472,83478,83481,83490,83492,83493,83498,83503,83506,83507,83508,83511,83512,83513,83517,83519,83520,83521,83533,83549,83550,83552,83554,83557,83565,83566,83570,83574,83577,83587,83593,83619,83621,83623,83626,83630,83632,83639,83640,83641,83650,83661,83668,83740,83741,83742,83751,83753,83851,83855,83861,83866,83882,83889,83892,83899,83907,83911,83933,83941,83949,83954,83959,83977,83978,83985,
				83994,84010,84015,84017,84025,84033,84040,84075,84088,84089,84096,84112,84119,84120,84121,84136,84147,84159,84161,84163,84188,84189,84197,84199,84201,84203,84204,84208,84209,84250,84253,84254,84255,84257,84260,84263,84264,84272,84274,84276,84277,84289,84290,84292,84294,84295,84298,84299,84302,84322,84324,84326,84333,84555,84561,84608,84635,84648,
				84650,84682,84704,84744,84745,84753,85279,85295,85298,85315,85317,85399,85422,85432,85437,85483,85507,85519,85522,85526,85531,85534,85540,85546,85579,85617,85619,85633,85637,85651,85696,85739,85741,85752,
				85768,85789,85817,85829,85915,85924,85926,85985,86006,86008,86016,86043,86051,86073,86086,86091,86096,86122,86125,86131,86167,86215,86222,86245,86247,86286,86303,86306,86315,86334,86363,86603,86605,86607,86610,86618,86626,86634,86645,86646,86758,86759,86769,86771,86797,86833,86879,86898,86901,86903,86952,86982,86992,87012,87042,87051,87074,87075,
				87126,87127,87129,87140,87142,87143,87145,87157,87162,87166,87168,87170,87178,87182,87183,87185,87190,87191,87192,87196,87197,87200,87202,87204,87205,87206,87209,87219,87222,87223,87224,87225,87226,87236,87237,87238,87239,87254,87260,87262,87266,87268,87275,87281,87286,87289,87291,87298,87299,87300,87301,87302,87303,87304,87305,87306,87309,87313,87314,87315,87323,87325,87328,87337,87338,87339,87340,87342,87343,
				87344,87345,87346,87369,87372,87373,87376,87389,87390,87392,87393,87394,87395,87396,87397,87401,87402,87413,87419,87420,87427,87431,87438,87441,87442,87445,87452,87455,87456,87461,87462,87464,87468,87470,87471,
				87473,87474,87475,87476,87477,87478,87480,87481,87482,87488,87489,87490,87491,87492,87493,87497,87499,87500,87510,87514,87515,87516,87517,87533,87537,87538,87543,87552,87553,87554,87555,87556,87557,87558,87559,87560,87575,87577,87578,87583,87589,87592,87593,87595,87606,87607,87617,87618,87621,87623,87624,87628,87632,87633,87634,87635,87640,87645,
				87646,87647,87660,87662,87667,87669,87670,87671,87672,87689,87692,87694,87695,87696,87705,87707,87712,87714,87717,87719,87722,87723,87724,87725,87726,87727,87728,87734,87741,87746,87747,87748,87749,87750,87755,87756,87757,87758,87759,87760,87761,87762,87765,87766,87767,87770,87771
			);
			if(in_array($user->MID, $allow_users)){
				$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_17);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Информация');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO_17;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		
 
		
		
		# военно-учетный стол 3
		/*
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
			&&
			$user->Gender == HM_User_Metadata_MetadataModel::GENDER_MALE
			&&
			date('Y-m-d H:i:s') <= '2021-05-20 23:59:59'
		){
			$this->view->notification_type = HM_StudentNotification_Agreement_AgreementModel::TYPE_MILITARY_3;
			$this->view->popup_content	   = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_MILITARY_3);
			if(!empty($this->view->popup_content)){
				$this->view->popup_title 		= _('Служба в Вооруженных Силах РФ');				
				echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
			}			
		}
		*/
		
		
		/*
		# уведомление об общежитии		
		if(
			$this->getService('Acl')->inheritsRole($this->getService('User')->getCurrentUserRole(), HM_Role_RoleModelAbstract::ROLE_ENDUSER)
			&&
			$user->role_1c == HM_User_UserModel::ROLE_1C_STUDENT
		){	
			$allow_users = array(
				7880,19566,19567,19632,19638,19639,19642,19643,19644,20100,20126,20162,20169,20247,20342,20718,20719,20725,20732,21179,21225,21953,21956,21959,21961,21969,21988,22033,24402,48080,48082,48088,48091,48093,48096,48102,48107,48108,48110,48111,48112,48113,48116,48117,48124,48126,48127,48128,48131,48136,48137,48138,48145,48147,48151,48154,48165,48166,48182,48201,48202,48226,48228,48232,48233,48288,48353,48359,48360,48361,48362,48365,48368,48371,48376,48392,48420,48425,48426,48429,48430,48431,48434,48437,48438,48448,48452,48453,48463,48464,48466,48467,48468,48469,48474,48475,48487,48586,48594,48620,48650,48651,48700,48713,48749,48753,48762,48779,48787,48816,48866,48867,48870,48874,48888,48897,48900,48910,48933,48935,48937,48962,48968,48977,48979,49000,49016,49036,49045,49059,49119,49120,49139,49140,49145,49146,49147,49148,49149,49161,49162,49164,49167,49173,49184,49187,49190,49191,49192,49193,49196,49203,49207,49233,49234,49259,49282,49286,49289,49291,49292,49293,49294,49295,49298,49304,49305,49321,49323,49362,49363,49364,49365,49368,49373,49376,49377,49382,49384,49385,49390,49392,49396,49422,49433,49457,49458,49459,49463,49467,49469,49470,49473,49477,49478,49481,49538,49589,49590,49592,49595,49596,49600,49623,49626,49633,49634,49636,49641,49642,49643,49653,49661,49662,49728,49729,49764,49792,49817,49818,49820,49828,49843,49867,49869,49870,49878,49885,49893,49917,49922,49945,49980,49989,49999,50047,50063,50068,50082,50098,50111,50113,50121,50122,50158,50161,50178,50196,50245,50249,50250,50256,50262,50335,50336,50340,50369,50511,50536,51325,51466,51473,51482,54589,55148,55154,55472,55612,56299,56303,56305,56326,56327,56329,56334,56335,56339,56341,56344,56345,56349,56357,56358,56361,56364,56365,56366,56367,56368,56369,56370,56371,56372,56373,56376,56377,56380,56383,56385,56398,56399,56400,56404,56409,56411,56413,56414,56418,56419,56422,56423,56425,56427,56432,56433,56434,56435,56437,56438,56439,56440,56443,56444,56445,56447,56448,56451,56452,56454,56455,56456,56460,56462,56463,56464,56466,56467,56469,56470,56473,56474,56475,56476,56477,56480,56481,56488,56490,56491,56495,56500,56504,56509,56513,56514,56521,56527,56529,56533,56534,56538,56542,56544,56545,56546,56547,56550,56553,56558,56569,56575,56576,56578,56581,56584,56592,56595,56596,56598,56600,56603,56608,56610,56612,56620,56623,56965,56967,56973,56975,56978,56983,57069,57076,57078,57079,57081,57083,57085,57087,57089,57093,57135,57137,57161,57175,57177,57178,57186,57190,57210,57247,57266,57267,57269,57303,57308,57325,57331,57393,57394,57395,57398,57479,57481,57501,57503,57510,57511,57538,57539,57546,57549,57550,57552,57555,57557,57560,57563,57564,57565,57570,57571,57575,57577,57580,57586,57652,57653,57667,57670,57671,57672,57675,57682,57690,57695,57702,57711,57723,57739,57747,57751,57758,57761,57764,57849,57852,57855,57857,57858,57859,57861,57866,57867,57869,57871,57879,57880,57883,57893,57895,57896,57898,57905,57910,57911,57916,57920,57939,57943,57947,57960,57966,58072,58094,58106,58111,58113,58119,58123,58124,58126,58134,58135,58144,58151,58153,58155,58156,58158,58159,58160,58163,58173,58174,58184,58186,58194,58231,58232,58233,58234,58236,58237,58241,58246,58250,58252,58256,58264,58271,58276,58284,58285,58286,58288,58290,58296,58301,58303,58304,58305,58307,58308,58315,58316,58319,58329,58337,58338,58340,58346,58352,58354,58360,58361,58363,58377,58380,58393,58421,58424,58440,58443,58449,58456,58462,58476,58492,58495,58497,58499,58515,58516,58517,58527,58528,58532,58536,58538,58547,58559,58587,58725,58790,58844,58863,58864,58875,58887,58911,58925,58926,58927,59072,60779,62170,62173,62327,62392,62451,62517,62578,62582,62584,62585,62586,62587,62588,62590,62594,62595,62596,62599,62602,62606,62608,62609,62610,62612,62613,62615,62616,62619,62623,62624,62630,62631,62634,62635,62636,62637,62640,62641,62643,62644,62646,62650,62652,62654,62655,62660,62661,62663,62664,62666,62668,62669,62674,62675,62676,62677,62678,62679,62681,62683,62686,62687,62689,62693,62695,62698,62700,62702,62703,62708,62709,62712,62715,62717,62718,62719,62720,62723,62724,62726,62728,62731,62735,62737,62740,62741,62743,62746,62749,62750,62753,62754,62757,62759,62760,62762,62764,62765,62766,62769,62771,62772,62775,62776,62777,62779,62783,62784,62785,62786,62787,62788,62789,62790,62791,62792,62793,62797,62801,62805,62807,62809,62811,62816,62818,62823,62827,62828,62829,62835,62836,62837,62838,62840,62842,62843,62845,62846,62850,62859,62866,62869,62870,62871,62872,62874,62875,62876,62877,62878,62881,62882,62883,62885,62886,62887,62889,62890,62894,62896,62898,62900,62901,62902,62907,62908,62910,62911,62912,62913,62914,62915,62917,62918,62919,62920,62921,62925,62926,62927,62928,62929,62931,62932,62933,62939,62940,62946,62950,62951,62952,62965,62973,62975,62977,62979,62986,
				62990,62993,62999,63001,63003,63010,63013,63016,63025,63036,63047,63048,63059,63061,63065,63070,63074,63075,63080,63081,63088,63093,63097,63106,63111,63115,63117,63122,63124,63126,63131,63134,63139,63144,63148,63149,63150,63152,63154,63156,63160,63162,63165,63167,63170,63173,63178,63180,63183,63184,63186,63189,63191,63205,63207,63212,63233,63236,63242,63244,63245,63247,63248,63249,63258,63259,63260,63262,63264,63266,63268,63269,63271,63273,63275,63277,63279,63282,63284,63286,63290,63293,63298,63299,63300,63302,63303,63305,63308,63310,63311,63314,63321,63323,63324,63325,63326,63328,63329,63333,63334,63335,63337,63345,63348,63350,63351,63354,63355,63357,63367,63369,63379,63387,63393,63394,63396,63399,63400,63403,63406,63407,63410,63412,63415,63416,63417,63419,63423,63426,63444,63449,63460,63461,63464,63466,63468,63469,63471,63474,63478,63480,63481,63482,63483,63484,63485,63486,63488,63490,63491,63492,63493,63499,63500,63504,63505,63511,63513,63515,63523,63531,63537,63568,63569,63570,63576,63596,63601,63611,63612,63617,63621,63636,63642,63658,63666,63669,63673,63675,63677,63691,63699,63717,63731,63734,63738,63739,63740,63741,63742,63743,63744,63745,63746,63747,63749,63751,63761,63767,63771,63774,63778,63781,63784,63797,63804,63809,63811,63813,63821,63826,63832,63835,63839,63842,63844,63852,63857,63858,63863,63869,63881,63883,63884,63888,63891,63906,63908,63914,63933,63941,63950,63956,63958,63967,63973,63974,63976,63981,63994,63997,64008,64009,64017,64029,64039,64042,64049,64065,64066,64070,64080,64082,64094,64102,64109,64112,64115,64123,64124,64131,64136,64142,64144,64157,64159,64175,64181,64190,64191,64192,64197,64203,64217,64219,64229,64239,64273,64284,64285,64286,64290,64291,64292,64314,64318,64320,64323,64343,64347,64360,64361,64368,64375,64376,64390,64391,64406,64410,64421,64428,64429,64434,64440,64442,64443,64446,64448,64460,64462,64466,64468,64477,64485,64523,64528,64533,64538,64544,64551,64557,64558,64561,64562,64563,64565,64568,64574,64576,64577,64582,64588,64589,64590,64591,64592,64593,64595,64596,64597,64605,64607,64609,64610,64616,64619,64622,64624,64627,64628,64632,64633,64638,64646,64647,64650,64651,64662,64707,64785,64786,64788,64801,64804,64805,64806,64808,64921,64922,64923,64925,64926,65489,65558,65765,66079,66239,66332,66422,66930,66931,66952,67137,67139,67174,67178,67188,67362,67365,67596,67609,67866,68003,68010,68011,68029,68090,68091,68093,68094,68095,68096,68097,68098,68099,68100,68102,68103,68104,68105,68111,68112,68113,68114,68115,68116,68117,68120,68122,68124,68130,68134,68135,68136,68166,68168,68170,68180,68182,68188,68190,68191,68193,68195,68197,68200,68203,68206,68208,68210,68214,68215,68220,68222,68228,68231,68233,68234,68242,68243,68244,68245,68246,68248,68249,68250,68252,68254,68255,68256,68257,68263,68264,68265,68266,68267,68268,68269,68270,68271,68272,68273,68276,68277,68278,68279,68280,68281,68283,68285,68288,68289,68290,68296,68298,68299,68302,68304,68305,68307,68310,68311,68312,68313,68314,68318,68321,68322,68328,68329,68333,68334,68335,68337,68338,68345,68355,68357,68359,68361,68362,68367,68369,68378,68379,68384,68390,68395,68400,68403,68405,68406,68411,68413,68414,68415,68416,68424,68430,68431,68435,68437,68438,68449,68463,68465,68466,68468,68475,68477,68478,68491,68498,68499,68500,68503,68505,68506,68507,68509,68510,68511,68514,68520,68523,68542,68544,68545,68547,68549,68550,68555,68558,68560,68565,68570,68580,68602,68613,68625,68628,68632,68633,68681,68682,68698,68705,68710,68715,68716,68718,68720,68722,68723,68726,68727,68728,68733,68735,68740,68742,68743,68745,68748,68749,68751,68754,68758,68768,68771,68777,68792,68796,68798,68799,68805,68806,68808,68810,68811,68817,68818,68819,68820,68822,68825,68829,68832,68834,68835,68836,68838,68840,68841,68842,68845,68850,68851,68855,68857,68858,68859,68860,68864,68865,68868,68869,68870,68871,68872,68873,68877,68887,68888,68890,68891,68893,68894,68895,68897,68899,68901,68902,68904,68905,68906,68907,68909,68911,68913,68916,68919,68920,68921,68924,68925,68926,68927,68928,68929,68931,68932,68933,68934,68936,68939,68941,68943,68947,68948,68951,68953,68954,68956,68959,68970,68981,68989,68997,68998,68999,69000,69002,69003,69006,69010,69012,69016,69017,69018,69019,69021,69027,69028,69032,69041,69043,69047,69049,69052,69055,69058,69061,69063,69064,69066,69069,69074,69078,69080,69085,69091,69094,69102,69103,69127,69128,69140,69142,69143,69144,69149,69151,69156,69170,69174,69178,69179,69186,69187,69188,69192,69195,69197,69203,69216,69219,69220,69229,69231,69236,69237,69239,69240,69241,69242,69244,69245,69249,69253,69254,69256,69267,69273,69304,69309,69332,69337,69364,69365,69380,69381,69382,69384,69389,69395,69396,69397,69398,69400,69401,69402,69403,69404,69582,69595,69598,69601,69602,69603,69604,69605,69606,69607,69612,69615,69621,69632,69633,69634,69635,69638,69648,69649,69654,69672,69677,69678,69681,69703,69704,69715,69716,69718,69719,69720,69722,69754,69766,69767,69769,69770,69783,69791,69800,69801,69803,69810,69818,69819,69820,69821,69833,69855,69857,69858,69861,69862,69873,69874,69876,69877,69878,69879,69881,69882,69885,69887,69892,69895,69896,69897,69898,69899,69900,69901,69903,69904,69905,69906,69908,69909,69911,69912,69913,69914,69922,69923,69926,69928,69929,69930,69931,69940,69941,69942,69943,69957,69958,69961,69962,69967,69971,69972,69976,69978,69987,69991,69996,69998,70007,70011,70013,70150,70164,70165,70166,70204,70221,71059,71769,71818,72200,72201,72222,72292,72377,72378,72381,72392,72418,72419,72420,72421,72761,72773,72779
			);
			if(in_array($user->MID, $allow_users)){
			
			#if($user->MID == 5829){
				$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO);
				if(!empty($this->view->popup_content)){
					$this->view->popup_title 		= _('Уведомление');
					$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_INFO;
					echo $this->view->render('ajax/notification/wrapper.tpl');
					die;
				}
			}
		}
		*/
		
		/*
		# финансовая задолженность 3
		$debt_info = HM_StudentNotification_Agreement_AgreementModel::getFineDebt3($this->getService('User')->getCurrentUser()->mid_external);
			

			
		if(!empty($debt_info)){
			$this->view->fine 		= $debt_info['fine'];
			$this->view->date_to 	= $debt_info['date_to'];
			$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_3);
			if(!empty($this->view->popup_content)){
				$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
				$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_3;
				echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
			}
		}
		*/
		
		
		
		# финансовая задолженность
		# кому показывать
		/*
		$allow_users = array(
			5829, 4514,4749,4861,6046,6157,6269,6391,6939,6942,7184,7480,7558,7602,7680,7850,7880,8052,8258,8304,8480,8709,9232,9741,9749,9887,9928,10240,10726,10950,11146,11147,11226,11500,11775,12315,12573,12741,13151,13354,13467,13832,14028,14490,15564,15907,15926,16016,16603,17322,17486,17965,18099,18112,18211,18427,18752,18890,19347,19484,19556,19558,19561,19577,20149,20150,20176,20387,20396,20603,20613,20645,20649,20678,20716,20717,20719,20721,20722,20724,20725,20727,20728,20729,20730,20732,20736,20739,20760,20768,20781,20844,20855,20974,21179,21181,21182,21184,21185,21186,21203,21204,21206,21207,21209,21211,21220,21241,21259,21296,21312,21368,21531,21630,21644,21674,21690,21693,21716,21719,21742,21945,21956,21961,21966,21968,21969,21977,21978,21980,21981,21996,21997,22305,22309,22326,22327,22334,22345,22406,22559,22657,23287,23310,23331,23411,23474,23577,23602,23867,23896,23913,23925,23933,23936,23959,24179,24225,24396,24419,24481,24511,24521,24603,24627,24701,24707,24824,24870,24932,24943,25021,25421,25431,25850,26693,26741,26862,27205,27219,27242,27301,27410,27461,27686,27687,27689,27690,27692,27697,27700,27705,27706,27709,27710,27711,27718,27720,27722,27723,27724,27729,27730,27739,27741,27742,27743,27744,27746,27747,27750,27752,27761,27768,27769,27772,27773,27774,27776,27778,27779,27782,27784,27787,27789,27792,27794,27798,27800,27802,27804,27805,27806,27807,27820,27825,27827,27835,27839,27845,27847,27848,27851,27857,27858,27862,27875,27876,27883,27892,27893,28394,28397,28402,28405,28422,28423,28425,28435,28446,28452,28460,28461,28464,28472,28474,28478,28526,28821,29321,30048,30054,30145,30438,30615,30652,30685,31224,31520,31994,32249,32261,32277,32330,32338,32399,32425,32566,33140,33181,33194,36007,36074,36808,37198,37599,37649,38143,38672,38776,38955,43920,46644,47805,48158,48244,48457,48461,48481,48487,48501,48502,48505,48506,48510,48534,48535,48537,48543,48552,48579,48580,48581,48584,48586,48587,48589,48616,48617,48619,48626,48627,48629,48631,48633,48636,48637,48641,48648,48650,48651,48657,48660,48662,48663,48665,48667,48668,48687,48691,48693,48700,48702,48703,48710,48711,48753,48759,48761,48762,48816,48818,48819,48820,48826,48827,48837,48838,48839,48842,48845,48847,48851,48869,48872,48875,48876,48879,48880,48887,48889,48891,48897,48898,48900,48907,48908,48910,48916,48923,48924,48931,48954,48955,48957,48965,48969,48973,48974,48975,48976,48977,48979,49013,49014,49016,49019,49021,49035,49036,49039,49046,49052,49056,49057,49058,49059,49060,49064,49068,49075,49080,49100,49111,49117,49119,49120,49121,49125,49126,49136,49160,49194,49333,49603,49607,49641,49642,49645,49653,49711,49728,49729,49733,49734,49735,49740,49747,49749,49750,49753,49758,49762,49765,49766,49769,49776,49779,49813,49814,49815,49816,49817,49818,49821,49823,49829,49830,49831,49861,49862,49869,49873,49876,49885,49889,49893,49898,49899,49902,49908,49915,49917,49920,49922,49923,49925,49928,49930,49931,49932,49954,49955,49956,49963,49968,49970,49973,49976,49987,49988,49989,49990,49991,49999,50004,50006,50009,50035,50036,50037,50046,50047,50059,50060,50063,50065,50067,50069,50077,50082,50083,50085,50091,50093,50097,50098,50105,50107,50110,50111,50113,50114,50115,50121,50124,50127,50129,50130,50134,50137,50139,50143,50149,50151,50152,50153,50154,50156,50163,50164,50166,50167,50171,50185,50186,50188,50191,50202,50204,50207,50211,50214,50222,50224,50225,50226,50230,50235,50241,50242,50243,50263,50291,50293,50296,50297,50300,50326,50327,50365,50459,50471,50487,50492,50505,50511,50518,50522,50533,51324,51343,51371,51482,51569,51570,51582,51585,51611,51634,51636,51645,51653,51658,51669,51673,51676,51693,51699,51707,51778,51849,51934,51977,51984,51986,51991,52109,52144,52145,52153,52161,52168,52169,52171,52177,52178,52240,52245,52325,52333,52394,52411,52418,52431,52453,52463,52465,52468,52480,52491,52494,52505,52532,52537,52539,52549,52585,52586,52587,52621,52623,52633,52662,52663,52699,52708,52715,52720,52723,52757,52758,52760,52762,52769,52792,52794,52830,52868,52869,52870,52876,52877,52890,52894,52932,52934,52959,52994,52995,52998,53008,53012,53013,53018,53021,53068,53070,53074,53111,53135,53136,53137,53178,53181,53186,53195,53200,53206,53241,53266,53276,53285,53287,53309,53346,53370,53380,53382,53416,53421,53425,53428,53430,53431,53435,53436,53441,53508,53509,53515,53537,53547,53548,53549,53550,53585,53606,53650,53652,53655,53656,53665,53672,53685,53687,53698,53699,53709,53716,53720,53748,53753,53787,53794,53803,53807,53812,53826,53840,53965,53978,53979,53980,53981,53987,53993,53998,54003,54008,54009,54024,54026,54041,54138,54140,54141,54142,54143,54144,54145,54146,54238,54276,54282,54290,54292,54293,54297,54298,54300,54315,54317,54340,54348,54365,54373,54374,54375,54376,54381,54382,54388,54402,54435,54438,54441,54451,54452,54537,54538,54542,54584,54589,54590,54591,54629,54633,54634,54636,54637,54690,54691,54692,54702,54704,54705,54706,54707,54708,54709,54734,54776,54777,54781,54782,54798,54810,54813,54815,54823,54824,54830,54833,54834,54835,54836,54837,54838,54840,54841,54843,54844,54845,54850,54852,54853,54860,54863,54864,54868,54870,54907,54909,54910,54937,54939,54940,54943,54953,54959,54964,54968,54973,54975,54977,54979,54982,54987,54995,54999,55159,55160,55161,55346,55347,55348,55351,55367,55376,55381,55399,55403,55413,55415,55695,55698,55737,55848,55986,56017,56028,56083,56142,56145,56150,56154,56168,56172,56179,56212,56231,56516,56928,56933,56967,56968,56969,56971,57003,57057,57061,57064,57066,57068,57072,57102,57103,57115,57136,57139,57147,57152,57153,57172,57175,57179,57180,57184,57190,57191,57200,57206,57212,57213,57219,57220,57224,57226,57228,57230,57241,57245,57247,57248,57259,57263,57271,57273,57274,57293,57295,57299,57306,57308,57309,57314,57320,57324,57334,57336,57339,57342,57350,57352,57434,57513,57519,57520,57524,57527,57528,57531,57534,57589,57653,57660,57661,57663,57664,57667,57671,57674,57675,57680,57681,57690,57692,57694,57695,57696,57701,57704,57706,57709,57711,57712,57713,57714,57718,57722,57723,57725,57729,57733,57736,57737,57738,57739,57741,57744,57745,57746,57747,57748,57749,57751,57752,57754,57757,57759,57761,57764,57765,57819,57822,57823,57824,57825,57826,57828,57829,57831,57832,57835,57836,57837,57839,57841,57842,57843,57906,57912,57913,57915,57916,57922,57923,57926,57929,57930,57934,57936,57938,57940,57941,57945,57948,57950,57964,57966,57970,57972,57977,57978,57979,57980,57981,57982,58137,58138,58139,58169,58171,58172,58173,58178,58181,58183,58194,58253,58256,58257,58258,58259,58260,58261,58263,58264,58265,58266,58267,58268,58269,58271,58273,58274,58277,58279,58280,58282,58284,58285,58290,58302,58303,58304,58307,58312,58313,58315,58317,58318,58319,58329,58330,58333,58336,58337,58340,58345,58347,58348,58353,58355,58356,58358,58360,58361,58364,58366,58370,58372,58373,58374,58376,58384,58385,58387,58388,58390,58393,58394,58401,58402,58404,58405,58410,58411,58412,58413,58415,58421,58422,58423,58426,58428,58435,58440,58442,58443,58445,
			58446,58447,58452,58455,58456,58458,58459,58462,58465,58466,58468,58473,58477,58479,58484,58485,58487,58488,58489,58492,58493,58494,58495,58496,58499,58505,58507,58513,58515,58517,58518,58520,58522,58525,58527,58530,58532,58533,58535,58537,58539,58542,58543,58544,58545,58551,58553,58556,58557,58559,58562,58563,58565,58566,58575,58579,58585,58588,58589,58591,58592,58593,58594,58599,58601,58602,58603,58604,58606,58607,58608,58609,58611,58612,58613,58616,58618,58619,58626,58627,58628,58631,58634,58635,58637,58639,58641,58647,58648,58649,58652,58653,58654,58656,58657,58660,58661,58662,58664,58665,58683,58686,58691,58759,58761,58764,58765,58766,58770,58772,58773,58776,58779,58780,58786,58790,58792,58794,58795,58796,58799,58800,58803,58804,58805,58808,58810,58811,58812,58814,58816,58817,58819,58840,58843,58844,58856,58857,58863,58874,58875,58881,58886,58892,58894,58895,58898,58906,58907,58911,58914,58915,58932,58933,58934,58936,58938,58944,58951,58982,58984,59025,59039,59077,59081,59082,59102,59130,59183,59216,59218,59251,59266,59308,59314,59315,59316,59317,59321,59325,59337,59339,59350,59355,59356,59358,59370,59380,59382,59383,59384,59386,59387,59394,59395,59397,59402,59404,59419,59421,59424,59426,59427,59430,59431,59432,59434,59435,59437,59439,59442,59446,59450,59451,59452,59453,59454,59456,59462,59463,59464,59467,59468,59476,59481,59483,59489,59492,59494,59495,59503,59524,59529,59532,59534,59535,59537,59538,59555,59556,59557,59562,59566,59574,59576,59577,59582,59588,59605,59608,59609,59610,59614,59619,59620,59622,59623,59631,59637,59639,59640,59644,59646,59653,59655,59656,59657,59665,59666,59668,59673,59674,59677,59685,59690,59691,59692,59693,59696,59701,59705,59706,59707,59709,59710,59713,59714,59715,59716,59717,59718,59721,59723,59726,59727,59728,59733,59742,59747,59748,59749,59750,59751,59752,59755,59756,59760,59761,59762,59763,59764,59766,59767,59768,59769,59771,59772,59773,59774,59779,59783,59784,59787,59788,59789,59790,59799,59800,59801,59805,59806,59808,59809,59810,59811,59813,59814,59815,59821,59823,59826,59837,59838,59840,59841,59843,59844,59845,59846,59849,59851,59852,59853,59855,59857,59861,59862,59863,59865,59866,59867,59868,59869,59870,59871,59872,59873,59874,59875,59880,59881,59882,59883,59884,59885,59887,59893,59895,59897,59898,59899,59900,59901,59902,59904,59906,59907,59908,59909,59914,59919,59920,59921,59922,59923,59925,59930,59931,59932,59933,59941,59942,59945,59955,59960,59961,59966,59972,59976,59977,59978,59980,59990,60010,60021,60030,60036,60037,60039,60040,60050,60053,60058,60059,60092,60093,60094,60097,60098,60099,60101,60104,60106,60113,60114,60121,60124,60126,60127,60129,60143,60144,60155,60156,60157,60158,60159,60191,60192,60193,60195,60196,60197,60200,60201,60203,60205,60206,60218,60219,60220,60224,60227,60229,60230,60231,60233,60234,60246,60247,60248,60249,60261,60263,60264,60265,60267,60268,60269,60271,60272,60273,60306,60307,60318,60319,60320,60321,60323,60324,60327,60330,60363,60370,60371,60373,60375,60376,60380,60382,60409,60437,60444,60445,60446,60450,60452,60453,60458,60470,60471,60473,60475,60477,60479,60491,60492,60493,60496,60498,60503,60504,60506,60507,60510,60511,60528,60534,60535,60536,60537,60540,60541,60542,60545,60546,60561,60571,60585,60586,60587,60593,60594,60595,60601,60603,60605,60607,60608,60623,60624,60626,60627,60628,60665,60666,60667,60668,60671,60675,60682,60684,60685,60686,60687,60692,60693,60694,60695,60697,60699,60701,60702,60725,60726,60727,60729,60758,60760,60761,60800,60801,60818,60830,60865,60866,60877,60878,60879,60889,60896,60907,60924,60934,60941,60942,60992,60994,61029,61035,61038,61040,61055,61058,61062,61068,61071,61072,61079,61084,61086,61087,61089,61090,61091,61093,61094,61095,61096,61098,61099,61101,61103,61104,61105,61106,61108,61109,61110,61112,61113,61115,61119,61120,61121,61122,61123,61124,61125,61126,61127,61129,61132,61133,61134,61142,61143,61144,61145,61146,61148,61149,61151,61152,61153,61155,61200,61201,61202,61203,61204,61208,61218,61220,61222,61225,61226,61227,61228,61230,61231,61232,61237,61238,61239,61240,61241,61242,61245,61247,61261,61264,61265,61267,61269,61274,61276,61279,61291,61309,61311,61312,61313,61314,61317,61319,61322,61336,61337,61338,61339,61340,61342,61343,61344,61347,61349,61350,61351,61352,61354,61358,61359,61362,61363,61364,61365,61366,61368,61373,61374,61375,61376,61378,61379,61380,61399,61400,61402,61403,61404,61405,61406,61407,61409,61410,61427,61428,61454,61457,61459,61499,61500,61501,61504,61533,61538,61540,61541,61542,61544,61545,61563,61564,61565,61568,61570,61572,61573,61576,61577,61578,61579,61580,61581,61582,61583,61586,61588,61590,61596,61599,61602,61603,61609,61611,61612,61613,61614,61620,61621,61626,61627,61628,61629,61630,61631,61633,61635,61636,61637,61639,61641,61643,61644,61645,61647,61649,61652,61655,61656,61657,61658,61659,61661,61662,61663,61664,61665,61669,61670,61671,61672,
			61674,61675,61676,61679,61680,61683,61685,61686,61688,61689,61691,61693,61694,61695,61697,61698,61710,61712,61713,61714,61715,61716,61718,61721,61722,61732,61740,61750,61751,61754,61756,61757,61759,61760,61762,61763,61764,61766,61770,61771,61775,61794,61803,61806,61808,61810,61820,61823,61828,61836,61840,61845,61849,61853,61875,61878,61883,61888,61915,61918,61930,61932,61942,61945,61948,61956,61970,61971,61975,61976,61979,61980,61981,61982,61983,61984,61993,61998,62000,62001,62005,62011,62019,62028,62030,62034,62051,62067,62094,62109,62111,62119,62133,62139,62144,62145,62149,62150,62151,62164,62170,62172,62173,62180,62181,62182,62193,62213,62227,62234,62244,62247,62302,62324,62332,62340,62350,62359,62365,62392,62406,62414,62423,62438,62444,62450,62463,62475,62489,62517,62527,62539,62544,62580,63357,63358,63360,63367,63371,63372,63373,63377,63378,63380,63381,63386,63387,63388,63391,63419,63420,63421,63424,63426,63430,63431,63434,63442,63452,63457,63458,63506,63510,63513,63515,63516,63517,63522,63524,63525,63527,63530,63532,63542,63543,63545,63546,63547,63548,63550,63551,63554,63557,63558,63561,63564,63566,63570,63571,63572,63574,63581,63582,63583,63589,63590,63591,63592,63594,63598,63599,63601,63602,63604,63610,63612,63613,63614,63616,63619,63620,63622,63626,63628,63629,63630,63633,63638,63641,63643,63644,63646,63647,63648,63651,63654,63655,63657,63659,63664,63666,63667,63669,63670,63672,63676,63679,63684,63686,63689,63690,63696,63697,63700,63701,63703,63704,63708,63712,63713,63715,63720,63752,63755,63758,63760,63761,63762,63763,63764,63765,63767,63769,63771,63772,63774,63775,63777,63778,63780,63784,63785,63786,63787,63788,63790,63791,63792,63793,63794,63795,63801,63806,63807,63808,63809,63810,63812,63815,63817,63818,63819,63826,63828,63831,63832,63835,63836,63839,63840,63843,63845,63853,63855,63857,63860,63861,63864,63865,63866,63867,63868,63871,63872,63874,63875,63876,63883,63894,63897,63898,63899,63900,63901,63902,63904,63906,63910,63911,63912,63913,63915,63917,63918,63926,63928,63931,63932,63933,63938,63942,63946,63950,63951,63953,63954,63955,63959,63961,63965,63966,63967,63970,63974,63976,63977,63980,63983,63988,63989,63990,63992,63993,63994,63995,63997,64008,64010,64011,64012,64013,64023,64024,64027,64030,64034,64035,64038,64039,64040,64042,64044,64045,64047,64048,64049,64056,64059,64064,64069,64074,64075,64078,64086,64095,64099,64100,64101,64104,64109,64110,64112,64113,64115,64116,64118,64119,64120,64121,64122,64123,64124,64125,64127,64130,64131,64136,64138,64140,64141,64145,64146,64147,64150,64155,64156,64157,64159,64164,64165,64166,64167,64169,64176,64181,64183,64184,64185,64186,64187,64188,64189,64191,64192,64194,64195,64197,64198,64199,64200,64201,64202,64205,64206,64207,64209,64213,64214,64215,64217,64219,64221,64222,64228,64234,64239,64242,64243,64245,64246,64247,64248,64251,64253,64257,64262,64264,64265,64273,64274,64275,64276,64279,64280,64286,64287,64290,64293,64296,64297,64301,64303,64305,64306,64310,64311,64313,64316,64317,64320,64322,64323,64324,64328,64330,64336,64337,64339,64340,64341,64342,64343,64344,64347,64348,64349,64350,64353,64354,64355,64356,64357,64358,64359,64360,64362,64363,64367,64368,64371,64372,64376,64377,64378,64379,64381,64382,64383,64388,64389,64390,64394,64396,64397,64399,64400,64401,64402,64403,64404,64411,64415,64418,64419,64421,64422,64423,64424,64429,64431,64432,64433,64434,64435,64437,64439,64441,64442,64443,64447,64449,64451,64452,64453,64454,64455,64457,64459,64461,64463,64464,64465,64466,64467,64468,64469,64471,64472,64473,64474,64479,64485,64486,64489,64490,64492,64494,64495,64498,64501,64503,64504,64507,64508,64514,64516,64518,64519,64520,64521,64522,64523,64524,64525,64526,64530,64532,64535,64536,64538,64541,64542,64543,64790,64791,64799,64800,64803,64844,64845,64924,65487,65718,65719,65723,65724,65728,65730,65731,65733,65734,65735,65736,65745,65746,65747,65752,65753,65754,65755,65756,65758,65760,65761,65762,65765,65766,65768,65770,65771,65774,65775,65776,65777,65778,65779,65781,65782,65783,65784,65785,65787,65789,65790,65793,65799,65800,65801,65802,65803,65805,65806,65807,65808,65809,65810,65811,65812,65813,65814,65815,65816,65819,65822,65823,65826,65830,65831,65832,65833,65835,65840,65842,65844,65845,65846,65853,65854,65855,65856,65858,65859,65860,65862,65863,65865,65868,65869,65870,65871,65872,65875,65876,65877,65879,65881,65883,65885,65886,65887,65890,65891,65892,65894,65896,65897,65898,65899,65900,65903,65906,65908,65912,65914,65915,65924,65926,65927,65929,65931,65936,65939,65940,65941,65942,65943,65948,65950,65955,65961,65965,65967,65968,65970,65971,65973,65975,65976,65977,65978,65982,65984,65985,65988,65990,65992,65993,65994,65997,65998,65999,66000,66001,66002,66003,66006,66007,66009,66012,66013,66014,66015,66016,66019,66022,66023,66024,66027,66029,66030,66032,66033,66035,66036,66038,66039,66040,66042,66043,66044,66046,66047,66049,
			66050,66051,66053,66055,66056,66057,66060,66062,66063,66068,66069,66070,66071,66072,66073,66076,66078,66079,66083,66084,66086,66087,66089,66090,66091,66094,66096,66099,66100,66103,66106,66107,66109,66111,66115,66117,66121,66122,66123,66124,66126,66127,66128,66130,66131,66134,66135,66137,66138,66145,66146,66149,66151,66152,66163,66165,66166,66167,66168,66169,66174,66177,66178,66184,66189,66192,66198,66199,66200,66205,66206,66209,66212,66213,66214,66216,66217,66218,66220,66222,66223,66225,66226,66227,66229,66231,66234,66235,66240,66242,66269,66285,66287,66288,66289,66290,66291,66293,66298,66299,66300,66303,66304,66305,66306,66307,66308,66309,66312,66313,66315,66316,66317,66319,66322,66324,66331,66332,66333,66334,66335,66336,66341,66343,66346,66347,66349,66350,66351,66352,66356,66357,66359,66364,66365,66367,66368,66370,66371,66373,66374,66375,66376,66377,66378,66383,66384,66387,66388,66389,66392,66394,66397,66399,66401,66402,66403,66408,66409,66411,66414,66415,66416,66424,66552,66559,66561,66563,66565,66566,66568,66569,66570,66571,66572,66573,66575,66579,66580,66581,66582,66584,66589,66590,66593,66595,66596,66598,66601,66602,66603,66605,66607,66608,66609,66610,66611,66613,66615,66616,66617,66618,66619,66621,66624,66625,66626,66627,66628,66629,66631,66634,66635,66636,66637,66639,66640,66643,66644,66647,66648,66650,66651,66653,66654,66655,66656,66657,66659,66660,66661,66662,66665,66666,66668,66670,66671,66780,66781,66783,66786,66789,66790,66792,66793,66795,66796,66799,66800,66802,66803,66805,66807,66811,66812,66818,66819,66820,66824,66828,66829,66831,66834,66837,66839,66840,66841,66842,66843,66844,66851,66852,66853,66854,66855,66857,66858,66859,66863,66864,66865,66866,66869,66871,66872,66873,66875,66876,66881,66882,66885,66889,66891,66892,66893,66895,66898,66899,66901,66904,66906,66907,66909,66913,66915,66918,66921,66922,66938,66939,66941,66981,66982,66985,66986,66987,66989,66990,66991,66993,66995,66997,66998,66999,67002,67005,67009,67010,67011,67012,67013,67014,67016,67017,67018,67019,67020,67021,67022,67024,67026,67028,67031,67032,67034,67036,67038,67040,67041,67042,67045,67047,67049,67050,67051,67054,67055,67056,67057,67060,67062,67063,67064,67065,67066,67070,67071,67072,67073,67077,67079,67083,67084,67085,67087,67089,67098,67100,67101,67103,67104,67108,67110,67111,67112,67114,67117,67118,67119,67126,67128,67129,67130,67131,67133,67134,67135,67136,67137,67138,67174,67364,67599,67601,67604,67605,67624,67625,67628,67629,67633,67646,67654,67657,67664,67665,67667,67670,67672,67675,67679,67680,67681,67682,67683,67685,67688,67689,67690,67695,67696,67697,67700,67702,67705,67706,67707,67709,67710,67715,67716,67736,67737,67738,67740,67741,67747,67748,67750,67751,67753,67754,67755,67757,67758,67761,67762,67767,67768,67770,67771,67772,67773,67777,67779,67781,67782,67785,67786,67787,67789,67791,67792,67793,67794,67795,67796,67799,67801,67803,67804,67806,67811,67814,67815,67816,67817,67819,67820,67821,67822,67827,67828,67830,67833,67835,67836,67873,67874,67879,67887,67978,67988,67989,67993,67994,67997,68007,68010,68011,68012,68013,68014,68015,68022,68034,68129,68131,68132,68133,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68149,68150,68152,68154,68155,68156,68162,68164,68442,68443,68444,68445,68446,68449,68455,68458,68460,68463,68464,68465,68467,68470,68471,68472,68473,68475,68479,68480,68486,68487,68488,68490,68492,68497,68498,68500,68501,68504,68505,68509,68513,68517,68518,68519,68520,68521,68524,68525,68526,68527,68530,68531,68534,68537,68539,68540,68541,68545,68546,68547,68555,68564,68565,68566,68571,68575,68576,68577,68581,68582,68583,68584,68585,68588,68590,68591,68594,68595,68597,68598,68599,68600,68602,68603,68604,68605,68606,68607,68609,68610,68612,68613,68614,68616,68617,68618,68619,68622,68624,68625,68628,68629,68630,68632,68633,68634,68635,68636,68637,68638,68639,68640,68643,68644,68647,68648,68676,68678,68680,68682,68692,68693,68695,68696,68704,68711,68737,68738,68739,68741,68743,68745,68747,68749,68751,68752,68754,68757,68758,68759,68760,68761,68772,68773,68774,68778,68779,68780,68783,69106,69111,69112,69113,69114,69115,69116,69121,69126,69130,69131,69138,69139,69142,69143,69144,69146,69150,69158,69162,69166,69167,69168,69170,69172,69173,69174,69175,69176,69177,69178,69179,69180,69186,69188,69189,69190,69192,69195,69196,69203,69204,69205,69206,69207,69208,69209,69212,69216,69220,69222,69227,69229,69231,69232,69235,69249,69251,69253,69254,69255,69256,69257,69260,69261,69263,69264,69265,69267,69268,69270,69271,69272,69273,69275,69277,69278,69280,69281,69282,69284,69287,69288,69290,69292,69294,69299,69300,69301,69302,69303,69305,69307,69308,69309,69311,69313,69314,69316,69317,69319,69322,69323,69324,69325,69326,69327,69328,69332,69333,69334,69337,69339,69340,69341,69362,69363,69364,69365,69366,69367,69368,69377,69378,69379,69392,69447,69450,69452,69453,69454,69455,69459,69460,69461,69467,69470,69471,69472,69473,69474,69475,69480,69482,69483,69486,69487,69489,69493,69494,69560,69561,69562,69566,69567,69568,69570,69572,69573,69576,69577,69578,69580,69582,69583,69584,69618,69619,69620,69621,69622,69624,69626,69629,69631,69633,69634,69636,69637,69639,69640,69644,69645,69646,69647,69648,69649,69650,69652,69653,69657,69658,69659,69661,69662,69664,69665,69667,69668,69669,69670,69672,69676,69677,69678,69679,69680,69681,69682,69684,69686,69687,69690,69692,69693,69694,69698,69701,69702,69743,69744,69746,69747,69748,69750,69751,69753,69755,69756,69757,69758,69759,69760,69763,69766,69767,69768,69769,69770,69771,69772,69774,69775,69778,69780,69782,69783,69785,69786,69787,69791,69792,69793,69794,69795,69796,69797,69799,69800,69801,69802,69803,69804,69805,69807,69809,69812,69813,69817,69820,69823,69824,69827,69828,69829,69830,69831,69833,69835,69837,69838,69839,69840,69843,69844,69845,69847,69848,69851,69854,69932,69938,69939,69940,69941,69946,69949,69950,69952,69953,69954,69956,69958,69959,69964,69965,69967,69968,69969,69972,69973,69982,69987,69994,69996,70000,70001,70003,70005,70006,70158,70183,70186,70187,70193,70194,70195,70197,70198,70200,70202,70204,70206,70207,70216,70381,70382,70383,70387,70388,70391,70393,70397,70398,70399,70403,70405,70407,70408,70410,70411,70415,70445,70446,70448,70449,70450,70456,70459,70462,70505,70506,70507,70508,70509,70514,70515,70518,70519,70521,70522,70546,70547,70550,70551,70552,70553,70557,70565,70586,70589,70591,70595,70604,70606,70609,70613,70614,70615,70617,70618,70619,70620,70625,70628,70629,70630,70631,70634,70639,70641,70642,70643,70644,70646,70648,70649,70650,70658,70659,70662,70699,70700,70701,70702,70703,70704,70706,70708,70709,70711,70712,70713,70716,70718,70719,70723,70726,70729,70730,70731,70738,70745,70748,70749,70753,70754,70760,70765,70773,70774,70775,70777,70779,70782,70783,70784,70786,70791,70792,70793,70798,70799,70801,70806,70808,70810,70812,70813,70814,70817,70819,70820,70829,70832,70834,70842,70843,70846,70849,70850,70851,70857,70864,70874,70877,70878,70882,70884,70886,70889,70896,70901,70902,70903,70905,70906,70907,70913,70915,70916,70918,70921,70922,70923,70927,70928,70929,70930,70931,70933,70934,70935,70938,70940,70943,70944,70945,70947,70952,70953,70955,70960,70961,70962,70963,70965,70967,70968,70970,70974,70975,70976,70977,70978,70979,70980,70981,70982,70984,70987,70989,70990,70991,70994,70995,70997,70998,71001,71002,71006,71007,71009,71010,71012,71013,71014,71015,71017,71018,71019,71021,71022,71025,71026,71035,71036,71047,71048,71049,71125,71129,71131,71135,71140,71148,71153,71161,71163,71164,71167,71171,71181,71187,71195,71196,71206,71211,71226,71230,71237,71238,71240,71242,71245,71260,71272,71275,71354,71355,71356,71358,71363,71367,71368,71380,71387,71388,71417,71419,71423,71424,71432,71459,71460,71464,71466,71468,71469,71473,71488,71489,71490,71503,71509,71510,71521,71522,71523,71524,71525,71527,71528,71537,71539,71542,71549,71550,71552,71553,71597,71601,71602,71603,71604,71606,71607,71609,71612,71614,71615,71616,71622,71623,71624,71626,71627,71628,71630,71632,71633,71634,71635,71636,71638,71640,71642,71643,71644,71645,71648,71649,71650,71654,71657,71658,71659,71660,71683,71699,71733,71736,71737,71738,71740,71741,71742,71744,71745,71746,71747,71749,71750,71836,71837,71838,71846,71848,71853,71855,71856,71857,71858,71860,71862,71867,71873,71879,71880,71881,71882,71886,71887,71888,71889,71890,71891,71893,71894,71896,71897,71898,71900,71905,71906,71910,71911,71912,71914,71915,71919,71921,71922,71923,71924,71928,71929,71930,71932,71934,71936,71939,71941,71942,71943,71945,71947,71949,71950,71951,71952,71956,71967,71971,71972,71973,71974,71975,71978,71981,71982,72056,72147,72148,72152,72153,72154,72162,72164,72199,72204,72206,72211,72214,72215,72221,72225,72229,72231,72236,72240,72243,72244,72245,72296,72298,72302,72304,72306,72307,72308,72310,72312,72313,72326,72334,72336,72372,72373,72384,72385,72386,72387,72388,72389,72390,72391,72393,72394,72397,72398,72400,72403,72404,72405,72406,72408,72412,72423,72424,72425,72426,72427,72428,72429,72431,72433
		);
		
		if(in_array($this->getService('User')->getCurrentUserId(), $allow_users)){
			$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT);
			if(!empty($this->view->popup_content)){
				$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
				$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT;
				echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
			}
		}
		*/
		
		/*
		$debt_info = HM_StudentNotification_Agreement_AgreementModel::getFineDebt2($this->getService('User')->getCurrentUserId());
		if(!empty($debt_info)){
			$this->view->fine 		= $debt_info['fine'];
			$this->view->date_to 	= $debt_info['date_to'];
			$this->view->popup_content = $this->renderNotification(HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_2);
			if(!empty($this->view->popup_content)){
				$this->view->popup_title 		= _('Оплата образовательных услуг РГСУ');
				$this->view->notification_type 	= HM_StudentNotification_Agreement_AgreementModel::TYPE_FIN_DEBT_2;
				echo $this->view->render('ajax/notification/wrapper.tpl');
				die;
			}
		}
		*/
		
		# тут можно реализовывать прочие уведомления.
		
		die;
	}
	
	
	private function renderNotification($type, $user_role)
	{
		$type 		= (int)$type;
		$user_id	= (int)$this->getService('User')->getCurrentUserId();

		if(empty($type))	{ return false; }
		if(empty($user_id))	{ return false; }
		
		
		if(!$this->_serviceAgreement) { $this->_serviceAgreement = $this->getService('StudentNotificationAgreement'); }	
		
		if($type != HM_StudentNotification_Agreement_AgreementModel::TYPE_MILITARY_SUBPOENA){
			if($this->_serviceAgreement->hasAgreement($user_id, $type)){

				return false;
			}
		}

        $suffix = '';

        if ($type == 75){
            if ($user_role == HM_Role_RoleModelAbstract::ROLE_STUDENT) {
                $suffix = '_student';
            }else{
                $suffix = '_employee';
            }
        }

        $path = 'ajax/notification/content/type_'.$type.$suffix.'.tpl';

        return $this->view->render($path);
	}
	
	public function saveAgreementAction()
	{
		$type	 	 = (int)$this->_request->getParam('type', false);
		$user_id	 = (int)$this->getService('User')->getCurrentUserId();
		$result      = array();
		$additional  = array();
		
		$allowParams = array(
			'levy',   # Взимают/Не взимают
			'period', # Период
			'external_id', # код записи 1С для ВУС
			'mode',     # Тип нажатой кнопки текстом: Согласен, Вопрос, Ознакомлен
			'question', # Заданный вопрос
			'military_attitude', # Отношение к военной службе
		);
		
		
		if(empty($type))	{ 
			$result['error'] = _('Не задан тип');
			echo Zend_Json::encode($result);
			die;
		}
		
		if(empty($user_id))	{ 
			$result['error'] = _('Авторизуйтесь');
			echo Zend_Json::encode($result);
			die;
		}
		
		foreach($allowParams as $param){
			$value = $this->_request->getParam($param, false);
			if($value === false){ continue; }
			$additional[$param] = trim($value);
		}
		
		$mode     = $this->_request->getParam('mode', false);
		$question = $this->_request->getParam('question', false);
		if( $mode == 'Вопрос' && empty($question) ){
			$result['error'] = _('Задайте вопрос');
			echo Zend_Json::encode($result);
			die;
		}
		
		if( 
			$type == HM_StudentNotification_Agreement_AgreementModel::TYPE_MILITARY_4
			&&
			empty($additional['military_attitude']) 
		){
			$result['error'] = _('Выберите ответ');
			echo Zend_Json::encode($result);
			die;
		}
		
		
		if(!$this->_serviceAgreement) { $this->_serviceAgreement = $this->getService('StudentNotificationAgreement'); }	
		
		if($this->_serviceAgreement->hasAgreement($user_id, $type, $additional)){
			$result['error'] = _('Вы уже подтвердили ранее');
			echo Zend_Json::encode($result);
			die;
		}
		
		
		
		$isAdd = $this->_serviceAgreement->add($user_id, $type, $additional);
		
		
		if( !$isAdd ){
			$result['error'] = _('Не удалось сохранить данные');
			echo Zend_Json::encode($result);
			die;
		}
		
		$result['message'] = _('Данные успешно подтверждены');
		echo Zend_Json::encode($result);
		die;
	}
	
	
	
	
	
	
	
	
	
	
    
    
}